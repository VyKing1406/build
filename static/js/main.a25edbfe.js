/*! For license information please see main.a25edbfe.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=f(n,v);try{u(t,v,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case g:case m:case l:return e;default:return t}}case i:return t}}}function x(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===v)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},868:function(e,t,n){var r=n(215).default,i=n(861).default,a=n(690).default,o=n(728).default,s=n(122).default,l=n(424).default,u=n(416).default,c=["premium","referrerPolicy"];"object"==typeof navigator&&(e.exports=function(){"use strict";function e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={addCSS:!0,thumbWidth:15,watch:!0},m=function(e){return null!=e?e.constructor:null},g=function(e,t){return!!(e&&t&&e instanceof t)},v=function(e){return null==e},y=function(e){return m(e)===Object},b=function(e){return m(e)===String},k=function(e){return Array.isArray(e)},w=function(e){return g(e,NodeList)},x={nullOrUndefined:v,object:y,number:function(e){return m(e)===Number&&!Number.isNaN(e)},string:b,boolean:function(e){return m(e)===Boolean},function:function(e){return m(e)===Function},array:k,nodeList:w,element:function(e){return g(e,Element)},event:function(e){return g(e,Event)},empty:function(e){return v(e)||(b(e)||k(e)||w(e))&&!e.length||y(e)&&!Object.keys(e).length}};function E(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var S=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),x.element(t)?this.element=t:x.string(t)&&(this.element=document.querySelector(t)),x.element(this.element)&&x.empty(this.element.rangeTouch)&&(this.config=h({},p,{},n),this.init())}return function(e,n,r){n&&t(e.prototype,n),r&&t(e,r)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!x.event(t))return null;var n,r=t.target,i=t.changedTouches[0],a=parseFloat(r.getAttribute("min"))||0,o=parseFloat(r.getAttribute("max"))||100,s=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),a+E(n/100*(o-a),s)}},{key:"set",value:function(t){e.enabled&&x.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null;if(x.empty(t)||x.string(t)?r=Array.from(document.querySelectorAll(x.string(t)?t:'input[type="range"]')):x.element(t)?r=[t]:x.nodeList(t)?r=Array.from(t):x.array(t)&&(r=t.filter(x.element)),x.empty(r))return null;var i=h({},p,{},n);if(x.string(t)&&i.watch){var a=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){x.element(n)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(n,t)&&new e(n,i)}))}))}));a.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}(),T=function(e){return null!=e?e.constructor:null},C=function(e,t){return Boolean(e&&t&&e instanceof t)},L=function(e){return null==e},A=function(e){return T(e)===Object},R=function(e){return T(e)===String},P=function(e){return"function"==typeof e},O=function(e){return Array.isArray(e)},_=function(e){return C(e,NodeList)},I=function(e){return L(e)||(R(e)||O(e)||_(e))&&!e.length||A(e)&&!Object.keys(e).length},D={nullOrUndefined:L,object:A,number:function(e){return T(e)===Number&&!Number.isNaN(e)},string:R,boolean:function(e){return T(e)===Boolean},function:P,array:O,weakMap:function(e){return C(e,WeakMap)},nodeList:_,element:function(e){return null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument},textNode:function(e){return T(e)===Text},event:function(e){return C(e,Event)},keyboardEvent:function(e){return C(e,KeyboardEvent)},cue:function(e){return C(e,window.TextTrackCue)||C(e,window.VTTCue)},track:function(e){return C(e,TextTrack)||!L(e)&&R(e.kind)},promise:function(e){return C(e,Promise)&&P(e.then)},url:function(e){if(C(e,window.URL))return!0;if(!R(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!I(new URL(t).hostname)}catch(e){return!1}},empty:I},N=function(){var e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find((function(t){return void 0!==e.style[t]}));return!!D.string(n)&&t[n]}();function M(e,t){setTimeout((function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var F={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function j(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function U(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();return D.object(i)?(Object.keys(i).forEach((function(t){D.object(i[t])?(Object.keys(e).includes(t)||Object.assign(e,u({},t,{})),U(e[t],i[t])):Object.assign(e,u({},t,i[t]))})),U.apply(void 0,[e].concat(n))):e}function B(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach((function(e,n){var r=n>0?t.cloneNode(!0):t,i=e.parentNode,a=e.nextSibling;r.appendChild(e),a?i.insertBefore(r,a):i.appendChild(r)}))}function V(e,t){D.element(e)&&!D.empty(t)&&Object.entries(t).filter((function(e){var t=l(e,2)[1];return!D.nullOrUndefined(t)})).forEach((function(t){var n=l(t,2),r=n[0],i=n[1];return e.setAttribute(r,i)}))}function H(e,t,n){var r=document.createElement(e);return D.object(t)&&V(r,t),D.string(n)&&(r.innerText=n),r}function z(e,t,n,r){D.element(t)&&t.appendChild(H(e,n,r))}function G(e){D.nodeList(e)||D.array(e)?Array.from(e).forEach(G):D.element(e)&&D.element(e.parentNode)&&e.parentNode.removeChild(e)}function q(e){if(D.element(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function K(e,t){return D.element(t)&&D.element(t.parentNode)&&D.element(e)?(t.parentNode.replaceChild(e,t),e):null}function W(e,t){if(!D.string(e)||D.empty(e))return{};var n={},r=U({},t);return e.split(",").forEach((function(e){var t=e.trim(),i=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),o=l(a,1)[0],s=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":D.string(r.class)?n.class="".concat(r.class," ").concat(i):n.class=i;break;case"#":n.id=t.replace("#","");break;case"[":n[o]=s}})),U(r,n)}function Y(e,t){if(D.element(e)){var n=t;D.boolean(n)||(n=!e.hidden),e.hidden=n}}function $(e,t,n){if(D.nodeList(e))return Array.from(e).map((function(e){return $(e,t,n)}));if(D.element(e)){var r="toggle";return void 0!==n&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function X(e,t){return D.element(e)&&e.classList.contains(t)}function Q(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function Z(e){return this.elements.container.querySelectorAll(e)}function J(e){return this.elements.container.querySelector(e)}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];D.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}var te={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ne={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t){var n=ne[e]||"html5"!==t;return{api:n,ui:n&&ne.rangeInput}},pip:!(F.isIPhone||!D.function(H("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||H("video").disablePictureInPicture)),airplay:D.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(D.empty(e))return!1;var t=e.split("/"),n=l(t,1)[0],r=e;if(!this.isHTML5||n!==this.type)return!1;Object.keys(te).includes(r)&&(r+='; codecs="'.concat(te[e],'"'));try{return Boolean(r&&this.media.canPlayType(r).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:function(){var e=document.createElement("input");return e.type="range","range"===e.type}(),touch:"ontouchstart"in document.documentElement,transitions:!1!==N,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},re=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function ie(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!D.empty(t)&&D.function(n)){var s=t.split(" "),l=o;re&&(l={passive:a,capture:o}),s.forEach((function(t){r&&r.eventListeners&&i&&r.eventListeners.push({element:e,type:t,callback:n,options:l}),e[i?"addEventListener":"removeEventListener"](t,n,l)}))}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ie.call(this,e,t,n,!0,r,i)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ie.call(this,e,t,n,!1,r,i)}function se(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function o(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];oe(e,n,o,i,a),r.apply(t,l)};ie.call(this,e,n,o,!0,i,a)}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(D.element(e)&&!D.empty(t)){var i=new CustomEvent(t,{bubbles:n,detail:s(s({},r),{},{plyr:this})});e.dispatchEvent(i)}}function ue(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.type,r=e.callback,i=e.options;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function ce(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):ae.call(e,e.elements.container,"ready",t)})).then((function(){}))}function de(e){D.promise(e)&&e.then(null,(function(){}))}function fe(e){return D.array(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function he(e,t){return D.array(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}function pe(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}var me=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return s(s({},e),{},u({},r/i,[r,i]))}),{});function ge(e){return!!(D.array(e)||D.string(e)&&e.includes(":"))&&(D.array(e)?e:e.split(":")).map(Number).every(D.number)}function ve(e){if(!D.array(e)||!e.every(D.number))return null;var t=l(e,2),n=t[0],r=t[1],i=function e(t,n){return 0===n?t:e(n,t%n)},a=i(n,r);return[n/a,r/a]}function ye(e){var t=function(e){return ge(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!D.empty(this.embed)&&D.array(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var r=this.media;n=[r.videoWidth,r.videoHeight]}return ve(n)}function be(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=ye.call(this,e);if(!D.array(n))return{};var r=ve(n),i=l(r,2),a=i[0],o=i[1],s=100/a*o;if(pe("aspect-ratio: ".concat(a,"/").concat(o))?t.style.aspectRatio="".concat(a,"/").concat(o):t.style.paddingBottom="".concat(s,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var u=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),c=(u-s)/(u/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(c,"%)")}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:s,ratio:n}}function ke(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05,r=e/t,i=he(Object.keys(me),r);return Math.abs(i-r)<=n?me[i]:[e,t]}var we={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!D.empty(n)||ne.mime.call(e,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:we.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,D.empty(this.config.ratio)||be.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=we.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&D.function(e.config.quality.onChange))e.config.quality.onChange(t);else{var n=we.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!n)return;var r=e.media,i=r.currentTime,a=r.paused,o=r.preload,s=r.readyState,l=r.playbackRate;e.media.src=n.getAttribute("src"),("none"!==o||s)&&(e.once("loadedmetadata",(function(){e.speed=l,e.currentTime=i,a||de(e.play())})),e.media.load())}le.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(G(we.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return D.empty(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}var Ee=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString())},Se=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}))};function Te(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=Ee(e,"-"," "),e=Ee(e,"_"," "),e=Se(e),Ee(e," ","")}(e),e.charAt(0).toLowerCase()+e.slice(1)}function Ce(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var Le={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Ae={get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(D.empty(e)||D.empty(t))return"";var n=j(t.i18n,e);if(D.empty(n))return Object.keys(Le).includes(e)?Le[e]:"";var r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((function(e){var t=l(e,2),r=t[0],i=t[1];n=Ee(n,r,i)})),n}},Re=function(){function t(n){var r=this;a(this,t),e(this,"get",(function(e){if(!t.supported||!r.enabled)return null;var n=window.localStorage.getItem(r.key);if(D.empty(n))return null;var i=JSON.parse(n);return D.string(e)&&e.length?i[e]:i})),e(this,"set",(function(e){if(t.supported&&r.enabled&&D.object(e)){var n=r.get();D.empty(n)&&(n={}),U(n,e);try{window.localStorage.setItem(r.key,JSON.stringify(n))}catch(e){}}})),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return o(t,null,[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(e){return!1}}}]),t}();function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,r){try{var i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(i.responseText))}catch(e){n(i.responseText)}else n(i.response)})),i.addEventListener("error",(function(){throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(e){r(e)}}))}function Oe(e,t){if(D.string(e)){var n="cache",r=D.string(t),i=function(){return null!==document.getElementById(t)},a=function(e,t){e.innerHTML=t,r&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!r||!i()){var o=Re.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),r&&s.setAttribute("id",t),o){var l=window.localStorage.getItem("".concat(n,"-").concat(t));if(null!==l){var u=JSON.parse(l);a(s,u.content)}}Pe(e).then((function(e){if(!D.empty(e)){if(o)try{window.localStorage.setItem("".concat(n,"-").concat(t),JSON.stringify({content:e}))}catch(e){}a(s,e)}})).catch((function(){}))}}}var _e=function(e){return Math.trunc(e/60/60%60,10)},Ie=function(e){return Math.trunc(e/60%60,10)},De=function(e){return Math.trunc(e%60,10)};function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!D.number(e))return Ne(void 0,t,n);var r=function(e){return"0".concat(e).slice(-2)},i=_e(e),a=Ie(e),o=De(e);return i=t||i>0?"".concat(i,":"):"","".concat(n&&e>0?"-":"").concat(i).concat(r(a),":").concat(r(o))}var Me={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||F.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements:function(){try{return this.elements.controls=J.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Z.call(this,this.config.selectors.buttons.play),pause:J.call(this,this.config.selectors.buttons.pause),restart:J.call(this,this.config.selectors.buttons.restart),rewind:J.call(this,this.config.selectors.buttons.rewind),fastForward:J.call(this,this.config.selectors.buttons.fastForward),mute:J.call(this,this.config.selectors.buttons.mute),pip:J.call(this,this.config.selectors.buttons.pip),airplay:J.call(this,this.config.selectors.buttons.airplay),settings:J.call(this,this.config.selectors.buttons.settings),captions:J.call(this,this.config.selectors.buttons.captions),fullscreen:J.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=J.call(this,this.config.selectors.progress),this.elements.inputs={seek:J.call(this,this.config.selectors.inputs.seek),volume:J.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:J.call(this,this.config.selectors.display.buffer),currentTime:J.call(this,this.config.selectors.display.currentTime),duration:J.call(this,this.config.selectors.display.duration)},D.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n="http://www.w3.org/2000/svg",r=Me.getIconUrl.call(this),i="".concat(r.cors?"":r.url,"#").concat(this.config.iconPrefix),a=document.createElementNS(n,"svg");V(a,U(t,{"aria-hidden":"true",focusable:"false"}));var o=document.createElementNS(n,"use"),s="".concat(i,"-").concat(e);return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),a.appendChild(o),a},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ae.get(e,this.config);return H("span",s(s({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(e){if(D.empty(e))return null;var t=H("span",{class:this.config.classNames.menu.value});return t.appendChild(H("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,r=U({},t),i=Te(e),a={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(r).includes(e)&&(a[e]=r[e],delete r[e])})),"button"!==a.element||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some((function(e){return e===n.config.classNames.control}))||U(r,{class:"".concat(r.class," ").concat(this.config.classNames.control)}):r.class=this.config.classNames.control,e){case"play":a.toggle=!0,a.label="play",a.labelPressed="pause",a.icon="play",a.iconPressed="pause";break;case"mute":a.toggle=!0,a.label="mute",a.labelPressed="unmute",a.icon="volume",a.iconPressed="muted";break;case"captions":a.toggle=!0,a.label="enableCaptions",a.labelPressed="disableCaptions",a.icon="captions-off",a.iconPressed="captions-on";break;case"fullscreen":a.toggle=!0,a.label="enterFullscreen",a.labelPressed="exitFullscreen",a.icon="enter-fullscreen",a.iconPressed="exit-fullscreen";break;case"play-large":r.class+=" ".concat(this.config.classNames.control,"--overlaid"),i="play",a.label="play",a.icon="play";break;default:D.empty(a.label)&&(a.label=i),D.empty(a.icon)&&(a.icon=e)}var o=H(a.element);return a.toggle?(o.appendChild(Me.createIcon.call(this,a.iconPressed,{class:"icon--pressed"})),o.appendChild(Me.createIcon.call(this,a.icon,{class:"icon--not-pressed"})),o.appendChild(Me.createLabel.call(this,a.labelPressed,{class:"label--pressed"})),o.appendChild(Me.createLabel.call(this,a.label,{class:"label--not-pressed"}))):(o.appendChild(Me.createIcon.call(this,a.icon)),o.appendChild(Me.createLabel.call(this,a.label))),U(r,W(this.config.selectors.buttons[i],r)),V(o,r),"play"===i?(D.array(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(o)):this.elements.buttons[i]=o,o},createRange:function(e,t){var n=H("input",U(W(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Ae.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Me.updateRangeFill.call(this,n),S.setup(n),n},createProgress:function(e,t){var n=H("progress",U(W(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(H("span",null,"0"));var r={played:"played",buffer:"buffered"}[e],i=r?Ae.get(r,this.config):"";n.innerText="% ".concat(i.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=W(this.config.selectors.display[e],t),r=H("div",U(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Ae.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts:function(e,t){var n=this;ae.call(this,e,"keydown keyup",(function(r){if([" ","ArrowUp","ArrowDown","ArrowRight"].includes(r.key)&&(r.preventDefault(),r.stopPropagation(),"keydown"!==r.type)){var i,a=Q(e,'[role="menuitemradio"]');!a&&[" ","ArrowRight"].includes(r.key)?Me.showMenuPanel.call(n,t,!0):" "!==r.key&&("ArrowDown"===r.key||a&&"ArrowRight"===r.key?(i=e.nextElementSibling,D.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,D.element(i)||(i=e.parentNode.lastElementChild)),ee.call(n,i,!0))}}),!1),ae.call(this,e,"keyup",(function(e){"Return"===e.key&&Me.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,r=e.list,i=e.type,a=e.title,o=e.badge,s=void 0===o?null:o,l=e.checked,u=void 0!==l&&l,c=W(this.config.selectors.inputs[i]),d=H("button",U(c,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(c.class?c.class:"").trim(),"aria-checked":u,value:n})),f=H("span");f.innerHTML=a,D.element(s)&&f.appendChild(s),d.appendChild(f),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return Q(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!D.keyboardEvent(e)||" "===e.key){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,i){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}Me.showMenuPanel.call(t,"home",D.keyboardEvent(e))}}),i,!1),Me.bindMenuItemShortcuts.call(this,d,i),r.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return D.number(e)?Ne(e,_e(this.duration)>0,t):e},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];D.element(e)&&D.number(t)&&(e.innerText=Me.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(D.element(this.elements.inputs.volume)&&Me.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),D.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;D.element(e)&&(e.value=t,Me.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&D.event(e)){var n,r,i=0,a=function(e,n){var r=D.number(n)?n:0,i=D.element(e)?e:t.elements.display.buffer;if(D.element(i)){i.value=r;var a=i.getElementsByTagName("span")[0];D.element(a)&&(a.childNodes[0].nodeValue=r)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,r=this.duration,i=0===n||0===r||Number.isNaN(n)||Number.isNaN(r)?0:(n/r*100).toFixed(2),"timeupdate"===e.type&&Me.setRange.call(this,this.elements.inputs.seek,i);break;case"playing":case"progress":a(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=D.event(e)?e.target:e;if(D.element(t)&&"range"===t.getAttribute("type")){if(Q(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=Me.formatTime(this.currentTime),r=Me.formatTime(this.duration),i=Ae.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(Q(t,this.config.selectors.inputs.volume)){var a=100*t.value;t.setAttribute("aria-valuenow",a),t.setAttribute("aria-valuetext","".concat(a.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);(F.isWebKit||F.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip:function(e){var t,n;if(this.config.tooltips.seek&&D.element(this.elements.inputs.seek)&&D.element(this.elements.display.seekTooltip)&&0!==this.duration){var r=this.elements.display.seekTooltip,i="".concat(this.config.classNames.tooltip,"--visible"),a=function(e){return $(r,i,e)};if(this.touch)a(!1);else{var o=0,s=this.elements.progress.getBoundingClientRect();if(D.event(e))o=100/s.width*(e.pageX-s.left);else{if(!X(r,i))return;o=parseFloat(r.style.left,10)}o<0?o=0:o>100&&(o=100);var l=this.duration/100*o;r.innerText=Me.formatTime(l);var u=null===(t=this.config.markers)||void 0===t||null===(n=t.points)||void 0===n?void 0:n.find((function(e){return e.time===Math.round(l)}));u&&r.insertAdjacentHTML("afterbegin","".concat(u.label,"<br>")),r.style.left="".concat(o,"%"),D.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!D.element(this.elements.display.duration)&&this.config.invertTime;Me.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Me.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return Y(this.elements.display.currentTime,!0),void Y(this.elements.progress,!0);D.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=D.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Me.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Me.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Me.setMarkers.call(this),Me.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){Y(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var r=this.elements.settings.panels[e],i=null,a=t;if("captions"===e)i=this.currentTrack;else{if(i=D.empty(n)?this[e]:n,D.empty(i)&&(i=this.config[e].default),!D.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn("Unsupported value of '".concat(i,"' for ").concat(e));if(!this.config[e].options.includes(i))return void this.debug.warn("Disabled value of '".concat(i,"' for ").concat(e))}if(D.element(a)||(a=r&&r.querySelector('[role="menu"]')),D.element(a)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Me.getLabel.call(this,e,i);var o=a&&a.querySelector('[value="'.concat(i,'"]'));D.element(o)&&(o.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Ae.get("normal",this.config):"".concat(t,"&times;");case"quality":if(D.number(t)){var n=Ae.get("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return Se(t);case"captions":return Ue.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(D.element(this.elements.settings.panels.quality)){var n="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');D.array(e)&&(this.options.quality=fe(e).filter((function(e){return t.config.quality.options.includes(e)})));var i=!D.empty(this.options.quality)&&this.options.quality.length>1;if(Me.toggleMenuButton.call(this,n,i),q(r),Me.checkMenu.call(this),i){var a=function(e){var n=Ae.get("qualityBadge.".concat(e),t.config);return n.length?Me.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var r=t.config.quality.options;return r.indexOf(e)>r.indexOf(n)?1:-1})).forEach((function(e){Me.createMenuItem.call(t,{value:e,list:r,type:n,title:Me.getLabel.call(t,"quality",e),badge:a(e)})})),Me.updateSetting.call(this,n,r)}}},setCaptionsMenu:function(){var e=this;if(D.element(this.elements.settings.panels.captions)){var t="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=Ue.getTracks.call(this),i=Boolean(r.length);if(Me.toggleMenuButton.call(this,t,i),q(n),Me.checkMenu.call(this),i){var a=r.map((function(t,r){return{value:r,checked:e.captions.toggled&&e.currentTrack===r,title:Ue.getLabel.call(e,t),badge:t.language&&Me.createBadge.call(e,t.language.toUpperCase()),list:n,type:"language"}}));a.unshift({value:-1,checked:!this.captions.toggled,title:Ae.get("disabled",this.config),list:n,type:"language"}),a.forEach(Me.createMenuItem.bind(this)),Me.updateSetting.call(this,t,n)}}},setSpeedMenu:function(){var e=this;if(D.element(this.elements.settings.panels.speed)){var t="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var r=!D.empty(this.options.speed)&&this.options.speed.length>1;Me.toggleMenuButton.call(this,t,r),q(n),Me.checkMenu.call(this),r&&(this.options.speed.forEach((function(r){Me.createMenuItem.call(e,{value:r,list:n,type:t,title:Me.getLabel.call(e,"speed",r)})})),Me.updateSetting.call(this,t,n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!D.empty(e)&&Object.values(e).some((function(e){return!e.hidden}));Y(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;D.element(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var r=n.querySelector('[role^="menuitem"]');ee.call(this,r,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(D.element(t)&&D.element(n)){var r=t.hidden,i=r;if(D.boolean(e))i=e;else if(D.keyboardEvent(e)&&"Escape"===e.key)i=!1;else if(D.event(e)){var a=D.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(a);if(o||!o&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),Y(t,!i),$(this.elements.container,this.config.classNames.menu.open,i),i&&D.keyboardEvent(e)?Me.focusFirstMenuItem.call(this,null,!0):i||r||ee.call(this,n,D.keyboardEvent(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,r=t.scrollHeight;return G(t),{width:n,height:r}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(D.element(r)){var i=r.parentNode,a=Array.from(i.children).find((function(e){return!e.hidden}));if(ne.transitions&&!ne.reducedMotion){i.style.width="".concat(a.scrollWidth,"px"),i.style.height="".concat(a.scrollHeight,"px");var o=Me.getMenuSize.call(this,r),s=function t(n){n.target===i&&["width","height"].includes(n.propertyName)&&(i.style.width="",i.style.height="",oe.call(e,i,N,t))};ae.call(this,i,N,s),i.style.width="".concat(o.width,"px"),i.style.height="".concat(o.height,"px")}Y(a,!0),Y(r,!1),Me.focusFirstMenuItem.call(this,r,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;D.element(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=Me.bindMenuItemShortcuts,r=Me.createButton,i=Me.createProgress,a=Me.createRange,o=Me.createTime,s=Me.setQualityMenu,l=Me.setSpeedMenu,u=Me.showMenuPanel;this.elements.controls=null,D.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));var c=H("div",W(this.config.selectors.controls.wrapper));this.elements.controls=c;var d={class:"plyr__controls__item"};return fe(D.array(this.config.controls)?this.config.controls:[]).forEach((function(s){if("restart"===s&&c.appendChild(r.call(t,"restart",d)),"rewind"===s&&c.appendChild(r.call(t,"rewind",d)),"play"===s&&c.appendChild(r.call(t,"play",d)),"fast-forward"===s&&c.appendChild(r.call(t,"fast-forward",d)),"progress"===s){var l=H("div",{class:"".concat(d.class," plyr__progress__container")}),f=H("div",W(t.config.selectors.progress));if(f.appendChild(a.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),f.appendChild(i.call(t,"buffer")),t.config.tooltips.seek){var h=H("span",{class:t.config.classNames.tooltip},"00:00");f.appendChild(h),t.elements.display.seekTooltip=h}t.elements.progress=f,l.appendChild(t.elements.progress),c.appendChild(l)}if("current-time"===s&&c.appendChild(o.call(t,"currentTime",d)),"duration"===s&&c.appendChild(o.call(t,"duration",d)),"mute"===s||"volume"===s){var p=t.elements.volume;if(D.element(p)&&c.contains(p)||(p=H("div",U({},d,{class:"".concat(d.class," plyr__volume").trim()})),t.elements.volume=p,c.appendChild(p)),"mute"===s&&p.appendChild(r.call(t,"mute")),"volume"===s&&!F.isIos&&!F.isIPadOS){var m={max:1,step:.05,value:t.config.volume};p.appendChild(a.call(t,"volume",U(m,{id:"plyr-volume-".concat(e.id)})))}}if("captions"===s&&c.appendChild(r.call(t,"captions",d)),"settings"===s&&!D.empty(t.config.settings)){var g=H("div",U({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));g.appendChild(r.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var v=H("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=H("div"),b=H("div",{id:"plyr-settings-".concat(e.id,"-home")}),k=H("div",{role:"menu"});b.appendChild(k),y.appendChild(b),t.elements.settings.panels.home=b,t.config.settings.forEach((function(r){var i=H("button",U(W(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,i,r),ae.call(t,i,"click",(function(){u.call(t,r,!1)}));var a=H("span",null,Ae.get(r,t.config)),o=H("span",{class:t.config.classNames.menu.value});o.innerHTML=e[r],a.appendChild(o),i.appendChild(a),k.appendChild(i);var s=H("div",{id:"plyr-settings-".concat(e.id,"-").concat(r),hidden:""}),l=H("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});l.appendChild(H("span",{"aria-hidden":!0},Ae.get(r,t.config))),l.appendChild(H("span",{class:t.config.classNames.hidden},Ae.get("menuBack",t.config))),ae.call(t,s,"keydown",(function(e){"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),u.call(t,"home",!0))}),!1),ae.call(t,l,"click",(function(){u.call(t,"home",!1)})),s.appendChild(l),s.appendChild(H("div",{role:"menu"})),y.appendChild(s),t.elements.settings.buttons[r]=i,t.elements.settings.panels[r]=s})),v.appendChild(y),g.appendChild(v),c.appendChild(g),t.elements.settings.popup=v,t.elements.settings.menu=g}if("pip"===s&&ne.pip&&c.appendChild(r.call(t,"pip",d)),"airplay"===s&&ne.airplay&&c.appendChild(r.call(t,"airplay",d)),"download"===s){var w=U({},d,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(w.download="");var x=t.config.urls.download;!D.url(x)&&t.isEmbed&&U(w,{icon:"logo-".concat(t.provider),label:t.provider}),c.appendChild(r.call(t,"download",w))}"fullscreen"===s&&c.appendChild(r.call(t,"fullscreen",d))})),this.isHTML5&&s.call(this,we.getQualityOptions.call(this)),l.call(this),c},inject:function(){var e=this;if(this.config.loadSprite){var t=Me.getIconUrl.call(this);t.cors&&Oe(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var r,i={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(D.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,i)),this.config.controls||(this.config.controls=[]),D.element(this.config.controls)||D.string(this.config.controls)?n=this.config.controls:(n=Me.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ue.getLabel.call(this)}),a=!1),a&&D.string(this.config.controls)&&(n=function(e){var t=e;return Object.entries(i).forEach((function(e){var n=l(e,2),r=n[0],i=n[1];t=Ee(t,"{".concat(r,"}"),i)})),t}(n)),D.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),D.element(r)||(r=this.elements.container),r[D.element(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),D.element(this.elements.controls)||Me.findElements.call(this),!D.empty(this.elements.buttons)){var o=function(t){var n=e.config.classNames.controlPressed;t.setAttribute("aria-pressed","false"),Object.defineProperty(t,"pressed",{configurable:!0,enumerable:!0,get:function(){return X(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$(t,n,e),t.setAttribute("aria-pressed",e?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){D.array(e)||D.nodeList(e)?Array.from(e).filter(Boolean).forEach(o):o(e)}))}if(F.isEdge&&M(r),this.config.tooltips.controls){var s=this.config,u=s.classNames,c=s.selectors,d="".concat(c.controls.wrapper," ").concat(c.labels," .").concat(u.hidden),f=Z.call(this,d);Array.from(f).forEach((function(t){$(t,e.config.classNames.hidden,!1),$(t,e.config.classNames.tooltip,!0)}))}},setMediaMetadata:function(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers:function(){var e,t,n=this;if(this.duration&&!this.elements.markers){var r=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((function(e){var t=e.time;return t>0&&t<n.duration}));if(null!=r&&r.length){var i=document.createDocumentFragment(),a=document.createDocumentFragment(),o=null,s="".concat(this.config.classNames.tooltip,"--visible"),l=function(e){return $(o,s,e)};r.forEach((function(e){var t=H("span",{class:n.config.classNames.marker},""),r=e.time/n.duration*100+"%";o&&(t.addEventListener("mouseenter",(function(){e.label||(o.style.left=r,o.innerHTML=e.label,l(!0))})),t.addEventListener("mouseleave",(function(){l(!1)}))),t.addEventListener("click",(function(){n.currentTime=e.time})),t.style.left=r,a.appendChild(t)})),i.appendChild(a),this.config.tooltips.seek||(o=H("span",{class:this.config.classNames.tooltip},""),i.appendChild(o)),this.elements.markers={points:a,tip:o},this.elements.progress.appendChild(i)}}}};function Fe(e){var t=e;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=document.createElement("a");n.href=t,t=n.href}try{return new URL(t)}catch(e){return null}}function je(e){var t=new URLSearchParams;return D.object(e)&&Object.entries(e).forEach((function(e){var n=l(e,2),r=n[0],i=n[1];t.set(r,i)})),t}var Ue={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!ne.textTracks)D.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Me.setCaptionsMenu.call(this);else{var e,t;if(D.element(this.elements.captions)||(this.elements.captions=H("div",W(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,D.element(e)&&D.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),F.isIE&&window.URL){var n=this.media.querySelectorAll("track");Array.from(n).forEach((function(e){var t=e.getAttribute("src"),n=Fe(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&Pe(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){G(e)}))}))}var r=fe((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&(i=l(r,1)[0]);var a=this.storage.get("captions");if(D.boolean(a)||(a=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:a,language:i,languages:r}),this.isHTML5){var o=this.config.captions.update?"addtrack removetrack":"removetrack";ae.call(this,this.media.textTracks,o,Ue.update.bind(this))}setTimeout(Ue.update.bind(this),0)}},update:function(){var e=this,t=Ue.getTracks.call(this,!0),n=this.captions,r=n.active,i=n.language,a=n.meta,o=n.currentTrackNode,s=Boolean(t.find((function(e){return e.language===i})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!a.get(e)})).forEach((function(t){e.debug.log("Track added",t),a.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),ae.call(e,t,"cuechange",(function(){return Ue.updateCues.call(e)}))})),(s&&this.language!==i||!t.includes(o))&&(Ue.setLanguage.call(this,i),Ue.toggle.call(this,r&&s)),this.elements&&$(this.elements.container,this.config.classNames.captions.enabled,!D.empty(t)),D.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Me.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var r=this.captions.toggled,a=this.config.classNames.captions.active,o=D.nullOrUndefined(e)?!r:e;if(o!==r){if(n||(this.captions.active=o,this.storage.set({captions:o})),!this.language&&o&&!n){var s=Ue.getTracks.call(this),l=Ue.findTrack.call(this,[this.captions.language].concat(i(this.captions.languages)),!0);return this.captions.language=l.language,void Ue.set.call(this,s.indexOf(l))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=o),$(this.elements.container,a,o),this.captions.toggled=o,Me.updateSetting.call(this,"captions"),le.call(this,this.media,o?"captionsenabled":"captionsdisabled")}setTimeout((function(){o&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")}))}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Ue.getTracks.call(this);if(-1!==e)if(D.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var r=n[e],i=(r||{}).language;this.captions.currentTrackNode=r,Me.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),le.call(this,this.media,"languagechange")}Ue.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Ue.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Ue.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(D.string(e)){var n=e.toLowerCase();this.captions.language=n;var r=Ue.getTracks.call(this),i=Ue.findTrack.call(this,[n]);Ue.set.call(this,r.indexOf(i),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Ue.getTracks.call(this),a=function(e){return Number((n.captions.meta.get(e)||{}).default)},o=Array.from(i).sort((function(e,t){return a(t)-a(e)}));return e.every((function(e){return t=o.find((function(t){return t.language===e})),!t})),t||(r?o[0]:void 0)},getCurrentTrack:function(){return Ue.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!D.track(t)&&ne.textTracks&&this.captions.toggled&&(t=Ue.getCurrentTrack.call(this)),D.track(t)?D.empty(t.label)?D.empty(t.language)?Ae.get("enabled",this.config):e.language.toUpperCase():t.label:Ae.get("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(D.element(this.elements.captions))if(D.nullOrUndefined(e)||Array.isArray(e)){var t=e;if(!t){var n=Ue.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(Ce)}var r=t.map((function(e){return e.trim()})).join("\n");if(r!==this.elements.captions.innerHTML){q(this.elements.captions);var i=H("span",W(this.config.selectors.caption));i.innerHTML=r,this.elements.captions.appendChild(i),le.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},Be={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Ve="picture-in-picture",He="inline",ze={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Ge="audio",qe="video",Ke=function(){},We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(this,e),this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}return o(e,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):Ke}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):Ke}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):Ke}}]),e}(),Ye=function(){function t(n){var r=this;a(this,t),e(this,"onChange",(function(){if(r.supported){var e=r.player.elements.buttons.fullscreen;D.element(e)&&(e.pressed=r.active);var t=r.target===r.player.media?r.target:r.player.elements.container;le.call(r.player,t,r.active?"enterfullscreen":"exitfullscreen",!0)}})),e(this,"toggleFallback",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n?r.scrollPosition={x:null!==(e=window.scrollX)&&void 0!==e?e:0,y:null!==(t=window.scrollY)&&void 0!==t?t:0}:window.scrollTo(r.scrollPosition.x,r.scrollPosition.y),document.body.style.overflow=n?"hidden":"",$(r.target,r.player.config.classNames.fullscreen.fallback,n),F.isIos){var i=document.head.querySelector('meta[name="viewport"]'),a="viewport-fit=cover";i||(i=document.createElement("meta")).setAttribute("name","viewport");var o=D.string(i.content)&&i.content.includes(a);n?(r.cleanupViewport=!o,o||(i.content+=",".concat(a))):r.cleanupViewport&&(i.content=i.content.split(",").filter((function(e){return e.trim()!==a})).join(","))}r.onChange()})),e(this,"trapFocus",(function(e){if(!F.isIos&&!F.isIPadOS&&r.active&&"Tab"===e.key){var t=document.activeElement,n=Z.call(r.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=l(n,1)[0],a=n[n.length-1];t!==a||e.shiftKey?t===i&&e.shiftKey&&(a.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}})),e(this,"update",(function(){var e;r.supported?(e=r.forceFallback?"Fallback (forced)":t.nativeSupported?"Native":"Fallback",r.player.debug.log("".concat(e," fullscreen enabled"))):r.player.debug.log("Fullscreen not supported and fallback disabled"),$(r.player.elements.container,r.player.config.classNames.fullscreen.enabled,r.supported)})),e(this,"enter",(function(){r.supported&&(F.isIos&&r.player.config.fullscreen.iosNative?r.player.isVimeo?r.player.embed.requestFullscreen():r.target.webkitEnterFullscreen():!t.nativeSupported||r.forceFallback?r.toggleFallback(!0):r.prefix?D.empty(r.prefix)||r.target["".concat(r.prefix,"Request").concat(r.property)]():r.target.requestFullscreen({navigationUI:"hide"}))})),e(this,"exit",(function(){if(r.supported)if(F.isIos&&r.player.config.fullscreen.iosNative)r.player.isVimeo?r.player.embed.exitFullscreen():r.target.webkitEnterFullscreen(),de(r.player.play());else if(!t.nativeSupported||r.forceFallback)r.toggleFallback(!1);else if(r.prefix){if(!D.empty(r.prefix)){var e="moz"===r.prefix?"Cancel":"Exit";document["".concat(r.prefix).concat(e).concat(r.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),e(this,"toggle",(function(){r.active?r.exit():r.enter()})),this.player=n,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,this.player.elements.fullscreen=n.config.fullscreen.container&&function(e,t){return(Element.prototype.closest||function(){var e=this;do{if(Q.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,n.config.fullscreen.container),ae.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){r.onChange()})),ae.call(this.player,this.player.elements.container,"dblclick",(function(e){D.element(r.player.elements.controls)&&r.player.elements.controls.contains(e.target)||r.player.listeners.proxy(e,r.toggle,"fullscreen")})),ae.call(this,this.player.elements.container,"keydown",(function(e){return r.trapFocus(e)})),this.update()}return o(t,[{key:"useNative",get:function(){return t.nativeSupported&&!this.forceFallback}},{key:"supported",get:function(){return[this.player.config.fullscreen.enabled,this.player.isVideo,t.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||t.nativeSupported||!F.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}},{key:"active",get:function(){if(!this.supported)return!1;if(!t.nativeSupported||this.forceFallback)return X(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?this.target.getRootNode()["".concat(this.prefix).concat(this.property,"Element")]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){var e;return F.isIos&&this.player.config.fullscreen.iosNative?this.player.media:null!==(e=this.player.elements.fullscreen)&&void 0!==e?e:this.player.elements.container}}],[{key:"nativeSupported",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(D.function(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!D.function(document["".concat(t,"ExitFullscreen")])&&!D.function(document["".concat(t,"CancelFullScreen")]))&&(e=t,!0)})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,r){var i=new Image,a=function(){delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:a,onerror:a,src:e})}))}var Xe={addStyleHook:function(){$(this.elements.container,this.config.selectors.container.replace(".",""),!0),$(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Xe.toggleNativeControls.call(this,!0);D.element(this.elements.controls)||(Me.inject.call(this),this.listeners.controls()),Xe.toggleNativeControls.call(this),this.isHTML5&&Ue.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Me.updateVolume.call(this),Me.timeUpdate.call(this),Me.durationUpdate.call(this),Xe.checkPlaying.call(this),$(this.elements.container,this.config.classNames.pip.supported,ne.pip&&this.isHTML5&&this.isVideo),$(this.elements.container,this.config.classNames.airplay.supported,ne.airplay&&this.isHTML5),$(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){le.call(e,e.media,"ready")}),0),Xe.setTitle.call(this),this.poster&&Xe.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&Me.durationUpdate.call(this),this.config.mediaMetadata&&Me.setMediaMetadata.call(this)},setTitle:function(){var e=Ae.get("play",this.config);if(D.string(this.config.title)&&!D.empty(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=J.call(this,"iframe");if(!D.element(t))return;var n=D.empty(this.config.title)?"video":this.config.title,r=Ae.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster:function(e){$(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),ce.call(this).then((function(){return $e(e)})).catch((function(n){throw e===t.poster&&Xe.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),Xe.togglePoster.call(t,!0),e}))):Promise.reject(new Error("Poster already set"))},checkPlaying:function(e){var t=this;$(this.elements.container,this.config.classNames.playing,this.playing),$(this.elements.container,this.config.classNames.paused,this.paused),$(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",Ae.get(t.playing?"pause":"play",t.config))})),D.event(e)&&"timeupdate"===e.type||Xe.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){$(t.elements.container,t.config.classNames.loading,t.loading),Xe.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles:function(){var e=this;Object.values(s({},this.media.style)).filter((function(e){return!D.empty(e)&&D.string(e)&&e.startsWith("--plyr")})).forEach((function(t){e.elements.container.style.setProperty(t,e.media.style.getPropertyValue(t)),e.media.style.removeProperty(t)})),D.empty(this.media.style)&&this.media.removeAttribute("style")}},Qe=function(){function t(n){var r=this;a(this,t),e(this,"firstTouch",(function(){var e=r.player,t=e.elements;e.touch=!0,$(t.container,e.config.classNames.isTouch,!0)})),e(this,"global",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.player;t.config.keyboard.global&&ie.call(t,window,"keydown keyup",r.handleKey,e,!1),ie.call(t,document.body,"click",r.toggleMenu,e),se.call(t,document.body,"touchstart",r.firstTouch)})),e(this,"container",(function(){var e=r.player,t=e.config,n=e.elements,i=e.timers;!t.keyboard.global&&t.keyboard.focused&&ae.call(e,n.container,"keydown keyup",r.handleKey,!1),ae.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var r=n.controls;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);var a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Xe.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((function(){return Xe.toggleControls.call(e,!1)}),a)}));var a=function(){if(e.isVimeo&&!e.config.vimeo.premium){var t=n.wrapper,r=e.fullscreen.active,i=ye.call(e),a=l(i,2),o=a[0],s=a[1],u=pe("aspect-ratio: ".concat(o," / ").concat(s));if(r){var c=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],d=c[0],f=c[1],h=d/f>o/s;u?(t.style.width=h?"auto":"100%",t.style.height=h?"100%":"auto"):(t.style.maxWidth=h?f/s*o+"px":null,t.style.margin=h?"0 auto":null)}else u?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null)}},o=function(){clearTimeout(i.resized),i.resized=setTimeout(a,50)};ae.call(e,n.container,"enterfullscreen exitfullscreen",(function(t){e.fullscreen.target===n.container&&(!e.isEmbed&&D.empty(e.config.ratio)||(a(),("enterfullscreen"===t.type?ae:oe).call(e,window,"resize",o)))}))})),e(this,"media",(function(){var e=r.player,t=e.elements;if(ae.call(e,e.media,"timeupdate seeking seeked",(function(t){return Me.timeUpdate.call(e,t)})),ae.call(e,e.media,"durationchange loadeddata loadedmetadata",(function(t){return Me.durationUpdate.call(e,t)})),ae.call(e,e.media,"ended",(function(){e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),ae.call(e,e.media,"progress playing seeking seeked",(function(t){return Me.updateProgress.call(e,t)})),ae.call(e,e.media,"volumechange",(function(t){return Me.updateVolume.call(e,t)})),ae.call(e,e.media,"playing play pause ended emptied timeupdate",(function(t){return Xe.checkPlaying.call(e,t)})),ae.call(e,e.media,"waiting canplay seeked playing",(function(t){return Xe.checkLoading.call(e,t)})),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){var n=J.call(e,".".concat(e.config.classNames.video));if(!D.element(n))return;ae.call(e,t.container,"click",(function(i){([t.container,n].includes(i.target)||n.contains(i.target))&&(e.touch&&e.config.hideControls||(e.ended?(r.proxy(i,e.restart,"restart"),r.proxy(i,(function(){de(e.play())}),"play")):r.proxy(i,(function(){de(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&ae.call(e,t.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),ae.call(e,e.media,"volumechange",(function(){e.storage.set({volume:e.volume,muted:e.muted})})),ae.call(e,e.media,"ratechange",(function(){Me.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),ae.call(e,e.media,"qualitychange",(function(t){Me.updateSetting.call(e,"quality",null,t.detail.quality)})),ae.call(e,e.media,"ready qualitychange",(function(){Me.setDownloadUrl.call(e)}));var i=e.config.events.concat(["keyup","keydown"]).join(" ");ae.call(e,e.media,i,(function(n){var r=n.detail,i=void 0===r?{}:r;"error"===n.type&&(i=e.media.error),le.call(e,t.container,n.type,!0,i)}))})),e(this,"proxy",(function(e,t,n){var i=r.player,a=i.config.listeners[n],o=!0;D.function(a)&&(o=a.call(i,e)),!1!==o&&D.function(t)&&t.call(i,e)})),e(this,"bind",(function(e,t,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=r.player,s=o.config.listeners[i],l=D.function(s);ae.call(o,e,t,(function(e){return r.proxy(e,n,i)}),a&&!l)})),e(this,"controls",(function(){var e=r.player,t=e.elements,n=F.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((function(t){r.bind(t,"click",(function(){de(e.togglePlay())}),"play")})),r.bind(t.buttons.restart,"click",e.restart,"restart"),r.bind(t.buttons.rewind,"click",(function(){e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),r.bind(t.buttons.fastForward,"click",(function(){e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),r.bind(t.buttons.mute,"click",(function(){e.muted=!e.muted}),"mute"),r.bind(t.buttons.captions,"click",(function(){return e.toggleCaptions()})),r.bind(t.buttons.download,"click",(function(){le.call(e,e.media,"download")}),"download"),r.bind(t.buttons.fullscreen,"click",(function(){e.fullscreen.toggle()}),"fullscreen"),r.bind(t.buttons.pip,"click",(function(){e.pip="toggle"}),"pip"),r.bind(t.buttons.airplay,"click",e.airplay,"airplay"),r.bind(t.buttons.settings,"click",(function(t){t.stopPropagation(),t.preventDefault(),Me.toggleMenu.call(e,t)}),null,!1),r.bind(t.buttons.settings,"keyup",(function(t){[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Me.toggleMenu.call(e,t)):Me.focusFirstMenuItem.call(e,null,!0))}),null,!1),r.bind(t.settings.menu,"keydown",(function(t){"Escape"===t.key&&Me.toggleMenu.call(e,t)})),r.bind(t.inputs.seek,"mousedown mousemove",(function(e){var n=t.progress.getBoundingClientRect(),r=100/n.width*(e.pageX-n.left);e.currentTarget.setAttribute("seek-value",r)})),r.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(t){var n=t.currentTarget,r="play-on-seeked";if(!D.keyboardEvent(t)||["ArrowLeft","ArrowRight"].includes(t.key)){e.lastSeekTime=Date.now();var i=n.hasAttribute(r),a=["mouseup","touchend","keyup"].includes(t.type);i&&a?(n.removeAttribute(r),de(e.play())):!a&&e.playing&&(n.setAttribute(r,""),e.pause())}})),F.isIos){var i=Z.call(e,'input[type="range"]');Array.from(i).forEach((function(e){return r.bind(e,n,(function(e){return M(e.target)}))}))}r.bind(t.inputs.seek,n,(function(t){var n=t.currentTarget,r=n.getAttribute("seek-value");D.empty(r)&&(r=n.value),n.removeAttribute("seek-value"),e.currentTime=r/n.max*e.duration}),"seek"),r.bind(t.progress,"mouseenter mouseleave mousemove",(function(t){return Me.updateSeekTooltip.call(e,t)})),r.bind(t.progress,"mousemove touchmove",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startMove(t)})),r.bind(t.progress,"mouseleave touchend click",(function(){var t=e.previewThumbnails;t&&t.loaded&&t.endMove(!1,!0)})),r.bind(t.progress,"mousedown touchstart",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startScrubbing(t)})),r.bind(t.progress,"mouseup touchend",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.endScrubbing(t)})),F.isWebKit&&Array.from(Z.call(e,'input[type="range"]')).forEach((function(t){r.bind(t,"input",(function(t){return Me.updateRangeFill.call(e,t.target)}))})),e.config.toggleInvert&&!D.element(t.display.duration)&&r.bind(t.display.currentTime,"click",(function(){0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Me.timeUpdate.call(e))})),r.bind(t.inputs.volume,n,(function(t){e.volume=t.target.value}),"volume"),r.bind(t.controls,"mouseenter mouseleave",(function(n){t.controls.hover=!e.touch&&"mouseenter"===n.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((function(e){return!e.contains(t.container)})).forEach((function(n){r.bind(n,"mouseenter mouseleave",(function(n){t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===n.type)}))})),r.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),r.bind(t.controls,"focusin",(function(){var n=e.config,i=e.timers;$(t.controls,n.classNames.noTransition,!0),Xe.toggleControls.call(e,!0),setTimeout((function(){$(t.controls,n.classNames.noTransition,!1)}),0);var a=r.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout((function(){return Xe.toggleControls.call(e,!1)}),a)})),r.bind(t.inputs.volume,"wheel",(function(t){var n=t.webkitDirectionInvertedFromDevice,r=[t.deltaX,-t.deltaY].map((function(e){return n?-e:e})),i=l(r,2),a=i[0],o=i[1],s=Math.sign(Math.abs(a)>Math.abs(o)?a:o);e.increaseVolume(s/50);var u=e.media.volume;(1===s&&u<1||-1===s&&u>0)&&t.preventDefault()}),"volume",!1)})),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}return o(t,[{key:"handleKey",value:function(e){var t,n=this.player,r=n.elements,i=e.key,a=e.type,o=e.altKey,s=e.ctrlKey,l=e.metaKey,u=e.shiftKey,c="keydown"===a,d=c&&i===this.lastKey;if(!(o||s||l||u)&&i)if(c){var f=document.activeElement;if(D.element(f)){var h=n.config.selectors.editable;if(f!==r.inputs.seek&&Q(f,h))return;if(" "===e.key&&Q(f,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(t=parseInt(i,10),n.currentTime=n.duration/10*t);break;case" ":case"k":d||de(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}"Escape"===i&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Me.toggleMenu.call(this.player,e)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var Ze=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},n={},r={};function i(e,t){e=e.push?e:[e];var i,a,o,s=[],l=e.length,u=l;for(i=function(e,n){n.length&&s.push(e),--u||t(s)};l--;)a=e[l],(o=n[a])?i(a,o):(r[a]=r[a]||[]).push(i)}function a(e,t){if(e){var i=r[e];if(n[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function o(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function s(t,n,r,i){var a,o,l=document,u=r.async,c=(r.numRetries||0)+1,d=r.before||e,f=t.replace(/[\?|#].*$/,""),h=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(f)?((o=l.createElement("link")).rel="stylesheet",o.href=h,(a="hideFocus"in o)&&o.relList&&(a=0,o.rel="preload",o.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(o=l.createElement("img")).src=h:((o=l.createElement("script")).src=t,o.async=void 0===u||u),o.onload=o.onerror=o.onbeforeload=function(e){var l=e.type[0];if(a)try{o.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((i+=1)<c)return s(t,n,r,i)}else if("preload"==o.rel&&"style"==o.as)return o.rel="stylesheet";n(t,l,e.defaultPrevented)},!1!==d(t,o)&&l.head.appendChild(o)}function l(e,t,n){var r,i,a=(e=e.push?e:[e]).length,o=a,l=[];for(r=function(e,n,r){if("e"==n&&l.push(e),"b"==n){if(!r)return;l.push(e)}--a||t(l)},i=0;i<o;i++)s(e[i],r,n)}function u(e,n,r){var i,s;if(n&&n.trim&&(i=n),s=(i?r:n)||{},i){if(i in t)throw"LoadJS";t[i]=!0}function u(t,n){l(e,(function(e){o(s,e),t&&o({success:t,error:n},e),a(i,e)}),s)}if(s.returnPromise)return new Promise(u);u()}return u.ready=function(e,t){return i(e,(function(e){o(t,e)})),u},u.done=function(e){a(e,[])},u.reset=function(){t={},n={},r={}},u.isDefined=function(e){return e in t},u}()}));function Je(e){return new Promise((function(t,n){Ze(e,{success:t,error:n})}))}function et(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,le.call(this,this.media,e?"play":"pause"))}var tt={setup:function(){var e=this;$(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,be.call(e),D.object(window.Vimeo)?tt.ready.call(e):Je(e.config.urls.vimeo.sdk).then((function(){tt.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,i=n.premium,a=n.referrerPolicy,o=r(n,c),u=t.media.getAttribute("src"),d="";D.empty(u)?(u=t.media.getAttribute(t.config.attributes.embed.id),d=t.media.getAttribute(t.config.attributes.embed.hash)):d=function(e){var t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(u);var f=d?{h:d}:{};i&&Object.assign(o,{controls:!1,sidedock:!1});var h,p=je(s(s({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline},f),o)),m=(h=u,D.empty(h)?null:D.number(Number(h))?h:h.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:h),g=H("iframe"),v=xe(t.config.urls.vimeo.iframe,m,p);if(g.setAttribute("src",v),g.setAttribute("allowfullscreen",""),g.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),D.empty(a)||g.setAttribute("referrerPolicy",a),i||!n.customControls)g.setAttribute("data-poster",t.poster),t.media=K(g,t.media);else{var y=H("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});y.appendChild(g),t.media=K(y,t.media)}n.customControls||Pe(xe(t.config.urls.vimeo.api,v)).then((function(e){!D.empty(e)&&e.thumbnail_url&&Xe.setPoster.call(t,e.thumbnail_url).catch((function(){}))})),t.embed=new window.Vimeo.Player(g,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return et.call(t,!0),t.embed.play()},t.media.pause=function(){return et.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var b=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return b},set:function(e){var n=t.embed,r=t.media,i=t.paused,a=t.volume,o=i&&!n.hasPlayed;r.seeking=!0,le.call(t,r,"seeking"),Promise.resolve(o&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return o&&n.pause()})).then((function(){return o&&n.setVolume(a)})).catch((function(){}))}});var k=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return k},set:function(e){t.embed.setPlaybackRate(e).then((function(){k=e,le.call(t,t.media,"ratechange")})).catch((function(){t.options.speed=[1]}))}});var w=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return w},set:function(e){t.embed.setVolume(e).then((function(){w=e,le.call(t,t.media,"volumechange")}))}});var x=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return x},set:function(e){var n=!!D.boolean(e)&&e;t.embed.setMuted(!!n||t.config.muted).then((function(){x=n,le.call(t,t.media,"volumechange")}))}});var E,S=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return S},set:function(e){var n=D.boolean(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){S=n}))}}),t.embed.getVideoUrl().then((function(e){E=e,Me.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return E}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];t.embed.ratio=ke(i,a),be.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,Xe.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){b=e,le.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,le.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,Ue.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,r=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));Ue.updateCues.call(t,r)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){et.call(t,!e),e||le.call(t,t.media,"playing")})),D.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){le.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){le.call(t,t.media,"playing")})),t.embed.on("play",(function(){et.call(t,!0),le.call(t,t.media,"playing")})),t.embed.on("pause",(function(){et.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,b=e.seconds,le.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,le.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&le.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,le.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,le.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,le.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,le.call(t,t.media,"error")})),n.customControls&&setTimeout((function(){return Xe.build.call(t)}),0)}};function nt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,le.call(this,this.media,e?"play":"pause"))}function rt(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var it={setup:function(){var e=this;if($(this.elements.wrapper,this.config.classNames.embed,!0),D.object(window.YT)&&D.function(window.YT.Player))it.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){D.function(t)&&t(),it.ready.call(e)},Je(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;Pe(xe(this.config.urls.youtube.api,e)).then((function(e){if(D.object(e)){var n=e.title,r=e.height,i=e.width;t.config.title=n,Xe.setTitle.call(t),t.embed.ratio=ke(i,r)}be.call(t)})).catch((function(){be.call(t)}))},ready:function(){var e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(D.empty(n)||!n.startsWith("youtube-")){var r=e.media.getAttribute("src");D.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));var i,a=(i=r,D.empty(i)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i),o=H("div",{id:"".concat(e.provider,"-").concat(Math.floor(1e4*Math.random())),"data-poster":t.customControls?e.poster:void 0});if(e.media=K(o,e.media),t.customControls){var s=function(e){return"https://i.ytimg.com/vi/".concat(a,"/").concat(e,"default.jpg")};$e(s("maxres"),121).catch((function(){return $e(s("sd"),121)})).catch((function(){return $e(s("hq"))})).then((function(t){return Xe.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}))}e.embed=new window.YT.Player(e.media,{videoId:a,host:rt(t),playerVars:U({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError:function(t){if(!e.media.error){var n=t.data,r={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occurred";e.media.error={code:n,message:r},le.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),le.call(e,e.media,"ratechange")},onReady:function(n){if(!D.function(e.media.play)){var r=n.target;it.getTitle.call(e,a),e.media.play=function(){nt.call(e,!0),r.playVideo()},e.media.pause=function(){nt.call(e,!1),r.pauseVideo()},e.media.stop=function(){r.stopVideo()},e.media.duration=r.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(r.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,le.call(e,e.media,"seeking"),r.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return r.getPlaybackRate()},set:function(e){r.setPlaybackRate(e)}});var i=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return i},set:function(t){i=t,r.setVolume(100*i),le.call(e,e.media,"volumechange")}});var o=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return o},set:function(t){var n=D.boolean(t)?t:o;o=n,r[n?"mute":"unMute"](),r.setVolume(100*i),le.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return r.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var s=r.getAvailablePlaybackRates();e.options.speed=s.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),le.call(e,e.media,"timeupdate"),le.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=r.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&le.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),le.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((function(){return Xe.build.call(e)}),50)}},onStateChange:function(n){var r=n.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(n.data)&&(e.media.seeking=!1,le.call(e,e.media,"seeked")),n.data){case-1:le.call(e,e.media,"timeupdate"),e.media.buffered=r.getVideoLoadedFraction(),le.call(e,e.media,"progress");break;case 0:nt.call(e,!1),e.media.loop?(r.stopVideo(),r.playVideo()):le.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(nt.call(e,!0),le.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){le.call(e,e.media,"timeupdate")}),50),e.media.duration!==r.getDuration()&&(e.media.duration=r.getDuration(),le.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),nt.call(e,!1);break;case 3:le.call(e,e.media,"waiting")}le.call(e,e.elements.container,"statechange",!1,{code:n.data})}}})}}},at={setup:function(){this.media?($(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),$(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&$(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=H("div",{class:this.config.classNames.video}),B(this.media,this.elements.wrapper),this.elements.poster=H("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?we.setup.call(this):this.isYouTube?it.setup.call(this):this.isVimeo&&tt.setup.call(this)):this.debug.warn("No media element found!")}},ot=function(){function t(n){var r=this;a(this,t),e(this,"load",(function(){r.enabled&&(D.object(window.google)&&D.object(window.google.ima)?r.ready():Je(r.player.config.urls.googleIMA.sdk).then((function(){r.ready()})).catch((function(){r.trigger("error",new Error("Google IMA SDK failed to load"))})))})),e(this,"ready",(function(){var e;r.enabled||((e=r).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),r.startSafetyTimer(12e3,"ready()"),r.managerPromise.then((function(){r.clearSafetyTimer("onAdsManagerLoaded()")})),r.listeners(),r.setupIMA()})),e(this,"setupIMA",(function(){r.elements.container=H("div",{class:r.player.config.classNames.ads}),r.player.elements.container.appendChild(r.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(r.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(r.player.config.playsinline),r.elements.displayContainer=new google.ima.AdDisplayContainer(r.elements.container,r.player.media),r.loader=new google.ima.AdsLoader(r.elements.displayContainer),r.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){return r.onAdsManagerLoaded(e)}),!1),r.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return r.onAdError(e)}),!1),r.requestAds()})),e(this,"requestAds",(function(){var e=r.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=r.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!r.player.muted),r.loader.requestAds(t)}catch(e){r.onAdError(e)}})),e(this,"pollCountdown",(function(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(r.countdownTimer),void r.elements.container.removeAttribute("data-badge-text");r.countdownTimer=setInterval((function(){var e=Ne(Math.max(r.manager.getRemainingTime(),0)),t="".concat(Ae.get("advertisement",r.player.config)," - ").concat(e);r.elements.container.setAttribute("data-badge-text",t)}),100)})),e(this,"onAdsManagerLoaded",(function(e){if(r.enabled){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,r.manager=e.getAdsManager(r.player,t),r.cuePoints=r.manager.getCuePoints(),r.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return r.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){r.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return r.onAdEvent(e)}))})),r.trigger("loaded")}})),e(this,"addCuePoints",(function(){D.empty(r.cuePoints)||r.cuePoints.forEach((function(e){if(0!==e&&-1!==e&&e<r.player.duration){var t=r.player.elements.progress;if(D.element(t)){var n=100/r.player.duration*e,i=H("span",{class:r.player.config.classNames.cues});i.style.left="".concat(n.toString(),"%"),t.appendChild(i)}}}))})),e(this,"onAdEvent",(function(e){var t=r.player.elements.container,n=e.getAd(),i=e.getAdData();switch(function(e){le.call(r.player,r.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:r.trigger("loaded"),r.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:r.manager.setVolume(r.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:r.player.ended?r.loadAds():r.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:r.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:r.pollCountdown(),r.resumeContent();break;case google.ima.AdEvent.Type.LOG:i.adError&&r.player.debug.warn("Non-fatal ad error: ".concat(i.adError.getMessage()))}})),e(this,"onAdError",(function(e){r.cancel(),r.player.debug.warn("Ads error",e)})),e(this,"listeners",(function(){var e,t=r.player.elements.container;r.player.on("canplay",(function(){r.addCuePoints()})),r.player.on("ended",(function(){r.loader.contentComplete()})),r.player.on("timeupdate",(function(){e=r.player.currentTime})),r.player.on("seeked",(function(){var t=r.player.currentTime;D.empty(r.cuePoints)||r.cuePoints.forEach((function(n,i){e<n&&n<t&&(r.manager.discardAdBreak(),r.cuePoints.splice(i,1))}))})),window.addEventListener("resize",(function(){r.manager&&r.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)}))})),e(this,"play",(function(){var e=r.player.elements.container;r.managerPromise||r.resumeContent(),r.managerPromise.then((function(){r.manager.setVolume(r.player.volume),r.elements.displayContainer.initialize();try{r.initialized||(r.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),r.manager.start()),r.initialized=!0}catch(e){r.onAdError(e)}})).catch((function(){}))})),e(this,"resumeContent",(function(){r.elements.container.style.zIndex="",r.playing=!1,de(r.player.media.play())})),e(this,"pauseContent",(function(){r.elements.container.style.zIndex=3,r.playing=!0,r.player.media.pause()})),e(this,"cancel",(function(){r.initialized&&r.resumeContent(),r.trigger("error"),r.loadAds()})),e(this,"loadAds",(function(){r.managerPromise.then((function(){r.manager&&r.manager.destroy(),r.managerPromise=new Promise((function(e){r.on("loaded",e),r.player.debug.log(r.manager)})),r.initialized=!1,r.requestAds()})).catch((function(){}))})),e(this,"trigger",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=r.events[e];D.array(a)&&a.forEach((function(e){D.function(e)&&e.apply(r,n)}))})),e(this,"on",(function(e,t){return D.array(r.events[e])||(r.events[e]=[]),r.events[e].push(t),r})),e(this,"startSafetyTimer",(function(e,t){r.player.debug.log("Safety timer invoked from: ".concat(t)),r.safetyTimer=setTimeout((function(){r.cancel(),r.clearSafetyTimer("startSafetyTimer()")}),e)})),e(this,"clearSafetyTimer",(function(e){D.nullOrUndefined(r.safetyTimer)||(r.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(r.safetyTimer),r.safetyTimer=null)})),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){r.on("loaded",e),r.on("error",t)})),this.load()}return o(t,[{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!D.empty(e.publisherId)||D.url(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;return D.url(e.tagUrl)?e.tagUrl:"https://go.aniview.com/api/adserver6/vast/?".concat(je({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId}))}}]),t}();function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}var lt,ut=function(e){var t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var n={};e.split(/\r\n|\n|\r/).forEach((function(e){if(D.number(n.startTime)){if(!D.empty(e.trim())&&D.empty(n.text)){var t,r,i,a=e.trim().split("#xywh=");t=l(a,1),n.text=t[0],a[1]&&(r=a[1].split(","),i=l(r,4),n.x=i[0],n.y=i[1],n.w=i[2],n.h=i[3])}}else{var o=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(n.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+Number("0.".concat(o[4])),n.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+Number("0.".concat(o[9])))}})),n.text&&t.push(n)})),t},ct=function(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n},dt=function(){function t(n){var r=this;a(this,t),e(this,"load",(function(){r.player.elements.display.seekTooltip&&(r.player.elements.display.seekTooltip.hidden=r.enabled),r.enabled&&r.getThumbnails().then((function(){r.enabled&&(r.render(),r.determineContainerAutoSizing(),r.listeners(),r.loaded=!0)}))})),e(this,"getThumbnails",(function(){return new Promise((function(e){var t=r.player.config.previewThumbnails.src;if(D.empty(t))throw new Error("Missing previewThumbnails.src config attribute");var n=function(){r.thumbnails.sort((function(e,t){return e.height-t.height})),r.player.debug.log("Preview thumbnails",r.thumbnails),e()};if(D.function(t))t((function(e){r.thumbnails=e,n()}));else{var i=(D.string(t)?[t]:t).map((function(e){return r.getThumbnail(e)}));Promise.all(i).then(n)}}))})),e(this,"getThumbnail",(function(e){return new Promise((function(t){Pe(e).then((function(n){var i={frames:ut(n),height:null,urlPrefix:""};i.frames[0].text.startsWith("/")||i.frames[0].text.startsWith("http://")||i.frames[0].text.startsWith("https://")||(i.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var a=new Image;a.onload=function(){i.height=a.naturalHeight,i.width=a.naturalWidth,r.thumbnails.push(i),t()},a.src=i.urlPrefix+i.frames[0].text}))}))})),e(this,"startMove",(function(e){if(r.loaded&&D.event(e)&&["touchmove","mousemove"].includes(e.type)&&r.player.media.duration){if("touchmove"===e.type)r.seekTime=r.player.media.duration*(r.player.elements.inputs.seek.value/100);else{var t,n,i=r.player.elements.progress.getBoundingClientRect(),a=100/i.width*(e.pageX-i.left);r.seekTime=r.player.media.duration*(a/100),r.seekTime<0&&(r.seekTime=0),r.seekTime>r.player.media.duration-1&&(r.seekTime=r.player.media.duration-1),r.mousePosX=e.pageX,r.elements.thumb.time.innerText=Ne(r.seekTime);var o=null===(t=r.player.config.markers)||void 0===t||null===(n=t.points)||void 0===n?void 0:n.find((function(e){return e.time===Math.round(r.seekTime)}));o&&r.elements.thumb.time.insertAdjacentHTML("afterbegin","".concat(o.label,"<br>"))}r.showImageAtCurrentTime()}})),e(this,"endMove",(function(){r.toggleThumbContainer(!1,!0)})),e(this,"startScrubbing",(function(e){(D.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(r.mouseDown=!0,r.player.media.duration&&(r.toggleScrubbingContainer(!0),r.toggleThumbContainer(!1,!0),r.showImageAtCurrentTime()))})),e(this,"endScrubbing",(function(){r.mouseDown=!1,Math.ceil(r.lastTime)===Math.ceil(r.player.media.currentTime)?r.toggleScrubbingContainer(!1):se.call(r.player,r.player.media,"timeupdate",(function(){r.mouseDown||r.toggleScrubbingContainer(!1)}))})),e(this,"listeners",(function(){r.player.on("play",(function(){r.toggleThumbContainer(!1,!0)})),r.player.on("seeked",(function(){r.toggleThumbContainer(!1)})),r.player.on("timeupdate",(function(){r.lastTime=r.player.media.currentTime}))})),e(this,"render",(function(){r.elements.thumb.container=H("div",{class:r.player.config.classNames.previewThumbnails.thumbContainer}),r.elements.thumb.imageContainer=H("div",{class:r.player.config.classNames.previewThumbnails.imageContainer}),r.elements.thumb.container.appendChild(r.elements.thumb.imageContainer);var e=H("div",{class:r.player.config.classNames.previewThumbnails.timeContainer});r.elements.thumb.time=H("span",{},"00:00"),e.appendChild(r.elements.thumb.time),r.elements.thumb.imageContainer.appendChild(e),D.element(r.player.elements.progress)&&r.player.elements.progress.appendChild(r.elements.thumb.container),r.elements.scrubbing.container=H("div",{class:r.player.config.classNames.previewThumbnails.scrubbingContainer}),r.player.elements.wrapper.appendChild(r.elements.scrubbing.container)})),e(this,"destroy",(function(){r.elements.thumb.container&&r.elements.thumb.container.remove(),r.elements.scrubbing.container&&r.elements.scrubbing.container.remove()})),e(this,"showImageAtCurrentTime",(function(){r.mouseDown?r.setScrubbingContainerSize():r.setThumbContainerSizeAndPos();var e=r.thumbnails[0].frames.findIndex((function(e){return r.seekTime>=e.startTime&&r.seekTime<=e.endTime})),t=e>=0,n=0;r.mouseDown||r.toggleThumbContainer(t),t&&(r.thumbnails.forEach((function(t,i){r.loadedImages.includes(t.frames[e].text)&&(n=i)})),e!==r.showingThumb&&(r.showingThumb=e,r.loadImage(n)))})),e(this,"loadImage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=r.showingThumb,n=r.thumbnails[e],i=n.urlPrefix,a=n.frames[t],o=n.frames[t].text,s=i+o;if(r.currentImageElement&&r.currentImageElement.dataset.filename===o)r.showImage(r.currentImageElement,a,e,t,o,!1),r.currentImageElement.dataset.index=t,r.removeOldImages(r.currentImageElement);else{r.loadingImage&&r.usingSprites&&(r.loadingImage.onload=null);var l=new Image;l.src=s,l.dataset.index=t,l.dataset.filename=o,r.showingThumbFilename=o,r.player.debug.log("Loading image: ".concat(s)),l.onload=function(){return r.showImage(l,a,e,t,o,!0)},r.loadingImage=l,r.removeOldImages(l)}})),e(this,"showImage",(function(e,t,n,i,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];r.player.debug.log("Showing thumb: ".concat(a,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(o)),r.setImageSizeAndOffset(e,t),o&&(r.currentImageContainer.appendChild(e),r.currentImageElement=e,r.loadedImages.includes(a)||r.loadedImages.push(a)),r.preloadNearby(i,!0).then(r.preloadNearby(i,!1)).then(r.getHigherQuality(n,e,t,a))})),e(this,"removeOldImages",(function(e){Array.from(r.currentImageContainer.children).forEach((function(t){if("img"===t.tagName.toLowerCase()){var n=r.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;var i=r.currentImageContainer;setTimeout((function(){i.removeChild(t),r.player.debug.log("Removing thumb: ".concat(t.dataset.filename))}),n)}}}))})),e(this,"preloadNearby",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n){setTimeout((function(){var i=r.thumbnails[0].frames[e].text;if(r.showingThumbFilename===i){var a;a=t?r.thumbnails[0].frames.slice(e):r.thumbnails[0].frames.slice(0,e).reverse();var o=!1;a.forEach((function(e){var t=e.text;if(t!==i&&!r.loadedImages.includes(t)){o=!0,r.player.debug.log("Preloading thumb filename: ".concat(t));var a=r.thumbnails[0].urlPrefix+t,s=new Image;s.src=a,s.onload=function(){r.player.debug.log("Preloaded thumb filename: ".concat(t)),r.loadedImages.includes(t)||r.loadedImages.push(t),n()}}})),o||n()}}),300)}))})),e(this,"getHigherQuality",(function(e,t,n,i){if(e<r.thumbnails.length-1){var a=t.naturalHeight;r.usingSprites&&(a=n.h),a<r.thumbContainerHeight&&setTimeout((function(){r.showingThumbFilename===i&&(r.player.debug.log("Showing higher quality thumb for: ".concat(i)),r.loadImage(e+1))}),300)}})),e(this,"toggleThumbContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.player.config.classNames.previewThumbnails.thumbContainerShown;r.elements.thumb.container.classList.toggle(n,e),!e&&t&&(r.showingThumb=null,r.showingThumbFilename=null)})),e(this,"toggleScrubbingContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.player.config.classNames.previewThumbnails.scrubbingContainerShown;r.elements.scrubbing.container.classList.toggle(t,e),e||(r.showingThumb=null,r.showingThumbFilename=null)})),e(this,"determineContainerAutoSizing",(function(){(r.elements.thumb.imageContainer.clientHeight>20||r.elements.thumb.imageContainer.clientWidth>20)&&(r.sizeSpecifiedInCSS=!0)})),e(this,"setThumbContainerSizeAndPos",(function(){var e=r.elements.thumb.imageContainer;if(r.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){var t=Math.floor(e.clientHeight*r.thumbAspectRatio);e.style.width="".concat(t,"px")}else if(e.clientHeight<20&&e.clientWidth>20){var n=Math.floor(e.clientWidth/r.thumbAspectRatio);e.style.height="".concat(n,"px")}}else{var i=Math.floor(r.thumbContainerHeight*r.thumbAspectRatio);e.style.height="".concat(r.thumbContainerHeight,"px"),e.style.width="".concat(i,"px")}r.setThumbContainerPos()})),e(this,"setThumbContainerPos",(function(){var e=r.player.elements.progress.getBoundingClientRect(),t=r.player.elements.container.getBoundingClientRect(),n=r.elements.thumb.container,i=t.left-e.left+10,a=t.right-e.left-n.clientWidth-10,o=r.mousePosX-e.left-n.clientWidth/2,s=st(o,i,a);n.style.left="".concat(s,"px"),n.style.setProperty("--preview-arrow-offset",o-s+"px")})),e(this,"setScrubbingContainerSize",(function(){var e=ct(r.thumbAspectRatio,{width:r.player.media.clientWidth,height:r.player.media.clientHeight}),t=e.width,n=e.height;r.elements.scrubbing.container.style.width="".concat(t,"px"),r.elements.scrubbing.container.style.height="".concat(n,"px")})),e(this,"setImageSizeAndOffset",(function(e,t){if(r.usingSprites){var n=r.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*n+"px",e.style.width=e.naturalWidth*n+"px",e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}})),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return o(t,[{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?ct(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),ft={insertElements:function(e,t){var n=this;D.string(t)?z(e,this.media,{src:t}):D.array(t)&&t.forEach((function(t){z(e,n.media,t)}))},change:function(e){var t=this;j(e,"sources.length")?(we.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],G(t.media),t.media=null,D.element(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,r=e.type,i=l(n,1)[0],a=i.provider,o=void 0===a?ze.html5:a,s=i.src,u="html5"===o?r:"div",c="html5"===o?{}:{src:s};Object.assign(t,{provider:o,type:r,supported:ne.check(r,o,t.config.playsinline),media:H(u,c)}),t.elements.container.appendChild(t.media),D.boolean(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),D.empty(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),Xe.addStyleHook.call(t),t.isHTML5&&ft.insertElements.call(t,"source",n),t.config.title=e.title,at.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&ft.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&Xe.build.call(t),t.isHTML5&&t.media.load(),D.empty(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new dt(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},ht=function(){function t(n,r){var i=this;if(a(this,t),e(this,"play",(function(){return D.function(i.media.play)?(i.ads&&i.ads.enabled&&i.ads.managerPromise.then((function(){return i.ads.play()})).catch((function(){return de(i.media.play())})),i.media.play()):null})),e(this,"pause",(function(){return i.playing&&D.function(i.media.pause)?i.media.pause():null})),e(this,"togglePlay",(function(e){return(D.boolean(e)?e:!i.playing)?i.play():i.pause()})),e(this,"stop",(function(){i.isHTML5?(i.pause(),i.restart()):D.function(i.media.stop)&&i.media.stop()})),e(this,"restart",(function(){i.currentTime=0})),e(this,"rewind",(function(e){i.currentTime-=D.number(e)?e:i.config.seekTime})),e(this,"forward",(function(e){i.currentTime+=D.number(e)?e:i.config.seekTime})),e(this,"increaseVolume",(function(e){var t=i.media.muted?0:i.volume;i.volume=t+(D.number(e)?e:0)})),e(this,"decreaseVolume",(function(e){i.increaseVolume(-e)})),e(this,"airplay",(function(){ne.airplay&&i.media.webkitShowPlaybackTargetPicker()})),e(this,"toggleControls",(function(e){if(i.supported.ui&&!i.isAudio){var t=X(i.elements.container,i.config.classNames.hideControls),n=void 0===e?void 0:!e,r=$(i.elements.container,i.config.classNames.hideControls,n);if(r&&D.array(i.config.controls)&&i.config.controls.includes("settings")&&!D.empty(i.config.settings)&&Me.toggleMenu.call(i,!1),r!==t){var a=r?"controlshidden":"controlsshown";le.call(i,i.media,a)}return!r}return!1})),e(this,"on",(function(e,t){ae.call(i,i.elements.container,e,t)})),e(this,"once",(function(e,t){se.call(i,i.elements.container,e,t)})),e(this,"off",(function(e,t){oe(i.elements.container,e,t)})),e(this,"destroy",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i.ready){var n=function(){document.body.style.overflow="",i.embed=null,t?(Object.keys(i.elements).length&&(G(i.elements.buttons.play),G(i.elements.captions),G(i.elements.controls),G(i.elements.wrapper),i.elements.buttons.play=null,i.elements.captions=null,i.elements.controls=null,i.elements.wrapper=null),D.function(e)&&e()):(ue.call(i),we.cancelRequests.call(i),K(i.elements.original,i.elements.container),le.call(i,i.elements.original,"destroyed",!0),D.function(e)&&e.call(i.elements.original),i.ready=!1,setTimeout((function(){i.elements=null,i.media=null}),200))};i.stop(),clearTimeout(i.timers.loading),clearTimeout(i.timers.controls),clearTimeout(i.timers.resized),i.isHTML5?(Xe.toggleNativeControls.call(i,!0),n()):i.isYouTube?(clearInterval(i.timers.buffering),clearInterval(i.timers.playing),null!==i.embed&&D.function(i.embed.destroy)&&i.embed.destroy(),n()):i.isVimeo&&(null!==i.embed&&i.embed.unload().then(n),setTimeout(n,200))}})),e(this,"supports",(function(e){return ne.mime.call(i,e)})),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ne.touch,this.media=n,D.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||D.nodeList(this.media)||D.array(this.media))&&(this.media=this.media[0]),this.config=U({},Be,t.defaults,r||{},function(){try{return JSON.parse(i.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new We(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ne),!D.nullOrUndefined(this.media)&&D.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(ne.check().api){var o=this.media.cloneNode(!0);o.autoplay=!1,this.elements.original=o;var s=this.media.tagName.toLowerCase(),l=null,u=null;switch(s){case"div":if(l=this.media.querySelector("iframe"),D.element(l)){if(u=Fe(l.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?ze.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?ze.vimeo:null}(u.toString()),this.elements.container=this.media,this.media=l,this.elements.container.className="",u.search.length){var c=["1","true"];c.includes(u.searchParams.get("autoplay"))&&(this.config.autoplay=!0),c.includes(u.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=c.includes(u.searchParams.get("playsinline")),this.config.youtube.hl=u.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(D.empty(this.provider)||!Object.values(ze).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=qe;break;case"video":case"audio":this.type=s,this.provider=ze.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ne.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Qe(this),this.storage=new Re(this),this.media.plyr=this,D.element(this.elements.container)||(this.elements.container=H("div"),B(this.media,this.elements.container)),Xe.migrateStyles.call(this),Xe.addStyleHook.call(this),at.setup.call(this),this.config.debug&&ae.call(this,this.elements.container,this.config.events.join(" "),(function(e){i.debug.log("event: ".concat(e.type))})),this.fullscreen=new Ye(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Xe.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new ot(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(function(){return de(i.play())})),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new dt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return o(t,[{key:"isHTML5",get:function(){return this.provider===ze.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===ze.youtube}},{key:"isVimeo",get:function(){return this.provider===ze.vimeo}},{key:"isVideo",get:function(){return this.type===qe}},{key:"isAudio",get:function(){return this.type===Ge}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",get:function(){return Number(this.media.currentTime)},set:function(e){if(this.duration){var t=D.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}}},{key:"buffered",get:function(){var e=this.media.buffered;return D.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=D.number(t)&&t!==1/0?t:0;return e||n}},{key:"volume",get:function(){return Number(this.media.volume)},set:function(e){var t=e;D.string(t)&&(t=Number(t)),D.number(t)||(t=this.storage.get("volume")),D.number(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!D.empty(e)&&this.muted&&t>0&&(this.muted=!1)}},{key:"muted",get:function(){return Boolean(this.media.muted)},set:function(e){var t=e;D.boolean(t)||(t=this.storage.get("muted")),D.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",get:function(){return Number(this.media.playbackRate)},set:function(e){var t=this,n=null;D.number(e)&&(n=e),D.number(n)||(n=this.storage.get("speed")),D.number(n)||(n=this.config.speed.selected);var r=this.minimumSpeed,i=this.maximumSpeed;n=st(n,r,i),this.config.speed.selected=n,setTimeout((function(){t.media&&(t.media.playbackRate=n)}),0)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,i(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,i(this.options.speed)):this.isVimeo?2:16}},{key:"quality",get:function(){return this.media.quality},set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var r=[!D.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(D.number),i=!0;if(!n.includes(r)){var a=he(n,r);this.debug.warn("Unsupported quality option: ".concat(r,", using ").concat(a," instead")),r=a,i=!1}t.selected=r,this.media.quality=r,i&&this.storage.set({quality:r})}}},{key:"loop",get:function(){return Boolean(this.media.loop)},set:function(e){var t=D.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}},{key:"source",get:function(){return this.media.currentSrc},set:function(e){ft.change.call(this,e)}},{key:"download",get:function(){var e=this.config.urls.download;return D.url(e)?e:this.source},set:function(e){D.url(e)&&(this.config.urls.download=e,Me.setDownloadUrl.call(this))}},{key:"poster",get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null},set:function(e){this.isVideo?Xe.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=ve(ye.call(this));return D.array(e)?e.join(":"):e},set:function(e){this.isVideo?D.string(e)&&ge(e)?(this.config.ratio=ve(e),be.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",get:function(){return Boolean(this.config.autoplay)},set:function(e){this.config.autoplay=D.boolean(e)?e:this.config.autoplay}},{key:"toggleCaptions",value:function(e){Ue.toggle.call(this,e,!1)}},{key:"currentTrack",get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1},set:function(e){Ue.set.call(this,e,!1),Ue.setup.call(this)}},{key:"language",get:function(){return(Ue.getCurrentTrack.call(this)||{}).language},set:function(e){Ue.setLanguage.call(this,e,!1)}},{key:"pip",get:function(){return ne.pip?D.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ve:null},set:function(e){if(ne.pip){var t=D.boolean(e)?e:!this.pip;D.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ve:He),D.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}}},{key:"setPreviewThumbnails",value:function(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new dt(this))}}],[{key:"supported",value:function(e,t){return ne.check(e,t)}},{key:"loadSprite",value:function(e,t){return Oe(e,t)}},{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;return D.string(e)?r=Array.from(document.querySelectorAll(e)):D.nodeList(e)?r=Array.from(e):D.array(e)&&(r=e.filter(D.element)),D.empty(r)?null:r.map((function(e){return new t(e,n)}))}}]),t}();return ht.defaults=(lt=Be,JSON.parse(JSON.stringify(lt))),ht}())},758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),l=new t(512),u=new t(512);function c(e){return s.get(e)||s.set(e,d(e).map((function(e){return e.replace(o,"$2")})))}function d(e){return e.match(n)||[""]}function f(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function h(e){return!f(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:c,setter:function(e){var t=c(e);return l.get(e)||l.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=c(e);return u.get(e)||u.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(f(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(h(r)&&(r='"'+r+'"'),a=!(o=f(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:d(e),t,n)}}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),L=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Le(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function Re(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Se)&&(Re(),Le())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Ie=!1}function Ne(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Be={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,s,l){Me=!1,Fe=null,Ne.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,Tt,Ct=!1,Lt=[],At=null,Rt=null,Pt=null,Ot=new Map,_t=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==At&&jt(At)&&(At=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==Pt&&jt(Pt)&&(Pt=null),Ot.forEach(Ut),_t.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Vt(t,e)}if(0<Lt.length){Vt(Lt[0],e);for(var n=1;n<Lt.length;n++){var r=Lt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Vt(At,e),null!==Rt&&Vt(Rt,e),null!==Pt&&Vt(Pt,e),Ot.forEach(t),_t.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ft(n),null===n.blockedOn&&It.shift()}var zt=k.ReactCurrentBatchConfig,Gt=!0;function qt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Kt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Wt(e,t,n,r){if(Gt){var i=$t(e,t,n,r);if(null===i)Gr(e,t,r,Yt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Mt(At,e,t,n,r,i),!0;case"dragenter":return Rt=Mt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_t.set(a,Mt(_t.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Gr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=F({},un,{view:0,detail:0}),fn=an(dn),hn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),mn=an(F({},hn,{dataTransfer:0})),gn=an(F({},dn,{relatedTarget:0})),vn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(F({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var Cn=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ln=an(Cn),An=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=an(On),In=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Nn,Fn=c&&(!Dn||Nn&&8<Nn&&11>=Nn),jn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Yn(e){jr(e,0)}function $n(e){if(W(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];qn(t,Wn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Tr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Tr("animationend"),Lr=Tr("animationiteration"),Ar=Tr("animationstart"),Rr=Tr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Pr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Or.length;Ir++){var Dr=Or[Ir];_r(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}_r(Cr,"onAnimationEnd"),_r(Lr,"onAnimationIteration"),_r(Ar,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Rr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Fr(i,s,u),a=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Ln;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Cr:case Lr:case Ar:l=vn;break;case Rr:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=_e(p,f))&&c.push(qr(p,m,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:ki(l),h=null==u?s:ki(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=h,m=null,yi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Wr(h))p++;for(h=0,m=f;m;m=Wr(m))h++;for(;0<p-h;)c=Wr(c),p--;for(;0<h-p;)f=Wr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Wr(c),f=Wr(f)}c=null}else c=null;null!==l&&Yr(o,s,l,c,!1),null!==u&&null!==d&&Yr(o,d,u,c,!0)}if("select"===(l=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Gn(s))if(Qn)g=or;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?ki(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Hn=!0)),0<(v=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Jt=Zt=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=_e(e,n))&&r.unshift(qr(e,a,i)),null!=(a=_e(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=_e(n,a))&&o.unshift(qr(n,l,s)):i||null!=(l=_e(n,a))&&o.push(qr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ti(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ci(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Li={},Ai=Si(Li),Ri=Si(!1),Pi=Li;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ti(Ri),Ti(Ai)}function Di(e,t,n){if(Ai.current!==Li)throw Error(a(168));Ci(Ai,t),Ci(Ri,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,Pi=Ai.current,Ci(Ai,e),Ci(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ri),Ti(Ai),Ci(Ai,e)):Ti(Ri),Ci(Ri,n)}var ji=null,Ui=!1,Bi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Hi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Je,Hi),i}finally{bt=t,Bi=!1}}return null}var zi=[],Gi=0,qi=null,Ki=0,Wi=[],Yi=0,$i=null,Xi=1,Qi="";function Zi(e,t){zi[Gi++]=Ki,zi[Gi++]=qi,qi=e,Ki=t}function Ji(e,t,n){Wi[Yi++]=Xi,Wi[Yi++]=Qi,Wi[Yi++]=$i,$i=e;var r=Xi;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Xi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ta(e){for(;e===qi;)qi=zi[--Gi],zi[Gi]=null,Ki=zi[--Gi],zi[Gi]=null;for(;e===$i;)$i=Wi[--Yi],Wi[Yi]=null,Qi=Wi[--Yi],Wi[Yi]=null,Xi=Wi[--Yi],Wi[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=_u(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_u(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=k.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=va.current;Ti(va),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ca=null;function La(e){null===Ca?Ca=[e]:Ca.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,La(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,La(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=F({},d,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=d}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(ru(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(ru(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(ru(t,e,r,n),Na(t,e,r))}};function Ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function za(e,t,n){var r=!1,i=Li,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=_i(t)?Pi:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Li),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=_i(t)?Pi:Ai.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===_&&Ya(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Uu(t,e.mode,n)).return=e,t;case _:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case _:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),ia&&Zi(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return ia&&Zi(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),u}function g(i,s,l,u){var c=N(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),ia&&Zi(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return ia&&Zi(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Zi(i,g),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===_&&Ya(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Mu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Nu(o.type,o.key,o.props,null,r.mode,l)).ref=Ka(r,a,o),l.return=r,r=l)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uu(o,r.mode,l)).return=r,r=a}return s(r);case _:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(N(o))return g(r,a,o,l);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=ju(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Xa=$a(!0),Qa=$a(!1),Za={},Ja=Si(Za),eo=Si(Za),to=Si(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Ja,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ja),Ci(Ja,t)}function io(){Ti(Ja),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Ja.current),n=le(t,e.type);t!==n&&(Ci(eo,e),Ci(Ja,n))}function oo(e){eo.current===e&&(Ti(Ja),Ti(eo))}var so=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,vo=go=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(a(300));return e}function To(){var e=0!==ko;return ko=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Lo(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Ao(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=Lo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,mo.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Lo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function _o(e,t){var n=mo,r=Lo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Go(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&po)||Io(n,t,i)}return i}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function No(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ra(e,1);null!==t&&ru(t,e,1,-1)}function jo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Lo().memoizedState}function Vo(e,t,n,r){var i=Co();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Ho(e,t,n,r){var i=Lo();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Vo(8390656,8,e,t)}function Go(e,t){return Ho(2048,8,e,t)}function qo(e,t){return Ho(4,2,e,t)}function Ko(e,t){return Ho(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,Wo.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=Lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Lo().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){ru(n,e,r,tu()),as(n,t,r)}}function ns(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,La(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Aa(e,t,i,r))&&(ru(n,e,r,i=tu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ta,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ta,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pl)throw Error(a(349));0!==(30&po)||Io(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(No.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Pl.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ta,useCallback:Xo,useContext:Ta,useEffect:Go,useImperativeHandle:Yo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Qo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(Ao)},useDebugValue:$o,useDeferredValue:function(e){return Zo(Lo(),go.memoizedState,e)},useTransition:function(){return[Ro(Ao)[0],Lo().memoizedState]},useMutableSource:Oo,useSyncExternalStore:_o,useId:es,unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:Xo,useContext:Ta,useEffect:Go,useImperativeHandle:Yo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Qo,useReducer:Po,useRef:Bo,useState:function(){return Po(Ao)},useDebugValue:$o,useDeferredValue:function(e){var t=Lo();return null===go?t.memoizedState=e:Zo(t,go.memoizedState,e)},useTransition:function(){return[Po(Ao)[0],Lo().memoizedState]},useMutableSource:Oo,useSyncExternalStore:_o,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),fs(0,t)},n}function ms(e,t,n){(n=Ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ia(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=To(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Iu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Du(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ls(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Dl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Dl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Dl,Il),Il|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Dl,Il),Il|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ls(e,t,n,r,i){var a=_i(n)?Pi:Ai.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=To(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function As(e,t,n,r,i){if(_i(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Gs(e,t),za(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ta(u):u=Oi(t,u=_i(n)?Pi:Ai.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Ga(t,o,r,u),Pa=!1;var f=t.memoizedState;o.state=f,Fa(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ri.current||Pa?("function"===typeof c&&(Ba(t,n,c,r),l=t.memoizedState),(s=Pa||Ha(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_a(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ga(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Oi(t,l=_i(n)?Pi:Ai.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&Ga(t,o,r,l),Pa=!1,f=t.memoizedState,o.state=f,Fa(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ri.current||Pa?("function"===typeof h&&(Ba(t,n,h,r),p=t.memoizedState),(u=Pa||Ha(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,a,i)}function Rs(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var _s,Is,Ds,Ns,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fu(l,i,0,null),e=Mu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),ks||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),ru(r,e,i,-1))}return gu(),Bs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Yi++]=Xi,Wi[Yi++]=Qi,Wi[Yi++]=$i,Xi=e.id,Qi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Du(r,s):(s=Mu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Du(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Hs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,a);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return _i(t.type)&&Ii(),Ws(t),null;case 3:return r=t.stateNode,io(),Ti(Ri),Ti(Ai),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Is(e,t),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Ja.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Ur(Nr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),J(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,_s(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Ur(Nr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ti(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(su(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nl&&(Nl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),Is(e,t),null===e&&Hr(t.stateNode.containerInfo),Ws(t),null;case 10:return xa(t.type._context),Ws(t),null;case 19:if(Ti(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ks(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>zl&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Qe()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return _i(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ri),Ti(Ai),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}_s=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Qs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,fl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||el(n,t);case 6:var r=dl,i=fl;dl=null,hl(e,t,n),fl=i,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(dl,n.stateNode));break;case 4:r=dl,i=fl,dl=n.stateNode.containerInfo,fl=!0,hl(e,t,n),dl=r,fl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(o,s,i),dl=null,fl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Tu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Tu(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tu(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Tu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(g){Tu(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tu(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Tu(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Qe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,gl(t,e),Qs=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tu(r,n,g)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Js=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(g){Tu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Tu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Tu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var u=Qs;if(Xs=o,(Qs=l)&&!u)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Js=l):El(i);for(;null!==a;)Js=a,kl(a,t,n),a=a.sibling;Js=i,Xs=s,Qs=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&al(t)}catch(h){Tu(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function El(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Tu(t,i,l)}}var a=t.return;try{al(t)}catch(l){Tu(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Tu(t,o,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,Tl=Math.ceil,Cl=k.ReactCurrentDispatcher,Ll=k.ReactCurrentOwner,Al=k.ReactCurrentBatchConfig,Rl=0,Pl=null,Ol=null,_l=0,Il=0,Dl=Si(0),Nl=0,Ml=null,Fl=0,jl=0,Ul=0,Bl=null,Vl=null,Hl=0,zl=1/0,Gl=null,ql=!1,Kl=null,Wl=null,Yl=!1,$l=null,Xl=0,Ql=0,Zl=null,Jl=-1,eu=0;function tu(){return 0!==(6&Rl)?Qe():-1!==Jl?Jl:Jl=Qe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==_l?_l&-_l:null!==ma.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ru(e,t,n,r){if(50<Ql)throw Ql=0,Zl=null,Error(a(185));vt(e,n,r),0!==(2&Rl)&&e===Pl||(e===Pl&&(0===(2&Rl)&&(jl|=n),4===Nl&&lu(e,_l)),iu(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(zl=Qe()+500,Ui&&Hi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Pl?_l:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(uu.bind(null,e)):Vi(uu.bind(null,e)),oi((function(){0===(6&Rl)&&Hi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Jl=-1,eu=0,0!==(6&Rl))throw Error(a(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=ft(e,e===Pl?_l:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Rl;Rl|=2;var o=mu();for(Pl===e&&_l===t||(Gl=null,zl=Qe()+500,hu(e,t));;)try{bu();break}catch(l){pu(e,l)}wa(),Cl.current=o,Rl=i,null!==Ol?t=0:(Pl=null,_l=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ml,hu(e,0),lu(e,r),iu(e,Qe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Ml,hu(e,0),lu(e,r),iu(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Vl,Gl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Hl+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Vl,Gl),t);break}xu(e,Vl,Gl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Vl,Gl),r);break}xu(e,Vl,Gl);break;default:throw Error(a(329))}}}return iu(e,Qe()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Vl,Vl=n,null!==t&&su(t)),e}function su(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lu(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Rl))throw Error(a(327));Eu();var t=ft(e,0);if(0===(1&t))return iu(e,Qe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ml,hu(e,0),lu(e,t),iu(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Vl,Gl),iu(e,Qe()),null}function cu(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(zl=Qe()+500,Ui&&Hi())}}function du(e){null!==$l&&0===$l.tag&&0===(6&Rl)&&Eu();var t=Rl;Rl|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0===(6&(Rl=t))&&Hi()}}function fu(){Il=Dl.current,Ti(Dl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:io(),Ti(Ri),Ti(Ai),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(so);break;case 10:xa(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Pl=e,Ol=e=Du(e.current,null),_l=Il=t,Nl=0,Ml=null,Ul=jl=Fl=0,Vl=Bl=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pu(e,t){for(;;){var n=Ol;try{if(wa(),fo.current=os,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,bo=!1,ko=0,Ll.current=null,null===n||null===n.return){Nl=1,Ml=t,Ol=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=_l,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){gs(o,c,t),gu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Nl&&(Nl=2),null===Bl?Bl=[o]:Bl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ms(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(k){t=k,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mu(){var e=Cl.current;return Cl.current=os,null===e?os:e}function gu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Pl||0===(268435455&Fl)&&0===(268435455&jl)||lu(Pl,_l)}function vu(e,t){var n=Rl;Rl|=2;var r=mu();for(Pl===e&&_l===t||(Gl=null,hu(e,t));;)try{yu();break}catch(i){pu(e,i)}if(wa(),Rl=n,Cl.current=r,null!==Ol)throw Error(a(261));return Pl=null,_l=0,Nl}function yu(){for(;null!==Ol;)ku(Ol)}function bu(){for(;null!==Ol&&!$e();)ku(Ol)}function ku(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wu(e):Ol=t,Ll.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Il)))return void(Ol=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Nl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Nl&&(Nl=5)}function xu(e,t,n){var r=bt,i=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{Eu()}while(null!==$l);if(0!==(6&Rl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pl&&(Ol=Pl=null,_l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Pu(tt,(function(){return Eu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Al.transition,Al.transition=null;var s=bt;bt=1;var l=Rl;Rl|=4,Ll.current=null,function(e,t){if(ei=Gt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Tu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Rl=l,bt=s,Al.transition=o}else e.current=n;if(Yl&&(Yl=!1,$l=e,Xl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Eu(),o=e.pendingLanes,0!==(1&o)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Hi()}(e,t,n,r)}finally{Al.transition=i,bt=r}return null}function Eu(){if(null!==$l){var e=kt(Xl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Xl=0,0!==(6&Rl))throw Error(a(331));var i=Rl;for(Rl|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(ol(d),d===c){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){Tu(l,l.return,x)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Rl=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function Su(e,t,n){e=Da(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function Tu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Da(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(_l&n)===n&&(4===Nl||3===Nl&&(130023424&_l)===_l&&500>Qe()-Hl?hu(e,0):Ul|=n),iu(e,t)}function Lu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ra(e,t))&&(vt(e,t,n),iu(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Lu(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Lu(e,n)}function Pu(e,t){return We(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _u(e,t,n,r){return new Ou(e,t,n,r)}function Iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=_u(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Iu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mu(n.children,i,o,t);case S:s=8,i|=8;break;case T:return(e=_u(12,n,t,2|i)).elementType=T,e.lanes=o,e;case R:return(e=_u(13,n,t,i)).elementType=R,e.lanes=o,e;case P:return(e=_u(19,n,t,i)).elementType=P,e.lanes=o,e;case I:return Fu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case L:s=9;break e;case A:s=11;break e;case O:s=14;break e;case _:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=_u(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=_u(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=_u(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=_u(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=_u(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,a,o,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=_u(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Hu(e){if(!e)return Li;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(_i(n))return Ni(e,n,t)}return t}function zu(e,t,n,r,i,a,o,s,l){return(e=Vu(n,r,!0,e,0,a,0,s,l)).context=Hu(null),n=e.current,(a=Ia(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,vt(e,i,r),iu(e,r),e}function Gu(e,t,n,r){var i=t.current,a=tu(),o=nu(i);return n=Hu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(ru(e,i,o,a),Na(e,i,o)),o}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),ha();break;case 5:ao(t);break;case 1:_i(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ci(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return qs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Oi(t,Ai.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=Rs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Iu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Ls(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ls(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,_a(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(va,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ri.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ea(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ta(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),Es(e,t,r,i=ga(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Gs(e,t),t.tag=1,_i(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),za(t,r,i),qa(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=qu(o);s.call(e)}}Gu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qu(o);a.call(e)}}var o=zu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,Hr(8===e.nodeType?e.parentNode:e),du(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qu(l);s.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),du((function(){Gu(t,l,n,r)})),l}(n,t,e,i,r);return qu(o)}Xu.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gu(e,t,null,null)},Xu.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Gu(null,e,null,null)})),t[pi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Qe()),0===(6&Rl)&&(zl=Qe()+500,Hi()))}break;case 13:du((function(){var t=Ra(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Wu(e,1)}},xt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)ru(t,e,134217728,tu());Wu(e,134217728)}},Et=function(e){if(13===e.tag){var t=nu(e),n=Ra(e,t);if(null!==n)ru(n,e,t,tu());Wu(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cu,Re=du;var tc={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ce,Le,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,l,u,c=t(e),d=t(o);if(c&&d){if((l=e.length)!=o.length)return!1;for(s=l;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(c!=d)return!1;var f=e instanceof Date,h=o instanceof Date;if(f!=h)return!1;if(f&&h)return e.getTime()==o.getTime();var p=e instanceof RegExp,m=o instanceof RegExp;if(p!=m)return!1;if(p&&m)return e.toString()==o.toString();var g=n(e);if((l=g.length)!==n(o).length)return!1;for(s=l;0!==s--;)if(!r.call(o,g[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=l;0!==s--;)if(("_owner"!==(u=g[s])||!e.$$typeof)&&!a(e[u],o[u]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var k=b.prototype=new y;k.constructor=b,m(k,v.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var L=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+A(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(L,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(L,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+A(s=e[u],u);l+=R(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=R(s=s.value,t,i,c=a+A(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},I={transition:null},D={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:I,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,k(e),!m)if(null!==r(u))m=!0,I(x);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var a=h;try{for(k(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!R());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),k(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,T=null,C=-1,L=5,A=-1;function R(){return!(t.unstable_now()-A<L)}function P(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?E():(S=!1,T=null)}}else S=!1}if("function"===typeof b)E=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,_=O.port2;O.port1.onmessage=P,E=function(){_.postMessage(null)}}else E=function(){v(P,0)};function I(e){T=e,S||(S=!0,E())}function D(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,D(w,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,I(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},333:function(e){var t;t=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"E","\u011b":"e","\u011e":"G","\u011f":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012a":"i","\u012b":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014c":"O","\u014d":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"u","\u016b":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u018f":"E","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01c8":"LJ","\u01c9":"lj","\u01cb":"NJ","\u01cc":"nj","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u0259":"e","\u02da":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038a":"I","\u038c":"O","\u038e":"Y","\u038f":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u03aa":"I","\u03ab":"Y","\u03ac":"a","\u03ad":"e","\u03ae":"h","\u03af":"i","\u03b0":"y","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c2":"s","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ca":"i","\u03cb":"y","\u03cc":"o","\u03cd":"y","\u03ce":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040a":"NJ","\u040b":"C","\u040f":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045d":"u","\u045f":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04d8":"AE","\u04d9":"ae","\u04e8":"OE","\u04e9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E\'","\u0538":"Y\'","\u0539":"T\'","\u053a":"JH","\u053b":"I","\u053c":"L","\u053d":"X","\u053e":"C\'","\u053f":"K","\u0540":"H","\u0541":"D\'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054a":"P","\u054b":"J","\u054c":"R\'","\u054d":"S","\u054e":"V","\u054f":"T","\u0550":"R","\u0551":"C","\u0553":"P\'","\u0554":"Q\'","\u0555":"O\'\'","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062a":"t","\u062b":"th","\u062c":"j","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063a":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064a":"y","\u064b":"an","\u064c":"on","\u064d":"en","\u064e":"a","\u064f":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067e":"p","\u0686":"ch","\u0698":"zh","\u06a9":"k","\u06af":"g","\u06cc":"y","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u0e3f":"baht","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u1e62":"S","\u1e63":"s","\u1e80":"W","\u1e81":"w","\u1e82":"W","\u1e83":"w","\u1e84":"W","\u1e85":"w","\u1e9e":"SS","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e","\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U","\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u2013":"-","\u2018":"\'","\u2019":"\'","\u201c":"\\"","\u201d":"\\"","\u201e":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20a0":"ecu","\u20a2":"cruzeiro","\u20a3":"french franc","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ac":"euro","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\u20b8":"kazakhstani tenge","\u20b9":"indian rupee","\u20ba":"turkish lira","\u20bd":"russian ruble","\u20bf":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221e":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial","\ufef5":"laa","\ufef7":"laa","\ufef9":"lai","\ufefb":"la"}'),t=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042a":"A","\u042c":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044a":"a","\u044c":"y"},"de":{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue","\xdf":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221e":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xa2":"centavos","\xa3":"libras","\xa4":"moneda","\u20a3":"francos","\u2211":"suma","\u221e":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xa2":"centime","\xa3":"livre","\xa4":"devise","\u20a3":"franc","\u2211":"somme","\u221e":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xa2":"centavo","\u2211":"soma","\xa3":"libra","\u221e":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xd8":"OE","\xf8":"oe","\xc5":"AA","\xe5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xf8rre end"},"nb":{"&":"og","\xc5":"AA","\xc6":"AE","\xd8":"OE","\xe5":"aa","\xe6":"ae","\xf8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xc5":"AA","\xc4":"AE","\xd6":"OE","\xe5":"aa","\xe4":"ae","\xf6":"oe"}}');function n(n,r){if("string"!==typeof n)throw new Error("slugify: string argument expected");var i=t[(r="string"===typeof r?{replacement:r}:r||{}).locale]||{},a=void 0===r.replacement?"-":r.replacement,o=void 0===r.trim||r.trim,s=n.normalize().split("").reduce((function(t,n){var o=i[n];return void 0===o&&(o=e[n]),void 0===o&&(o=n),o===a&&(o=" "),t+o.replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return r.strict&&(s=s.replace(/[^A-Za-z0-9\s]/g,"")),o&&(s=s.trim()),s=s.replace(/\s+/g,a),r.lower&&(s=s.toLowerCase()),s}return n.extend=function(t){Object.assign(e,t)},n},e.exports=t(),e.exports.default=t()},564:function(e){var t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=function(e){return e.match(t)||[]},r=function(e){return e[0].toUpperCase()+e.slice(1)},i=function(e,t){return n(e).join(t).toLowerCase()},a=function(e){return n(e).reduce((function(e,t){return"".concat(e).concat(e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase())}),"")};e.exports={words:n,upperFirst:r,camelCase:a,pascalCase:function(e){return r(a(e))},snakeCase:function(e){return i(e,"_")},kebabCase:function(e){return i(e,"-")},sentenceCase:function(e){return r(i(e," "))},titleCase:function(e){return n(e).map(r).join(" ")}}},514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||l(e[a],a,new Set);return r;function l(e,t,a){if(a.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(f){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=o.get(e)||new Set;if(t=(c=Array.from(c)).length){a.add(e);do{var d=c[--t];l(d,s.get(d),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var h=o(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e,t,n){var r=n(62);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},416:function(e,t,n){var r=n(62);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},122:function(e,t,n){var r=n(416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var r=n(71);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},71:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},424:function(e,t,n){var r=n(372),i=n(872),a=n(116),o=n(218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),a=n(116),o=n(281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},36:function(e,t,n){var r=n(698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:function(e,t,n){var r=n(698).default,i=n(36);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e,t=n(250),r=n(791),i=n.t(r,2);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||s(e,t)||l()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return o(e)}(e)||c(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function E(e){var t=k();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function S(e,t,n){return S=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},S.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},T(e)}function C(e){return a(e)||c(e)||s(e)||l()}function L(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var R,P="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function _(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function I(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function N(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,l=a.v5Compat,u=void 0!==l&&l,c=s.history,d=e.Pop,f=null,h=p();function p(){return(c.state||{idx:null}).idx}function m(){d=e.Pop;var t=p(),n=null==t?null:t-h;h=t,f&&f({action:d,location:v.location,delta:n})}function g(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:N(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(A({},c.state,{idx:h}),""));var v={get action(){return d},get location(){return t(s,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(P,m),f=e,function(){s.removeEventListener(P,m),f=null}},createHref:function(e){return n(s,e)},createURL:g,encodeLocation:function(e){var t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){d=e.Push;var i=D(v.location,t,n);r&&r(i,t);var a=I(i,h=p()+1),o=v.createHref(i);try{c.pushState(a,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(o)}u&&f&&f({action:d,location:v.location,delta:1})},replace:function(t,n){d=e.Replace;var i=D(v.location,t,n);r&&r(i,t);var a=I(i,h=p()),o=v.createHref(i);c.replaceState(a,"",o),u&&f&&f({action:d,location:v.location,delta:0})},go:function(e){return c.go(e)}};return v}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(R||(R={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],Q(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Y(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=L(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=B(i.join("/")),l=[];return l.push.apply(l,d(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&l.push.apply(l,d(s)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,H=3,z=2,G=1,q=10,K=-2,W=function(e){return"*"===e};function Y(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=K),t&&(r+=z),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(V.test(t)?H:""===t?G:q)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=X({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var d=s.route;a.push({params:r,pathname:ne([i,c.pathname]),pathnameBase:re(ne([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=ne([i,c.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),d=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return _(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:d,pathname:s,pathnameBase:l,pattern:e}}function Q(e){try{return decodeURI(e)}catch(t){return _(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(O(!(i=A({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}a=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:ie(a),hash:ae(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){y(n,e);var t=E(n);function n(){return f(this,n),t.apply(this,arguments)}return g(n)}(T(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var le=["post","put","patch","delete"],ue=(new Set(le),["get"].concat(le));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var de=r.createContext(null);var fe=r.createContext(null);var he=r.createContext(null);var pe=r.createContext(null);var me=r.createContext(null);var ge=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ve=r.createContext(null);function ye(){return null!=r.useContext(me)}function be(){return ye()||O(!1),r.useContext(me).location}function ke(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(ge).isDataRoute?function(){var e=Ie(Le.UseNavigateStable).router,t=Ne(Ae.UseNavigateStable),n=r.useRef(!1);ke((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ce({fromRouteId:t},i)))}),[e,t]);return i}():function(){ye()||O(!1);var e=r.useContext(de),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(ge).matches,o=be().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),l=r.useRef(!1);ke((function(){l.current=!0}));var u=r.useCallback((function(t,r){if(void 0===r&&(r={}),l.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return u}()}var xe=r.createContext(null);function Ee(){var e=r.useContext(ge).matches,t=e[e.length-1];return t?t.params:{}}function Se(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ge).matches,a=be().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Te(t,n,i){ye()||O(!1);var a,o=r.useContext(pe).navigator,s=r.useContext(ge).matches,l=s[s.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/"),d=(l&&l.route,be());if(n){var f,h="string"===typeof n?M(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||O(!1),a=h}else a=d;var p=a.pathname||"/",m=j(t,{pathname:"/"===c?p:p.slice(c.length)||"/"});var g=_e(m&&m.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ne([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ne([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&g?r.createElement(me.Provider,{value:{location:ce({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:e.Pop}},g):g}function Ce(){var e=function(){var e,t=r.useContext(ve),n=De(Ae.UseRouteError),i=Ne(Ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Le,Ae,Re=r.createElement(Ce,null),Pe=function(e){y(n,e);var t=E(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ge.Provider,{value:this.props.routeContext},r.createElement(ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Oe(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(de);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ge.Provider,{value:t},i)}function _e(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var l=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));l>=0||O(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((function(e,i,a){var l=i.route.id?null==s?void 0:s[i.route.id]:null,u=null;n&&(u=i.route.errorElement||Re);var c=t.concat(o.slice(0,a+1)),d=function(){var t;return t=l?u:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Oe,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Pe,{location:n.location,revalidation:n.revalidation,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):d()}),null)}function Ie(e){var t=r.useContext(de);return t||O(!1),t}function De(e){var t=r.useContext(fe);return t||O(!1),t}function Ne(e){var t=function(e){var t=r.useContext(ge);return t||O(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||O(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Le||(Le={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ae||(Ae={}));var Me;i.startTransition;function Fe(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;ye()||O(!1);var o=r.useContext(ge).matches,s=be().pathname,l=we(),u=te(t,ee(o).map((function(e){return e.pathnameBase})),s,"path"===a),c=JSON.stringify(u);return r.useEffect((function(){return l(JSON.parse(c),{replace:n,state:i,relative:a})}),[l,c,a,n,i]),null}function je(e){return function(e){var t=r.useContext(ge).outlet;return t?r.createElement(xe.Provider,{value:e},t):t}(e.context)}function Ue(e){O(!1)}function Be(t){var n=t.basename,i=void 0===n?"/":n,a=t.children,o=void 0===a?null:a,s=t.location,l=t.navigationType,u=void 0===l?e.Pop:l,c=t.navigator,d=t.static,f=void 0!==d&&d;ye()&&O(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof s&&(s=M(s));var m=s,g=m.pathname,v=void 0===g?"/":g,y=m.search,b=void 0===y?"":y,k=m.hash,w=void 0===k?"":k,x=m.state,E=void 0===x?null:x,S=m.key,T=void 0===S?"default":S,C=r.useMemo((function(){var e=Z(v,h);return null==e?null:{location:{pathname:e,search:b,hash:w,state:E,key:T},navigationType:u}}),[h,v,b,w,E,T,u]);return null==C?null:r.createElement(pe.Provider,{value:p},r.createElement(me.Provider,{children:o,value:C}))}function Ve(e){var t=e.children,n=e.location;return Te(ze(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var He=new Promise((function(){}));r.Component;function ze(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(d(t),[i]);if(e.type!==r.Fragment){e.type!==Ue&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ze(e.props.children,a)),n.push(o)}else n.push.apply(n,ze(e.props.children,a))}})),n}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var We=i.startTransition;function Ye(e){var t=e.basename,n=e.children,i=e.future,a=e.window,o=r.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),F((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:N(t)}),null,e)}({window:a,v5Compat:!0}));var s=o.current,l=u(r.useState({action:s.action,location:s.location}),2),c=l[0],d=l[1],f=(i||{}).v7_startTransition,h=r.useCallback((function(e){f&&We?We((function(){return d(e)})):d(e)}),[d,f]);return r.useLayoutEffect((function(){return s.listen(h)}),[s,h]),r.createElement(Be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s})}var $e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,l=e.state,u=e.target,c=e.to,d=e.preventScrollReset,f=qe(e,Ke),h=r.useContext(pe).basename,p=!1;if("string"===typeof c&&Xe.test(c)&&(n=c,$e))try{var m=new URL(window.location.href),g=c.startsWith("//")?new URL(m.protocol+c):new URL(c),v=Z(g.pathname,h);g.origin===m.origin&&null!=v?c=v+g.search+g.hash:p=!0}catch(k){}var y=function(e,t){var n=(void 0===t?{}:t).relative;ye()||O(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=Se(e,{relative:n}),l=s.hash,u=s.pathname,c=s.search,d=u;return"/"!==a&&(d="/"===u?a:ne([a,u])),o.createHref({pathname:d,search:c,hash:l})}(c,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,l=n.relative,u=we(),c=be(),d=Se(e,{relative:l});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:N(c)===N(d);u(e,{replace:n,state:o,preventScrollReset:s,relative:l})}}),[c,u,d,a,o,i,e,s,l])}(c,{replace:s,state:l,target:u,preventScrollReset:d,relative:a});return r.createElement("a",Ge({},f,{href:n||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Ze,Je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ze||(Ze={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Je||(Je={}));var et=n(184),tt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M12 6L12 18",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round"}),(0,et.jsx)("path",{d:"M18 12L6 12",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round"})]})})},nt=function(e){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M20 10H4C3.44772 10 3 9.55228 3 9C3 8.44772 3.44772 8 4 8H20C20.5523 8 21 8.44772 21 9C21 9.55228 20.5523 10 20 10Z",fill:e.color?e.color:"#222222"}),(0,et.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.19773 12.7791L6.80236 18.2209C6.91491 19.2337 7.77103 20 8.79013 20H15.21C16.2291 20 17.0852 19.2337 17.1977 18.2209L17.8024 12.7791C17.9149 11.7663 18.771 11 19.7901 11H4.20996C5.22906 11 6.08519 11.7663 6.19773 12.7791ZM11 14C11 13.4477 10.5523 13 10 13C9.44776 13 9.00005 13.4477 9.00005 14V17C9.00005 17.5523 9.44776 18 10 18C10.5523 18 11 17.5523 11 17V14ZM15 14C15 13.4477 14.5523 13 14 13C13.4478 13 13 13.4477 13 14V17C13 17.5523 13.4478 18 14 18C14.5523 18 15 17.5523 15 17V14Z",fill:e.color?e.color:"#222222"}),(0,et.jsx)("path",{d:"M8 5L6 9M16 5L18 9",stroke:e.color?e.color:"#222222",strokeWidth:"2",strokeLinecap:"round"})]})})},rt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,et.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2038 10.7959L18.9998 8.99994C19.545 8.45469 19.8176 8.18207 19.9634 7.88797C20.2407 7.32842 20.2407 6.67146 19.9634 6.11191C19.8176 5.81782 19.545 5.54519 18.9998 4.99994C18.4545 4.45469 18.1819 4.18207 17.8878 4.03633C17.3282 3.75905 16.6713 3.75905 16.1117 4.03633C15.8176 4.18207 15.545 4.45469 14.9998 4.99994L13.1811 6.8186C14.145 8.4692 15.5311 9.84476 17.2038 10.7959ZM11.7267 8.27305L4.85615 15.1436C4.43109 15.5686 4.21856 15.7812 4.07883 16.0422C3.93909 16.3033 3.88015 16.5981 3.76226 17.1875L3.14686 20.2645C3.08034 20.5971 3.04708 20.7634 3.14168 20.858C3.23629 20.9526 3.4026 20.9194 3.73521 20.8529L6.81219 20.2375C7.40164 20.1196 7.69637 20.0606 7.95746 19.9209C8.21856 19.7812 8.43109 19.5686 8.85615 19.1436L15.7456 12.2542C14.1239 11.2385 12.7522 9.87622 11.7267 8.27305Z",fill:"#222222"})})})},it=function(e){var t,n=u((0,r.useState)(!1),2),i=n[0],a=n[1];return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("div",{children:(0,et.jsx)("h2",{id:"accordion-collapse-heading-1",children:(0,et.jsxs)("div",{className:"flex items-center justify-between w-full p-4  bg-primary rounded-lg my-1 ".concat(i?" shadow-xl":""),children:[(0,et.jsxs)("div",{className:"flex gap-2 items-center cursor-pointer",onClick:function(){return a(!i)},children:[(0,et.jsx)("svg",{className:"w-3 h-3 ".concat(i?"rotate-180":""," shrink-0"),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:(0,et.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5 5 1 1 5"})}),(0,et.jsx)("span",{children:e.section.title})]}),e.isDisplayBtn&&(0,et.jsxs)("div",{className:"flex gap-2",children:[(0,et.jsx)("div",{className:"cursor-pointer",onClick:function(){e.handleDisplayAddSectionModal&&e.handleDisplayAddSectionModal(e.section.id)},children:(0,et.jsx)(tt,{})}),(0,et.jsx)("div",{className:"cursor-pointer",onClick:function(){e.handleDisplayEditModal&&e.handleDisplayEditModal(e.section.id,e.section.title)},children:(0,et.jsx)(rt,{})}),(0,et.jsx)("div",{className:"cursor-pointer",onClick:function(){e.handleDisplayDeleteModal&&e.handleDisplayDeleteModal(e.section.id)},children:(0,et.jsx)(nt,{})})]})]})})}),i&&e.section.lessons&&(null===(t=e.section)||void 0===t?void 0:t.lessons.map((function(t,n){return(0,et.jsx)("div",{className:"py-4 pl-8 border rounded-lg my-2 hover:cursor-pointer ".concat(t.url_video===e.source?"bg-backgroundHover":""),onClick:function(){e.handleChangeSourceVideo&&e.handleChangeSourceVideo(t.url_video)},children:(0,et.jsx)("p",{children:t.title})},n)})))]})},at=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("circle",{cx:"12",cy:"12",r:"1",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("circle",{cx:"6",cy:"12",r:"1",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("circle",{cx:"18",cy:"12",r:"1",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"round"})]})})},ot=function(e){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M12 6V19",stroke:e.color?e.color:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("path",{d:"M21 6L21 19",stroke:e.color?e.color:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("path",{d:"M3 6L3 19",stroke:e.color?e.color:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("path",{d:"M21 19C21 19 20 17 16.5 17C13 17 12 19 12 19",stroke:e.color?e.color:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("path",{d:"M12 19C12 19 11 17 7.5 17C4 17 3 19 3 19",stroke:e.color?e.color:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("path",{d:"M21 6C21 6 20 4 16.5 4C13 4 12 6 12 6",stroke:e.color?e.color:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("path",{d:"M12 6C12 6 11 4 7.5 4C4 4 3 6 3 6",stroke:e.color?e.color:"#33363F",strokeWidth:"2",strokeLinecap:"round"})]})})},st=function(e){var t=u((0,r.useState)(!1),2),n=t[0],i=t[1];return(0,et.jsx)("div",{className:"py-4 border-b-[1px]",children:(0,et.jsxs)("div",{className:"flex flex-col gap-2 tablet:flex-row rounded-2xl hover:bg-backgroundHover/10 transition ease-in-out hover:shadow-lg duration-200",children:[(0,et.jsx)("div",{className:"h-48 bg-gray-400 rounded-lg tablet:w-64 laptop:w-80",children:(0,et.jsx)(Qe,{to:"/course-detail/".concat(e.slug),children:(0,et.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full rounded-lg"})})}),(0,et.jsxs)("div",{className:"flex gap-4 tablet:flex-1 px-2 pb-2 tablet:px-0",children:[(0,et.jsxs)("div",{className:"w-full",children:[(0,et.jsx)(Qe,{to:"/course-detail/".concat(e.slug),children:(0,et.jsx)("h2",{className:"text-xl tablet:text-2xl font-bold text-title",children:e.title})}),(0,et.jsx)("p",{className:"text-base tablet:text-xl italic",children:e.summary}),(0,et.jsxs)("p",{className:"text-base tablet:text-xl font-bold",children:[(0,et.jsx)("span",{children:"Author: "}),(0,et.jsx)(Qe,{to:"/profile/:userID",className:"text-blue-600 font-normal",children:e.author})]})]}),(0,et.jsxs)("div",{className:"w-[33px] h-[33px] rounded-full bg-slate-200 hover:bg-slate-400 ml-auto flex justify-center items-center relative shrink-0 cursor-pointer tablet:m-1",onClick:function(){return i(!n)},children:[(0,et.jsx)(at,{}),(0,et.jsxs)("div",{className:"shadow-lg p-2 rounded-lg absolute top-10 right-0 bg-white ".concat(n?"block":"hidden"),children:[(0,et.jsxs)("div",{className:"flex items-center p-2 rounded-lg hover:bg-backgroundHover cursor-pointer",onClick:function(){return e.handleEditCourse(e.id)},children:[(0,et.jsx)(ot,{}),(0,et.jsx)("span",{className:"ml-2",children:"Edit"})]}),(0,et.jsxs)("div",{className:"flex items-center p-2 rounded-lg hover:bg-backgroundHover cursor-pointer",onClick:function(){return e.handleDeleteCourse(e.id)},children:[(0,et.jsx)(nt,{}),(0,et.jsx)("span",{className:"ml-2",children:"Delete"})]})]})]})]})]})})},lt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("rect",{width:"24",height:"24",fill:"#FFFF00"}),(0,et.jsx)("path",{d:"M9.14939 7.8313C8.57654 5.92179 10.0064 4 12 4V4C13.9936 4 15.4235 5.92179 14.8506 7.8313L13.2873 13.0422C13.2171 13.2762 13.182 13.3932 13.128 13.4895C12.989 13.7371 12.7513 13.9139 12.4743 13.9759C12.3664 14 12.2443 14 12 14V14C11.7557 14 11.6336 14 11.5257 13.9759C11.2487 13.9139 11.011 13.7371 10.872 13.4895C10.818 13.3932 10.7829 13.2762 10.7127 13.0422L9.14939 7.8313Z",stroke:"#33363F",strokeWidth:"2"}),(0,et.jsx)("circle",{cx:"12",cy:"19",r:"2",stroke:"#33363F",strokeWidth:"2"})]})})},ut=function(e){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("div",{className:"fixed z-50 w-full h-full top-0 bottom-0 bg-black/50 flex justify-center items-center",children:(0,et.jsxs)("div",{className:"bg-white p-4 w-[400px] flex flex-col items-center justify-center rounded-lg",children:[(0,et.jsx)("div",{className:"w-[60px] h-[60px] rounded-full border border-black bg-[#FFFF00] mb-4 flex justify-center items-center",children:(0,et.jsx)(lt,{})}),(0,et.jsxs)("div",{className:"mb-2 text-center",children:[(0,et.jsx)("p",{className:"text-3xl mb-1 font-medium",children:"ARE YOU SURE?"}),(0,et.jsx)("span",{className:"text-xl",children:"You won't be able to revert it"})]}),(0,et.jsxs)("div",{className:"",children:[(0,et.jsx)("button",{className:"btn btn-error text-lg",onClick:e.handleDelete,children:"Yes, delete it"}),(0,et.jsx)("button",{className:"btn text-lg ml-2",onClick:e.handleCancel,children:"Cancel"})]})]})})})},ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdVSURBVHgB7ZtbbFRFGMf/M2d7oaWUcpP7VQoIRQpIpVxCAA1UVAg8GRQe1ERfjDHREF81McEHTcT4ojFRSFBi1KCgFApYhLa0FGpLW1oupZRLC7b03t0z4zez7balpAJTdg9kfsmmu+ecOZf/+Wbmm+/7ytpkm4TlgeGwGGEFNMQKaIgV0BAroCFWQEOsgIZYAQ2xAhpiBTTECmiIDx6FtbeBnS8Gv3kVbspiyMTh8CLMa8EEVlcDfvoYnNN/g/nbIeITwetrISbNgPvscxDTUqjfOPAKnhCQtbWAXSgBL8wGv1hG1pYEMW8pxKxngNg4sOoK8DPHwSuLIIcMg5idBpGSBjl0JCJNRAVkDTfB/zkBXkSfa1Vw56QFhZs6+65Wxm5cgVN4FLz0FFhLo+7aQrUZN5UGoyhEgogIyC6fg3PiTxKiACw2Hu68ZXDTVkImJNHOvvMau3WdhM6BmJtOVjciOD6SxTrHfgevKoccNRaBxWv1/nALGR4BpQRrbQIrzoGTkwlOliSS58FdkgExeSbdBeu3Oau7Bt/uz8GvV+vj3WXrICfOgIyJBRrq4Ms7BE4f5ga0FbvpGZAjx/7veQeCsAjIK4rg27ODLKedJoLn4S5arS3pvh7QdcGrz5El5tIkkw05eCjkzAVwFyyHHD4GrLkRrKoMzoHd4LduwJ29CIENbz50iwyLG6OsQcxaSGNdju62MoEefkYqxLAn7l1Ex6GZeKb+sPQ1wXGzJA9Rp45CTiWrnLuUuvIEsohWPSaKmanU5uE/XljHQNZYD15WQN34II1r5N9NmQ2xaFWwG0fH4n5h5CP6fv0GvPy0fhEd274ChKRZfBjCRWRmYRqrWHUlnPwjNKtSdxw6HCJ1OQJpq4G4hP7bCurK5YU0gezT7g1GjiPfcA6c7L3oeH+Htu5wEnk/sKkBvj92wTmZBQwaDPHUQpqVyZWZkAzEdFslu1GtxebFuWD1dTSwcvi3boOYOB2MXKDoLz+MiICRX8oNTqQuPEuPjYGNb5GQhxD13XYSJpmcZfLzaLLxka/IaD9o4lDiwokiN2i/Xp1EGu+shaOiaeCfrz8OuSTO/p1w6q7C8XdA0nIO8UPQ8fZHdMfR4PmHu9sF/PAd+UW7Sk7mD8GZN4x4M5hA3VM+MQH+LR/QeriD3JNy+DJ/pB19Z2ztvpQVQjyZAn72JFjGq+QfDkK48HY4i4SQ1MX7Q415YslaPRO7KzdCPsBsbsKjHw8ka3XVEo+CDi7N5OFYffS6PB4D5Kjx8L+zXVtsuHlsItKRCrjakL4hVkBDrICGWAENsQIaYgU0xLsCSnnHd2+WcntHQJU3aW/RX9m1S+AUSGDtrZ2/q8Cabuu8iv5N2Tyv4Jlggorx+b7+GDJpBK1rzwBtzfB9+4n+7VAqAIEO+HZ9pte+ztl8+psIL+AJAeXoiTqcxZpvA0kjIZOfDnVYRskkFWTtQkVf4Pohps+DF/CGgJQEcpe/pKsPAi9u1Rm3u6JifxTzk5QndjM2wwt4ZgwMrNgAOWIM5X+/6D2B9MChQCqn0H9g83thjfn1h3cmEcrfBl54DbyWch8H91DySPTazWprdO7EXbkJYuwUeAXPVWdxii5Hff8pxOgJOtbXhRr7VDWDEjkc+d57xXMhfTF9LtwV6+Fk/aTTn6Ht46fBXbXJU+IpvOdIk9UFKDSvK7S6oFyx+/LrlFwaAq/hzZUIheX9r7yra150/nfdFm2BXsRzY2BP+KUysJoLcBevgVfxtICPAjYaY4gV0JABE1BVnvoO/6xL2BRqXetk/6Yr7tXaNXTBohPB42oudjcWATiqPKOjLbRJRWJ0CW9pfndbVYh+5Xywkp/+hrZXFulz8vMlPe7nANj1y533sZeCE52RHoryqON0fXZxLkwZMAH5uUK4Yyd31/l1tIOVFegbVbUuoeNKCyCGUgqyRzSFVVXQQxXr4vHQcUXHwf6tDc7EXcdVFoNdPAtWTeJRiKv72mcg4hP0UjC0rbwQPD8L7EqlfhHoDIXJuMHgeZlw9u0Eho+G8XNjoPBTuIneOprqQ5tYSxOtX7P0CqLXRVVBZH1nTE8VBVE7MWYynNKToWPclHRtNU7ugd5tS/LgFP7V5/LKOllDXei3qlTgtPxjlyv1uUOQTymTU8EoPCZUFMiQgROQbjiw/g2ymO63KhNH0NJrq+62kN1rWxXTYyK4ymBNDbpb6Qp8egkq4qJvrIJigtEx2pJ74s5fgUD62j6X14n11uZe21T5mzq3TBp1x7HDSLxJGAgGzI1R/3ogY2LvOHmLtgRG1qaqUPU2NUYqkQbF6316W0sjda2E4PFqCCDnmSnhVHwwjo6LiQudL/iF6xcSak/XBp1DFWTKzgpXfS5a9jE1rtLfrvP2d78P9NzWDzTDujGGWAENsQIaYgU0xApoiBXQECugIVZAQ6yAhlgBDbECGmIFNMQKaIgV0BAroCFWQEOsgIZYAQ2xAhpiBTTECmiIFdAQK6Ah/wEROuTqUsObvAAAAABJRU5ErkJggg==",dt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("footer",{className:"mt-auto footer footer-center p-10 bg-background text-base-content rounded ",children:[(0,et.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[(0,et.jsx)("span",{className:"link text-lg no-underline hover:opacity-80",children:"About us"}),(0,et.jsx)("span",{className:"link text-lg no-underline hover:opacity-80",children:"Contact"})]}),(0,et.jsx)("div",{children:(0,et.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[(0,et.jsx)("div",{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:(0,et.jsx)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),(0,et.jsx)("div",{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:(0,et.jsx)("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})}),(0,et.jsx)("div",{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:(0,et.jsx)("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})})]})}),(0,et.jsxs)("div",{children:[(0,et.jsx)("img",{src:ct,alt:"Logo",className:""}),(0,et.jsx)("p",{className:"font-medium",children:"Copyright \xa9 2023 - All right reserved by Freshemy"})]})]})})},ft=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M19.7274 20.4471C19.2716 19.1713 18.2672 18.0439 16.8701 17.2399C15.4729 16.4358 13.7611 16 12 16C10.2389 16 8.52706 16.4358 7.12991 17.2399C5.73276 18.0439 4.72839 19.1713 4.27259 20.4471",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("circle",{cx:"12",cy:"8",r:"4",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"round"})]})})},ht=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M5.92971 19.283L5.92972 19.283L5.95149 19.2775L5.95151 19.2775L8.58384 18.6194C8.59896 18.6156 8.61396 18.6119 8.62885 18.6082C8.85159 18.5528 9.04877 18.5037 9.2278 18.4023C9.40683 18.301 9.55035 18.1571 9.71248 17.9947C9.72332 17.9838 9.73425 17.9729 9.74527 17.9618L16.9393 10.7678L16.9393 10.7678L16.9626 10.7445C17.2761 10.4311 17.5461 10.1611 17.7333 9.91573C17.9339 9.65281 18.0858 9.36038 18.0858 9C18.0858 8.63961 17.9339 8.34719 17.7333 8.08427C17.5461 7.83894 17.276 7.5689 16.9626 7.2555L16.9393 7.23223L16.5858 7.58579L16.9393 7.23223L16.7678 7.06066L16.7445 7.03738C16.4311 6.72395 16.1611 6.45388 15.9157 6.2667C15.6528 6.0661 15.3604 5.91421 15 5.91421C14.6396 5.91421 14.3472 6.0661 14.0843 6.2667C13.8389 6.45388 13.5689 6.72395 13.2555 7.03739L13.2322 7.06066L6.03816 14.2547C6.02714 14.2658 6.01619 14.2767 6.00533 14.2875C5.84286 14.4496 5.69903 14.5932 5.59766 14.7722C5.4963 14.9512 5.44723 15.1484 5.39179 15.3711C5.38809 15.386 5.38435 15.401 5.38057 15.4162L4.71704 18.0703C4.71483 18.0791 4.7126 18.088 4.71036 18.097C4.67112 18.2537 4.62921 18.421 4.61546 18.5615C4.60032 18.7163 4.60385 18.9773 4.81326 19.1867C5.02267 19.3961 5.28373 19.3997 5.43846 19.3845C5.57899 19.3708 5.74633 19.3289 5.90301 19.2896C5.91195 19.2874 5.92085 19.2852 5.92971 19.283Z",stroke:"#222222"}),(0,et.jsx)("path",{d:"M12.5 7.5L15.5 5.5L18.5 8.5L16.5 11.5L12.5 7.5Z",fill:"#222222"})]})})},pt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M8 12L8 8C8 5.79086 9.79086 4 12 4V4C14.2091 4 16 5.79086 16 8L16 12",stroke:"#33363F",strokeWidth:"2",strokeLinecap:"round"}),(0,et.jsx)("path",{d:"M3.69435 12.6678C3.83942 10.9269 3.91196 10.0565 4.48605 9.52824C5.06013 9 5.9336 9 7.68053 9H16.3195C18.0664 9 18.9399 9 19.514 9.52824C20.088 10.0565 20.1606 10.9269 20.3057 12.6678L20.8195 18.8339C20.904 19.8474 20.9462 20.3542 20.6491 20.6771C20.352 21 19.8435 21 18.8264 21H5.1736C4.15655 21 3.64802 21 3.35092 20.6771C3.05382 20.3542 3.09605 19.8474 3.18051 18.8339L3.69435 12.6678Z",stroke:"#33363F",strokeWidth:"2"})]})})},mt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M5 12V9C5 7.11438 5 6.17157 5.58579 5.58579C6.17157 5 7.11438 5 9 5H9.34315C10.1606 5 10.5694 5 10.9369 5.15224C11.3045 5.30448 11.5935 5.59351 12.1716 6.17157L12.8284 6.82843C13.4065 7.40649 13.6955 7.69552 14.0631 7.84776C14.4306 8 14.8394 8 15.6569 8H17C18.8856 8 19.8284 8 20.4142 8.58579C21 9.17157 21 10.1144 21 12V15C21 16.8856 21 17.8284 20.4142 18.4142C19.8284 19 18.8856 19 17 19H12",stroke:"#33363F",strokeWidth:"2"}),(0,et.jsx)("path",{d:"M4 16.5L6.5 19L11.5 14",stroke:"#33363F",strokeWidth:"2"})]})})},gt=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("path",{d:"M8 18.9282C9.21615 19.6303 10.5957 20 12 20C13.4043 20 14.7838 19.6303 16 18.9282C17.2162 18.2261 18.2261 17.2162 18.9282 16C19.6303 14.7838 20 13.4043 20 12C20 10.5957 19.6303 9.21615 18.9282 8C18.2261 6.78385 17.2162 5.77394 16 5.0718C14.7838 4.36965 13.4043 4 12 4C10.5957 4 9.21615 4.36965 8 5.0718",stroke:"#FF0000",strokeWidth:"2"}),(0,et.jsx)("path",{d:"M2 12L1.21913 11.3753L0.719375 12L1.21913 12.6247L2 12ZM11 13C11.5523 13 12 12.5523 12 12C12 11.4477 11.5523 11 11 11V13ZM5.21913 6.3753L1.21913 11.3753L2.78087 12.6247L6.78087 7.6247L5.21913 6.3753ZM1.21913 12.6247L5.21913 17.6247L6.78087 16.3753L2.78087 11.3753L1.21913 12.6247ZM2 13H11V11H2V13Z",fill:"#FF0000"})]})})},vt=n(248),yt=n(327),bt=n(164);var kt=function(e){e()},wt=function(){return kt};function xt(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=Symbol.for("react-redux-context-".concat(r.version)),St=globalThis;var Tt=new Proxy({},new Proxy({},{get:function(e,t){var n=function(){var e=St[Et];return e||(e=(0,r.createContext)(null),St[Et]=e),e}();return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return Reflect[t].apply(Reflect,[n].concat(i))}}}));function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;return function(){return(0,r.useContext)(e)}}var Lt=Ct(),At=function(){throw new Error("uSES not initialized!")},Rt=function(e,t){return e===t};function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=e===Tt?Lt:Ct(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof n?{equalityFn:n}:n,a=i.equalityFn,o=void 0===a?Rt:a,s=i.stabilityCheck,l=void 0===s?void 0:s;i.noopCheck;var u=t(),c=u.store,d=u.subscription,f=u.getServerState,h=u.stabilityCheck,p=(u.noopCheck,(0,r.useRef)(!0),(0,r.useCallback)(xt({},e.name,(function(t){return e(t)}))[e.name],[e,h,l])),m=At(d.addNestedSub,c.getState,f||c.getState,p,o);return(0,r.useDebugValue)(m),m}}var Ot=Pt(),_t=n(110),It=n.n(_t);n(900);var Dt={notify:function(){},get:function(){return[]}};function Nt(e,t){var n,r=Dt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=wt(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Dt)},getListeners:function(){return r}};return o}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var Ft=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,s=void 0===o?"once":o,l=e.noopCheck,u=void 0===l?"once":l,c=(0,r.useMemo)((function(){var e=Nt(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:s,noopCheck:u}}),[t,a,s,u]),d=(0,r.useMemo)((function(){return t.getState()}),[t]);Mt((function(){var e=c.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),d!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,d]);var f=n||Tt;return r.createElement(f.Provider,{value:c},i)};function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=e===Tt?Lt:Ct(e);return function(){return t().store}}var Ut=jt();function Bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=e===Tt?Ut:jt(e);return function(){return t().dispatch}}var Vt,Ht=Bt();!function(e){At=e}(yt.useSyncExternalStoreWithSelector),function(e){e}(vt.useSyncExternalStore),Vt=bt.unstable_batchedUpdates,kt=Vt;var zt=function(){return Ht()},Gt=Ot;function qt(){qt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var d={};function f(){}function p(){}function m(){}var g={};l(g,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==t&&n.call(y,a)&&(g=y);var b=m.prototype=f.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var l=c(e[r],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==h(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),l(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),l(b,s,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Kt(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Kt(a,r,i,o,s,"next",e)}function s(e){Kt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Yt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $t(e){return!!e&&!!e[Un]}function Xt(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Bn}(e)||Array.isArray(e)||!!e[jn]||!!(null===(t=e.constructor)||void 0===t?void 0:t[jn])||rn(e)||an(e))}function Qt(e,t,n){void 0===n&&(n=!1),0===Zt(e)?(n?Object.keys:Vn)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Zt(e){var t=e[Un];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:rn(e)?2:an(e)?3:0}function Jt(e,t){return 2===Zt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function en(e,t){return 2===Zt(e)?e.get(t):e[t]}function tn(e,t,n){var r=Zt(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function nn(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function rn(e){return Dn&&e instanceof Map}function an(e){return Nn&&e instanceof Set}function on(e){return e.o||e.t}function sn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Hn(e);delete t[Un];for(var n=Vn(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ln(e,t){return void 0===t&&(t=!1),cn(e)||$t(e)||!Xt(e)||(Zt(e)>1&&(e.set=e.add=e.clear=e.delete=un),Object.freeze(e),t&&Qt(e,(function(e,t){return ln(t,!0)}),!0)),e}function un(){Yt(2)}function cn(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function dn(e){var t=zn[e];return t||Yt(18,e),t}function fn(e,t){zn[e]||(zn[e]=t)}function hn(){return _n}function pn(e,t){t&&(dn("Patches"),e.u=[],e.s=[],e.v=t)}function mn(e){gn(e),e.p.forEach(yn),e.p=null}function gn(e){e===_n&&(_n=e.l)}function vn(e){return _n={p:[],l:_n,h:e,m:!0,_:0}}function yn(e){var t=e[Un];0===t.i||1===t.i?t.j():t.g=!0}function bn(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||dn("ES5").S(t,e,r),r?(n[Un].P&&(mn(t),Yt(4)),Xt(e)&&(e=kn(t,e),t.l||xn(t,e)),t.u&&dn("Patches").M(n[Un].t,e,t.u,t.s)):e=kn(t,n,[]),mn(t),t.u&&t.v(t.u,t.s),e!==Fn?e:void 0}function kn(e,t,n){if(cn(t))return t;var r=t[Un];if(!r)return Qt(t,(function(i,a){return wn(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return xn(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=sn(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),Qt(a,(function(t,a){return wn(e,r,i,t,a,n,o)})),xn(e,i,!1),n&&e.u&&dn("Patches").N(r,n,e.u,e.s)}return r.o}function wn(e,t,n,r,i,a,o){if($t(i)){var s=kn(e,i,a&&t&&3!==t.i&&!Jt(t.R,r)?a.concat(r):void 0);if(tn(n,r,s),!$t(s))return;e.m=!1}else o&&n.add(i);if(Xt(i)&&!cn(i)){if(!e.h.D&&e._<1)return;kn(e,i),t&&t.A.l||xn(e,i)}}function xn(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&ln(t,n)}function En(e,t){var n=e[Un];return(n?on(n):e)[t]}function Sn(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Tn(e){e.P||(e.P=!0,e.l&&Tn(e.l))}function Cn(e){e.o||(e.o=sn(e.t))}function Ln(e,t,n){var r=rn(t)?dn("MapSet").F(t,n):an(t)?dn("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:hn(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Gn;n&&(i=[r],a=qn);var o=Proxy.revocable(i,a),s=o.revoke,l=o.proxy;return r.k=l,r.j=s,l}(t,n):dn("ES5").J(t,n);return(n?n.A:hn()).p.push(r),r}function An(e){return $t(e)||Yt(22,e),function e(t){if(!Xt(t))return t;var n,r=t[Un],i=Zt(t);if(r){if(!r.P&&(r.i<4||!dn("ES5").K(r)))return r.t;r.I=!0,n=Rn(t,i),r.I=!1}else n=Rn(t,i);return Qt(n,(function(t,i){r&&en(r.t,t)===i||tn(n,t,e(i))})),3===i?new Set(n):n}(e)}function Rn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return sn(e)}function Pn(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Un];return Gn.get(t,e)},set:function(t){var n=this[Un];Gn.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Un];if(!i.P)switch(i.i){case 5:r(i)&&Tn(i);break;case 4:n(i)&&Tn(i)}}}function n(e){for(var t=e.t,n=e.k,r=Vn(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Un){var o=t[a];if(void 0===o&&!Jt(t,a))return!0;var s=n[a],l=s&&s[Un];if(l?l.t!==o:!nn(s,o))return!0}}var u=!!t[Un];return r.length!==Vn(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};fn("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Hn(n);delete a[Un];for(var o=Vn(a),s=0;s<o.length;s++){var l=o[s];a[l]=e(l,t||!!a[l].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:hn(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Un,{value:a,writable:!0}),i},S:function(e,n,i){i?$t(n)&&n[Un].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Un];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)Qt(a,(function(t){t!==Un&&(void 0!==i[t]||Jt(i,t)?o[t]||e(a[t]):(o[t]=!0,Tn(n)))})),Qt(i,(function(e){void 0!==a[e]||Jt(a,e)||(o[e]=!1,Tn(n))}));else if(5===s){if(r(n)&&(Tn(n),o.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)o[l]=!1;else for(var u=i.length;u<a.length;u++)o[u]=!0;for(var c=Math.min(a.length,i.length),d=0;d<c;d++)a.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var On,_n,In="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Dn="undefined"!=typeof Map,Nn="undefined"!=typeof Set,Mn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Fn=In?Symbol.for("immer-nothing"):((On={})["immer-nothing"]=!0,On),jn=In?Symbol.for("immer-draftable"):"__$immer_draftable",Un=In?Symbol.for("immer-state"):"__$immer_state",Bn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Vn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Hn=Object.getOwnPropertyDescriptors||function(e){var t={};return Vn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},zn={},Gn={get:function(e,t){if(t===Un)return e;var n=on(e);if(!Jt(n,t))return function(e,t,n){var r,i=Sn(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Xt(r)?r:r===En(e.t,t)?(Cn(e),e.o[t]=Ln(e.A.h,r,e)):r},has:function(e,t){return t in on(e)},ownKeys:function(e){return Reflect.ownKeys(on(e))},set:function(e,t,n){var r=Sn(on(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=En(on(e),t),a=null==i?void 0:i[Un];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(nn(n,i)&&(void 0!==n||Jt(e.t,t)))return!0;Cn(e),Tn(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==En(e.t,t)||t in e.t?(e.R[t]=!1,Cn(e),Tn(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=on(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Yt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Yt(12)}},qn={};Qt(Gn,(function(e,t){qn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),qn.deleteProperty=function(e,t){return qn.set.call(this,e,t,void 0)},qn.set=function(e,t,n){return Gn.set.call(this,e[0],t,n,e[0])};var Kn=function(){function e(e){var t=this;this.O=Mn,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Yt(6),void 0!==r&&"function"!=typeof r&&Yt(7),Xt(e)){var s=vn(t),l=Ln(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?mn(s):gn(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return pn(s,r),bn(e,s)}),(function(e){throw mn(s),e})):(pn(s,r),bn(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Fn&&(o=void 0),t.D&&ln(o,!0),r){var c=[],d=[];dn("Patches").M(e,o,c,d),r(c,d)}return o}Yt(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Xt(e)||Yt(8),$t(e)&&(e=An(e));var t=vn(this),n=Ln(this,e,void 0);return n[Un].C=!0,gn(t),n},t.finishDraft=function(e,t){var n=(e&&e[Un]).A;return pn(n,t),bn(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Mn&&Yt(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=dn("Patches").$;return $t(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Wn=new Kn,Yn=Wn.produce,$n=(Wn.produceWithPatches.bind(Wn),Wn.setAutoFreeze.bind(Wn),Wn.setUseProxies.bind(Wn),Wn.applyPatches.bind(Wn),Wn.createDraft.bind(Wn),Wn.finishDraft.bind(Wn),Yn);function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Jn="function"===typeof Symbol&&Symbol.observable||"@@observable",er=function(){return Math.random().toString(36).substring(7).split("").join(".")},tr={INIT:"@@redux/INIT"+er(),REPLACE:"@@redux/REPLACE"+er(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+er()}};function nr(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rr(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Zn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Zn(1));return n(rr)(e,t)}if("function"!==typeof e)throw new Error(Zn(2));var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(Zn(3));return a}function d(e){if("function"!==typeof e)throw new Error(Zn(4));if(l)throw new Error(Zn(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(Zn(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!nr(e))throw new Error(Zn(7));if("undefined"===typeof e.type)throw new Error(Zn(8));if(l)throw new Error(Zn(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:tr.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Zn(10));i=e,f({type:tr.REPLACE})}})[Jn]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Zn(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Jn]=function(){return this},e},r}function ir(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:tr.INIT}))throw new Error(Zn(12));if("undefined"===typeof n(void 0,{type:tr.PROBE_UNKNOWN_ACTION()}))throw new Error(Zn(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=e[l],d=u(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Zn(14))}i[l]=d,r=r||d!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function ar(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Zn(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=ar.apply(void 0,a)(n.dispatch),Qn(Qn({},n),{},{dispatch:r})}}}function sr(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var lr=sr();lr.withExtraArgument=sr;var ur=lr,cr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dr=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},fr=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},hr=Object.defineProperty,pr=Object.defineProperties,mr=Object.getOwnPropertyDescriptors,gr=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable,br=function(e,t,n){return t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kr=function(e,t){for(var n in t||(t={}))vr.call(t,n)&&br(e,n,t[n]);if(gr)for(var r=0,i=gr(t);r<i.length;r++){n=i[r];yr.call(t,n)&&br(e,n,t[n])}return e},wr=function(e,t){return pr(e,mr(t))},xr=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Er="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ar:ar.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Sr(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Tr=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return cr(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,fr([void 0],e[0].concat(this)))):new(t.bind.apply(t,fr([void 0],e.concat(this))))},t}(Array),Cr=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return cr(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,fr([void 0],e[0].concat(this)))):new(t.bind.apply(t,fr([void 0],e.concat(this))))},t}(Array);function Lr(e){return Xt(e)?$n(e,(function(){})):e}function Ar(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Tr);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ur.withExtraArgument(n.extraArgument)):r.push(ur));0;return r}(e)}}function Rr(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return kr(kr({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Pr(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Or(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Lr(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},l={};function u(){var t="function"===typeof e.extraReducers?Pr(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,l=t[2],u=void 0===l?void 0:l,c=kr(kr({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Pr(t):[t,n,r],o=a[0],s=a[1],l=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Lr(e())};else{var u=Lr(e);i=function(){return u}}function c(e,t){void 0===e&&(e=i());var n=fr([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if($t(e))return void 0===(r=n(e,t))?e:r;if(Xt(e))return $n(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,(function(e){for(var t in c)e.addCase(t,c[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}u&&e.addDefaultCase(u)}))}return a.forEach((function(e){var n,r,a=i[e],u=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[u]=n,l[e]=r?Rr(u,r):Rr(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:l,caseReducers:o,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}var _r=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Ir=["name","message","stack","code"],Dr=function(e,t){this.payload=e,this.meta=t},Nr=function(e,t){this.payload=e,this.meta=t},Mr=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Ir;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},Fr=function(){function e(e,t,n){var r=Rr(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:wr(kr({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Rr(e+"/pending",(function(e,t,n){return{payload:void 0,meta:wr(kr({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Rr(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Mr)(e||"Rejected"),meta:wr(kr({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,u){var c,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):_r(),f=new o;function h(e){c=e,f.abort()}var p=function(){return xr(this,null,(function(){var o,p,m,g,v,y;return dr(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:l,extra:u}),null===(k=g)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:u}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:l,extra:u,requestId:d,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new Dr(e,t)},fulfillWithValue:function(e,t){return new Nr(e,t)}})).then((function(t){if(t instanceof Dr)throw t;return t instanceof Nr?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return y=b.sent(),m=y instanceof Dr?a(null,d,e,y.payload,y.meta):a(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(m)&&m.meta.condition||s(m),[2,m]}var k}))}))}();return Object.assign(p,{abort:h,requestId:d,arg:e,unwrap:function(){return p.then(jr)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function jr(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Ur="listenerMiddleware";Rr(Ur+"/add"),Rr(Ur+"/removeAll"),Rr(Ur+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Br,Vr=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Vr(10);function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}Pn();var zr=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=Hr({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=t.read(o,s),e===s)break}catch(l){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Hr({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Hr({},this.attributes,t))},withConverter:function(t){return e(Hr({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function Gr(e,t){return function(){return e.apply(t,arguments)}}var qr,Kr=Object.prototype.toString,Wr=Object.getPrototypeOf,Yr=(qr=Object.create(null),function(e){var t=Kr.call(e);return qr[t]||(qr[t]=t.slice(8,-1).toLowerCase())}),$r=function(e){return e=e.toLowerCase(),function(t){return Yr(t)===e}},Xr=function(e){return function(t){return typeof t===e}},Qr=Array.isArray,Zr=Xr("undefined");var Jr=$r("ArrayBuffer");var ei=Xr("string"),ti=Xr("function"),ni=Xr("number"),ri=function(e){return null!==e&&"object"===typeof e},ii=function(e){if("object"!==Yr(e))return!1;var t=Wr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ai=$r("Date"),oi=$r("File"),si=$r("Blob"),li=$r("FileList"),ui=$r("URLSearchParams");function ci(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Qr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;for(n=0;n<l;n++)o=s[n],t.call(null,e[o],o,e)}}function di(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var fi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,hi=function(e){return!Zr(e)&&e!==fi};var pi,mi=(pi="undefined"!==typeof Uint8Array&&Wr(Uint8Array),function(e){return pi&&e instanceof pi}),gi=$r("HTMLFormElement"),vi=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),yi=$r("RegExp"),bi=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};ci(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},ki="abcdefghijklmnopqrstuvwxyz",wi="0123456789",xi={DIGIT:wi,ALPHA:ki,ALPHA_DIGIT:ki+ki.toUpperCase()+wi};var Ei=$r("AsyncFunction"),Si={isArray:Qr,isArrayBuffer:Jr,isBuffer:function(e){return null!==e&&!Zr(e)&&null!==e.constructor&&!Zr(e.constructor)&&ti(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||ti(e.append)&&("formdata"===(t=Yr(e))||"object"===t&&ti(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Jr(e.buffer)},isString:ei,isNumber:ni,isBoolean:function(e){return!0===e||!1===e},isObject:ri,isPlainObject:ii,isUndefined:Zr,isDate:ai,isFile:oi,isBlob:si,isRegExp:yi,isFunction:ti,isStream:function(e){return ri(e)&&ti(e.pipe)},isURLSearchParams:ui,isTypedArray:mi,isFileList:li,forEach:ci,merge:function e(){for(var t=(hi(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&di(n,i)||i;ii(n[a])&&ii(r)?n[a]=e(n[a],r):ii(r)?n[a]=e({},r):Qr(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&ci(arguments[i],r);return n},extend:function(e,t,n){return ci(t,(function(t,r){n&&ti(t)?e[r]=Gr(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&Wr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Yr,kindOfTest:$r,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(Qr(e))return e;var t=e.length;if(!ni(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:gi,hasOwnProperty:vi,hasOwnProp:vi,reduceDescriptors:bi,freezeMethods:function(e){bi(e,(function(t,n){if(ti(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];ti(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return Qr(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:di,global:fi,isContextDefined:hi,ALPHABET:xi,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xi.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ti(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(ri(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=Qr(n)?[]:{};return ci(n,(function(t,n){var a=e(t,r+1);!Zr(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:Ei,isThenable:function(e){return e&&(ri(e)||ti(e))&&ti(e.then)&&ti(e.catch)}};function Ti(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Si.inherits(Ti,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Si.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Ci=Ti.prototype,Li={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Li[e]={value:e}})),Object.defineProperties(Ti,Li),Object.defineProperty(Ci,"isAxiosError",{value:!0}),Ti.from=function(e,t,n,r,i,a){var o=Object.create(Ci);return Si.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Ti.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Ai=Ti;function Ri(e){return Si.isPlainObject(e)||Si.isArray(e)}function Pi(e){return Si.endsWith(e,"[]")?e.slice(0,-2):e}function Oi(e,t,n){return e?e.concat(t).map((function(e,t){return e=Pi(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var _i=Si.toFlatObject(Si,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Ii=function(e,t,n){if(!Si.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Si.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Si.isUndefined(t[e])}));var r=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Si.isSpecCompliantForm(t);if(!Si.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Si.isDate(e))return e.toISOString();if(!s&&Si.isBlob(e))throw new Ai("Blob is not supported. Use a Buffer instead.");return Si.isArrayBuffer(e)||Si.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(Si.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Si.isArray(e)&&function(e){return Si.isArray(e)&&!e.some(Ri)}(e)||(Si.isFileList(e)||Si.endsWith(n,"[]"))&&(s=Si.toArray(e)))return n=Pi(n),s.forEach((function(e,r){!Si.isUndefined(e)&&null!==e&&t.append(!0===o?Oi([n],r,a):null===o?n:n+"[]",l(e))})),!1;return!!Ri(e)||(t.append(Oi(i,n,a),l(e)),!1)}var c=[],d=Object.assign(_i,{defaultVisitor:u,convertValue:l,isVisitable:Ri});if(!Si.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Si.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Si.forEach(n,(function(n,a){!0===(!(Si.isUndefined(n)||null===n)&&i.call(t,n,Si.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function Di(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ni(e,t){this._pairs=[],e&&Ii(e,this,t)}var Mi=Ni.prototype;Mi.append=function(e,t){this._pairs.push([e,t])},Mi.toString=function(e){var t=e?function(t){return e.call(this,t,Di)}:Di;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Fi=Ni;function ji(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ui(e,t,n){if(!t)return e;var r,i=n&&n.encode||ji,a=n&&n.serialize;if(r=a?a(t,n):Si.isURLSearchParams(t)?t.toString():new Fi(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Bi=function(){function e(){f(this,e),this.handlers=[]}return g(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Si.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),Vi=Bi,Hi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zi={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Fi,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var Gi=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&Si.isArray(r)?r.length:a,s?(Si.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Si.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Si.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Si.isFormData(e)&&Si.isFunction(e.entries)){var n={};return Si.forEachEntry(e,(function(e,r){t(function(e){return Si.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},qi={"Content-Type":void 0};var Ki={transitional:Hi,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Si.isObject(e);if(a&&Si.isHTMLForm(e)&&(e=new FormData(e)),Si.isFormData(e))return i&&i?JSON.stringify(Gi(e)):e;if(Si.isArrayBuffer(e)||Si.isBuffer(e)||Si.isStream(e)||Si.isFile(e)||Si.isBlob(e))return e;if(Si.isArrayBufferView(e))return e.buffer;if(Si.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ii(e,new zi.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return zi.isNode&&Si.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Si.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Ii(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Si.isString(e))try{return(t||JSON.parse)(e),Si.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Ki.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Si.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Ai.from(a,Ai.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zi.classes.FormData,Blob:zi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Si.forEach(["delete","get","head"],(function(e){Ki.headers[e]={}})),Si.forEach(["post","put","patch"],(function(e){Ki.headers[e]=Si.merge(qi)}));var Wi=Ki,Yi=Si.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$i=Symbol("internals");function Xi(e){return e&&String(e).trim().toLowerCase()}function Qi(e){return!1===e||null==e?e:Si.isArray(e)?e.map(Qi):String(e)}function Zi(e,t,n,r,i){return Si.isFunction(r)?r.call(this,t,n):(i&&(t=n),Si.isString(t)?Si.isString(r)?-1!==t.indexOf(r):Si.isRegExp(r)?r.test(t):void 0:void 0)}var Ji=function(e,t){function n(e){f(this,n),e&&this.set(e)}return g(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=Xi(t);if(!i)throw new Error("header name must be a non-empty string");var a=Si.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Qi(e))}var a=function(e,t){return Si.forEach(e,(function(e,n){return i(e,n,t)}))};return Si.isPlainObject(e)||e instanceof this.constructor?a(e,t):Si.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&Yi[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=Xi(e)){var n=Si.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Si.isFunction(t))return t.call(this,r,n);if(Si.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=Xi(e)){var n=Si.findKey(this,e);return!(!n||void 0===this[n]||t&&!Zi(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=Xi(e)){var i=Si.findKey(n,e);!i||t&&!Zi(0,n[i],i,t)||(delete n[i],r=!0)}}return Si.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!Zi(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Si.forEach(this,(function(r,i){var a=Si.findKey(n,i);if(a)return t[a]=Qi(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Qi(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Si.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Si.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=u(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[$i]=this[$i]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=Xi(e);t[r]||(!function(e,t){var n=Si.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Si.isArray(e)?e.forEach(r):r(e),this}}]),n}();Ji.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Si.freezeMethods(Ji.prototype),Si.freezeMethods(Ji);var ea=Ji;function ta(e,t){var n=this||Wi,r=t||n,i=ea.from(r.headers),a=r.data;return Si.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function na(e){return!(!e||!e.__CANCEL__)}function ra(e,t,n){Ai.call(this,null==e?"canceled":e,Ai.ERR_CANCELED,t,n),this.name="CanceledError"}Si.inherits(ra,Ai,{__CANCEL__:!0});var ia=ra;var aa=zi.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Si.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Si.isString(r)&&o.push("path="+r),Si.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function oa(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var sa=zi.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Si.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var la=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),u=i[o];n||(n=l),r[a]=s,i[a]=l;for(var c=o,d=0;c!==a;)d+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(l-n<t)){var f=u&&l-u;return f?Math.round(1e3*d/f):void 0}}};function ua(e,t){var n=0,r=la(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,l=r(s);n=a;var u={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}var ca="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=ea.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Si.isFormData(i)&&(zi.isStandardBrowserEnv||zi.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var l=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(u+":"+c))}var d=oa(e.baseURL,e.url);function f(){if(l){var r=ea.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ai("Request failed with status code "+n.status,[Ai.ERR_BAD_REQUEST,Ai.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),Ui(d,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=f:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(f)},l.onabort=function(){l&&(n(new Ai("Request aborted",Ai.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Ai("Network Error",Ai.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||Hi;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Ai(t,r.clarifyTimeoutError?Ai.ETIMEDOUT:Ai.ECONNABORTED,e,l)),l=null},zi.isStandardBrowserEnv){var h=(e.withCredentials||sa(d))&&e.xsrfCookieName&&aa.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in l&&Si.forEach(a.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),Si.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),o&&"json"!==o&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",ua(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",ua(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){l&&(n(!t||t.type?new ia(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===zi.protocols.indexOf(p)?n(new Ai("Unsupported protocol "+p+":",Ai.ERR_BAD_REQUEST,e)):l.send(i||null)}))},da={http:null,xhr:ca};Si.forEach(da,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var fa=function(e){for(var t,n,r=(e=Si.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Si.isString(t)?da[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Ai("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Si.hasOwnProp(da,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Si.isFunction(n))throw new TypeError("adapter is not a function");return n};function ha(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ia(null,e)}function pa(e){return ha(e),e.headers=ea.from(e.headers),e.data=ta.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fa(e.adapter||Wi.adapter)(e).then((function(t){return ha(e),t.data=ta.call(e,e.transformResponse,t),t.headers=ea.from(t.headers),t}),(function(t){return na(t)||(ha(e),t&&t.response&&(t.response.data=ta.call(e,e.transformResponse,t.response),t.response.headers=ea.from(t.response.headers))),Promise.reject(t)}))}var ma=function(e){return e instanceof ea?e.toJSON():e};function ga(e,t){t=t||{};var n={};function r(e,t,n){return Si.isPlainObject(e)&&Si.isPlainObject(t)?Si.merge.call({caseless:n},e,t):Si.isPlainObject(t)?Si.merge({},t):Si.isArray(t)?t.slice():t}function i(e,t,n){return Si.isUndefined(t)?Si.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Si.isUndefined(t))return r(void 0,t)}function o(e,t){return Si.isUndefined(t)?Si.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(ma(e),ma(t),!0)}};return Si.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=l[r]||i,o=a(e[r],t[r],r);Si.isUndefined(o)&&a!==s||(n[r]=o)})),n}var va="1.4.0",ya={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){ya[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var ba={};ya.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Ai(r(i," has been removed"+(t?" in "+t:"")),Ai.ERR_DEPRECATED);return t&&!ba[i]&&(ba[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var ka={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ai("options must be an object",Ai.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],l=void 0===s||o(s,a,e);if(!0!==l)throw new Ai("option "+a+" must be "+l,Ai.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ai("Unknown option "+a,Ai.ERR_BAD_OPTION)}},validators:ya},wa=ka.validators,xa=function(){function e(t){f(this,e),this.defaults=t,this.interceptors={request:new Vi,response:new Vi}}return g(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=ga(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&ka.assertOptions(i,{silentJSONParsing:wa.transitional(wa.boolean),forcedJSONParsing:wa.transitional(wa.boolean),clarifyTimeoutError:wa.transitional(wa.boolean)},!1),null!=a&&(Si.isFunction(a)?t.paramsSerializer={serialize:a}:ka.assertOptions(a,{encode:wa.function,serialize:wa.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Si.merge(o.common,o[t.method]))&&Si.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=ea.concat(n,o);var s=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var d,f=0;if(!l){var h=[pa.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,c),d=h.length,u=Promise.resolve(t);f<d;)u=u.then(h[f++],h[f++]);return u}d=s.length;var p=t;for(f=0;f<d;){var m=s[f++],g=s[f++];try{p=m(p)}catch(v){g.call(this,v);break}}try{u=pa.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}},{key:"getUri",value:function(e){return Ui(oa((e=ga(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Si.forEach(["delete","get","head","options"],(function(e){xa.prototype[e]=function(t,n){return this.request(ga(n||{},{method:e,url:t,data:(n||{}).data}))}})),Si.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ga(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}xa.prototype[e]=t(),xa.prototype[e+"Form"]=t(!0)}));var Ea=xa,Sa=function(){function e(t){if(f(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new ia(e,t,i),n(r.reason))}))}return g(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),Ta=Sa;var Ca={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ca).forEach((function(e){var t=u(e,2),n=t[0],r=t[1];Ca[r]=n}));var La=Ca;var Aa=function e(t){var n=new Ea(t),r=Gr(Ea.prototype.request,n);return Si.extend(r,Ea.prototype,n,{allOwnKeys:!0}),Si.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ga(t,n))},r}(Wi);Aa.Axios=Ea,Aa.CanceledError=ia,Aa.CancelToken=Ta,Aa.isCancel=na,Aa.VERSION=va,Aa.toFormData=Ii,Aa.AxiosError=Ai,Aa.Cancel=Aa.CanceledError,Aa.all=function(e){return Promise.all(e)},Aa.spread=function(e){return function(t){return e.apply(null,t)}},Aa.isAxiosError=function(e){return Si.isObject(e)&&!0===e.isAxiosError},Aa.mergeConfig=ga,Aa.AxiosHeaders=ea,Aa.formToJSON=function(e){return Gi(Si.isHTMLForm(e)?new FormData(e):e)},Aa.HttpStatusCode=La,Aa.default=Aa;var Ra=Aa,Pa=Ra.create({baseURL:"http://cbintern2023team1.info/api"}),Oa=Ra.create();Pa.interceptors.request.use(function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zr.get("accessToken"))&&(t.headers=Qn(Qn({},t.headers),{},{authorization:"Bearer ".concat(n)})),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),Pa.interceptors.response.use((function(e){return e}),function(){var e=Wt(qt().mark((function e(t){var n,r,i,a;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===t||void 0===t?void 0:t.config,401!==(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)||r._retry){e.next=11;break}return r._retry=!0,e.next=5,ms();case 5:if(i=e.sent,!(a=i.data.data.accessToken)){e.next=11;break}return zr.set("accessToken",a),r.headers=Qn(Qn({},r.headers),{},{authorization:"Bearer ".concat(a)}),e.abrupt("return",Oa(r));case 11:if(!t){e.next=13;break}return e.abrupt("return",Promise.reject(t.response));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var _a=function(e,t,n){var r=zr.get("refreshToken");return Pa({method:e,headers:{"Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":"*",rftoken:"rfToken=".concat(r)},url:"".concat(t),data:n})},Ia={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Da=function(){function e(t){f(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,n)}return g(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Ia,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Qn(Qn({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Na=new Da,Ma=function(){function e(){f(this,e),this.observers={}}return g(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function Fa(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function ja(e){return null==e?"":""+e}function Ua(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var a="string"!==typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return i()?{}:{obj:e,k:r(a.shift())}}function Ba(e,t,n){var r=Ua(e,t,Object);r.obj[r.k]=n}function Va(e,t){var n=Ua(e,t),r=n.obj,i=n.k;if(r)return r[i]}function Ha(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Ha(e[r],t[r],n):e[r]=t[r]);return e}function za(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ga={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function qa(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Ga[e]})):e}var Ka=[" ",",","?","!",";"];function Wa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,a=0;a<r.length;++a){if(!i)return;if("string"===typeof i[r[a]]&&a+1<r.length)return;if(void 0===i[r[a]]){for(var o=2,s=r.slice(a,a+o).join(n),l=i[s];void 0===l&&r.length>a+o;)o++,l=i[s=r.slice(a,a+o).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"===typeof l)return l;if(s&&"string"===typeof l[s])return l[s]}var u=r.slice(a+o).join(n);return u?Wa(l,u,n):void 0}i=i[r[a]]}return i}}function Ya(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}var $a=function(e){y(n,e);var t=E(n);function n(e){var r;f(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(r=t.call(this)).data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return g(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];n&&"string"!==typeof n&&(o=o.concat(n)),n&&"string"===typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."));var s=Va(this.data,o);return s||!a||"string"!==typeof n?s:Wa(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),Ba(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=Va(this.data,o)||{};r?Ha(s,n,i):s=Qn(Qn({},s),n),Ba(this.data,o,s),a.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Qn(Qn({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(Ma),Xa={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach((function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))})),t}},Qa={},Za=function(e){y(n,e);var t=E(n);function n(e){var r;f(this,n);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,w(r=t.call(this))),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=Na.create("translator"),r}return g(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=Ka.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),a=!i.test(e);if(!a){var o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(a=!0)}return a}(e,n,r);if(a&&!o){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t=Qn({},t)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,u=s.namespaces,c=u[u.length-1],d=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(f){var h=t.nsSeparator||this.options.nsSeparator;return a?{res:"".concat(c).concat(h).concat(l),usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c}:"".concat(c).concat(h).concat(l)}return a?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c}:l}var p=this.resolve(e,t),m=p&&p.res,g=p&&p.usedKey||l,v=p&&p.exactUsedKey||l,y=Object.prototype.toString.apply(m),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject;if(k&&m&&("string"!==typeof m&&"boolean"!==typeof m&&"number"!==typeof m)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!==typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,Qn(Qn({},t),{},{ns:u})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return a?(p.res=w,p):w}if(o){var x="[object Array]"===y,E=x?[]:{},S=x?v:g;for(var T in m)if(Object.prototype.hasOwnProperty.call(m,T)){var C="".concat(S).concat(o).concat(T);E[T]=this.translate(C,Qn(Qn({},t),{joinArrays:!1,ns:u})),E[T]===C&&(E[T]=m[T])}m=E}}else if(k&&"string"===typeof b&&"[object Array]"===y)(m=m.join(b))&&(m=this.extendTranslation(m,e,t,r));else{var L=!1,A=!1,R=void 0!==t.count&&"string"!==typeof t.count,P=n.hasDefaultValue(t),O=R?this.pluralResolver.getSuffix(d,t.count,t):"",_=t.ordinal&&R?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",I=t["defaultValue".concat(O)]||t["defaultValue".concat(_)]||t.defaultValue;!this.isValidLookup(m)&&P&&(L=!0,m=I),this.isValidLookup(m)||(A=!0,m=l);var D=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:m,N=P&&I!==m&&this.options.updateMissing;if(A||L||N){if(this.logger.log(N?"updateKey":"missingKey",d,c,l,N?I:m),o){var M=this.resolve(l,Qn(Qn({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var U=0;U<j.length;U++)F.push(j[U]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(t.lng||this.language):F.push(t.lng||this.language);var B=function(e,n,r){var a=P&&r!==m?r:D;i.options.missingKeyHandler?i.options.missingKeyHandler(e,c,n,a,N,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,c,n,a,N,t),i.emit("missingKey",e,c,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?F.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){B([e],l+n,t["defaultValue".concat(n)]||I)}))})):B(F,l,I))}m=this.extendTranslation(m,e,t,p,r),A&&m===l&&this.options.appendNamespaceToMissingKey&&(m="".concat(c,":").concat(l)),(A||L)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(l):l,L?m:void 0):this.options.parseMissingKeyHandler(m))}return a?(p.res=m,p):m}},{key:"extendTranslation",value:function(e,t,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Qn(Qn({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Qn(Qn({},n),{interpolation:Qn(Qn({},this.options.interpolation),n.interpolation)}));var o,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);o=l&&l.length}var u=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=Qn(Qn({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);o<(c&&c.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):a.translate.apply(a,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,f="string"===typeof d?[d]:d;return void 0!==e&&null!==e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=Xa.handle(f,e,t,this.options&&this.options.postProcessPassResolved?Qn({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,a,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,f=d&&!s.ordinal&&0===s.count&&o.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);c.forEach((function(e){o.isValidLookup(t)||(a=e,!Qa["".concat(p[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(Qa["".concat(p[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!o.isValidLookup(t)){i=n;var a,l=[u];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(l,u,n,e,s);else{var c;d&&(c=o.pluralResolver.getSuffix(n,s.count,s));var p="".concat(o.options.pluralSeparator,"zero"),m="".concat(o.options.pluralSeparator,"ordinal").concat(o.options.pluralSeparator);if(d&&(l.push(u+c),s.ordinal&&0===c.indexOf(m)&&l.push(u+c.replace(m,o.options.pluralSeparator)),f&&l.push(u+p)),h){var g="".concat(u).concat(o.options.contextSeparator).concat(s.context);l.push(g),d&&(l.push(g+c),s.ordinal&&0===c.indexOf(m)&&l.push(g+c.replace(m,o.options.pluralSeparator)),f&&l.push(g+p))}}for(;a=l.pop();)o.isValidLookup(t)||(r=a,t=o.getResource(n,e,a,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:a}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(Ma);function Ja(e){return e.charAt(0).toUpperCase()+e.slice(1)}var eo=function(){function e(t){f(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Na.create("languageUtils")}return g(e,[{key:"getScriptPartFromCode",value:function(e){if(!(e=Ya(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=Ya(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ja(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ja(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ja(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"===typeof e&&a(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))})),i}}]),e}(),to=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],no={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},ro=["v1","v2","v3"],io=["v4"],ao={zero:0,one:1,two:2,few:3,many:4,other:5};var oo=function(){function e(t){f(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Na.create("pluralResolver"),this.options.compatibilityJSON&&!io.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return to.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:no[t.fc]}}))})),e}()}return g(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Ya(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return ao[e]-ao[t]})).map((function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!ro.includes(this.options.compatibilityJSON)}}]),e}();function so(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=function(e,t,n){var r=Va(e,n);return void 0!==r?r:Va(t,n)}(e,t,n);return!a&&i&&"string"===typeof n&&void 0===(a=Wa(e,n,r))&&(a=Wa(t,n,r)),a}var lo=function(){function e(){f(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Na.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return g(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:qa,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?za(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?za(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?za(t.nestingPrefix):t.nestingPrefixEscaped||za("$t("),this.nestingSuffix=t.nestingSuffix?za(t.nestingSuffix):t.nestingSuffixEscaped||za(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,a,o,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var i=so(t,l,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(i,void 0,n,Qn(Qn(Qn({},r),t),{},{interpolationkey:e})):i}var a=e.split(s.formatSeparator),o=a.shift().trim(),u=a.join(s.formatSeparator).trim();return s.format(so(t,l,o,s.options.keySeparator,s.options.ignoreJSONStructure),u,n,Qn(Qn(Qn({},r),t),{},{interpolationkey:o}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(o=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(a=c(n)))if("function"===typeof d){var l=d(e,i,r);a="string"===typeof l?l:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else{if(f){a=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else"string"===typeof a||s.useRawValueToEscape||(a=ja(a));var u=t.safeValue(a);if(e=e.replace(i[0],u),f?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++o>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(r[1]);e=r[0];var o=(a=this.interpolate(a,i)).match(/'/g),s=a.match(/"/g);(o&&o.length%2===0&&!s||s.length%2!==0)&&(a=a.replace(/'/g,'"'));try{i=JSON.parse(a),t&&(i=Qn(Qn({},t),i))}catch(l){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),l),"".concat(e).concat(n).concat(a)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var l=[];(i=(i=Qn({},o)).replace&&"string"!==typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=ja(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=l.reduce((function(e,t){return a.format(e,t,o.lng,Qn(Qn({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function uo(e){var t={};return function(n,r,i){var a=r+JSON.stringify(i),o=t[a];return o||(o=e(Ya(r),i),t[a]=o),o(n)}}var co=function(){function e(){f(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Na.create("formatter"),this.options=t,this.formats={number:uo((function(e,t){var n=new Intl.NumberFormat(e,Qn({},t));return function(e){return n.format(e)}})),currency:uo((function(e,t){var n=new Intl.NumberFormat(e,Qn(Qn({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:uo((function(e,t){var n=new Intl.DateTimeFormat(e,Qn({},t));return function(e){return n.format(e)}})),relativetime:uo((function(e,t){var n=new Intl.RelativeTimeFormat(e,Qn({},t));return function(e){return n.format(e,t.range||"day")}})),list:uo((function(e,t){var n=new Intl.ListFormat(e,Qn({},t));return function(e){return n.format(e)}}))},this.init(t)}return g(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=uo(t)}},{key:"format",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.split(this.formatSeparator).reduce((function(e,t){var a=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=C(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),o=a.formatName,s=a.formatOptions;if(r.formats[o]){var l=e;try{var u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},c=u.locale||u.lng||i.locale||i.lng||n;l=r.formats[o](e,c,Qn(Qn(Qn({},s),i),u))}catch(d){r.logger.warn(d)}return l}return r.logger.warn("there was no format function for ".concat(o)),e}),e);return a}}]),e}();var fo=function(e){y(n,e);var t=E(n);function n(e,r,i){var a;f(this,n);var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(a=t.call(this)).backend=e,a.store=r,a.services=i,a.languageUtils=i.languageUtils,a.options=o,a.logger=Na.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,o.backend,o),a}return g(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,a={},o={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===o[s]&&(o[s]=!0):(i.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===a[s]&&(a[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),n&&this.store.addResourceBundle(i,a,n),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(n){!function(e,t,n,r){var i=Ua(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}(n.loaded,[i],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){o[e]||(o[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:a,callback:o});else{this.readingCalls++;var s=function(s,l){if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&l&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*a,o)}),a):o(s,l)},l=this.backend[n].bind(this.backend);if(2!==l.length)return l(e,t,s);try{var u=l(e,t);u&&"function"===typeof u.then?u.then((function(e){return s(null,e)})).catch(s):s(null,u)}catch(c){s(c)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(function(r,o){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(i," failed"),r),!r&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(i),o),t.loaded(e,r,o)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){var s=Qn(Qn({},a),{},{isUpdate:i}),l=this.backend.create.bind(this.backend);if(l.length<6)try{var u;(u=5===l.length?l(e,t,n,r,s):l(e,t,n,r))&&"function"===typeof u.then?u.then((function(e){return o(null,e)})).catch(o):o(null,u)}catch(c){o(c)}else l(e,t,n,r,o,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(Ma);function ho(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===typeof e[1]&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function po(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function mo(){}var go=function(e){y(n,e);var t=E(n);function n(){var e;f(this,n);var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if((e=t.call(this)).options=po(i),e.services={},e.logger=Na,e.modules={external:[]},r=w(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"===typeof r[e]&&(r[e]=r[e].bind(r))})),a&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,a),x(e,w(e));setTimeout((function(){e.init(i,a)}),0)}return e}return g(n,[{key:"init",value:function(){var e=this,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"===typeof n&&(r=n,n={}),!n.defaultNS&&!1!==n.defaultNS&&n.ns&&("string"===typeof n.ns?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));var i=ho();function a(e){return e?"function"===typeof e?new e:e:null}if(this.options=Qn(Qn(Qn({},i),this.options),po(n)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Qn(Qn({},i.interpolation),this.options.interpolation)),void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){var o;this.modules.logger?Na.init(a(this.modules.logger),this.options):Na.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!==typeof Intl&&(o=co);var s=new eo(this.options);this.store=new $a(this.options.resources,this.options);var l=this.services;l.logger=Na,l.resourceStore=this.store,l.languageUtils=s,l.pluralResolver=new oo(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(l.formatter=a(o),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new lo(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new fo(a(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(l.languageDetector=a(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=a(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new Za(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,r||(r=mo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(n){e[n]=function(){var e;return(e=t.store)[n].apply(e,arguments),t}}));var c=Fa(),d=function(){var t=function(t,n){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(n),r(t,n)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo,r="string"===typeof e?e:this.language;if("function"===typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(r)a(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return a(e)}));this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=Fa();return e||(e=this.languages),t||(t=this.options.ns),n||(n=mo),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Xa.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this,r=this;this.isLanguageChangingTo=e;var i=Fa();this.emit("languageChanging",e);var a=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"===typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||a(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(a(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,i.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var a;if("object"!==typeof i){for(var o=arguments.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];a=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else a=Qn({},i);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var u,c=r.options.keySeparator||".";return u=a.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(a.keyPrefix).concat(c).concat(e)})):a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(t):t,r.t(u,a)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(r,e)||i&&!o(a,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=Fa();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Fa();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new eo(ho());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo,i=t.forkResourceStore;i&&delete t.forkResourceStore;var a=Qn(Qn(Qn({},this.options),t),{isClone:!0}),o=new n(a);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=Qn({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},i&&(o.store=new $a(this.store.data,a),o.services.resourceStore=o.store),o.translator=new Za(o.services,a),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(a,r),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){return new n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}}]),n}(Ma),vo=go.createInstance();vo.createInstance=go.createInstance;vo.createInstance,vo.dir,vo.init,vo.loadResources,vo.reloadResources,vo.use,vo.changeLanguage,vo.getFixedT,vo.t,vo.exists,vo.setDefaultNamespace,vo.hasLoadedNamespace,vo.loadNamespaces,vo.loadLanguages;function yo(e){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(e)}var bo=[],ko=bo.forEach,wo=bo.slice;function xo(e){return ko.call(wo.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function Eo(){return"function"===typeof XMLHttpRequest||"object"===("undefined"===typeof XMLHttpRequest?"undefined":yo(XMLHttpRequest))}var So,To,Co,Lo=n.p+"static/media/getFetch.40f37ddea2378391108f.cjs",Ao=n.t(Lo);function Ro(e){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(e)}"function"===typeof fetch&&(So="undefined"!==typeof global&&global.fetch?global.fetch:"undefined"!==typeof window&&window.fetch?window.fetch:fetch),Eo()&&("undefined"!==typeof global&&global.XMLHttpRequest?To=global.XMLHttpRequest:"undefined"!==typeof window&&window.XMLHttpRequest&&(To=window.XMLHttpRequest)),"function"===typeof ActiveXObject&&("undefined"!==typeof global&&global.ActiveXObject?Co=global.ActiveXObject:"undefined"!==typeof window&&window.ActiveXObject&&(Co=window.ActiveXObject)),So||!Ao||To||Co||(So=Lo||Ao),"function"!==typeof So&&(So=void 0);var Po=function(e,t){if(t&&"object"===Ro(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},Oo=function(e,t,n){So(e,t).then((function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)})).catch(n)},_o=!1,Io=function(e,t,n,r){return"function"===typeof n&&(r=n,n=void 0),r=r||function(){},So&&0!==t.indexOf("file:")?function(e,t,n,r){e.queryStringParams&&(t=Po(t,e.queryStringParams));var i=xo({},"function"===typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json");var a="function"===typeof e.requestOptions?e.requestOptions(n):e.requestOptions,o=xo({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},_o?{}:a);try{Oo(t,o,r)}catch(s){if(!a||0===Object.keys(a).length||!s.message||s.message.indexOf("not implemented")<0)return r(s);try{Object.keys(a).forEach((function(e){delete o[e]})),Oo(t,o,r),_o=!0}catch(l){r(l)}}}(e,t,n,r):Eo()||"function"===typeof ActiveXObject?function(e,t,n,r){n&&"object"===Ro(n)&&(n=Po("",n).slice(1)),e.queryStringParams&&(t=Po(t,e.queryStringParams));try{var i;(i=To?new To:new Co("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a="function"===typeof a?a():a)for(var o in a)i.setRequestHeader(o,a[o]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(s){console&&console.log(s)}}(e,t,n,r):void r(new Error("No fetch and no xhr implementation found!"))};function Do(e){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(e)}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mo(r.key),r)}}function Mo(e){var t=function(e,t){if("object"!==Do(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Do(t)?t:String(t)}var Fo=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return(t=Mo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},parseLoadPayload:function(e,t){},request:Io,reloadInterval:"undefined"===typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},jo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=xo(n,this.options||{},Fo()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,i){var a,o=this,s=this.options.loadPath;"function"===typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"===typeof e.then}(a=s)?a:Promise.resolve(a)).then((function(a){if(!a)return i(null,{});var s=o.services.interpolator.interpolate(a,{lng:e.join("+"),ns:n.join("+")});o.loadUrl(s,i,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var i=this,a="string"===typeof n?[n]:n,o="string"===typeof r?[r]:r,s=this.options.parseLoadPayload(a,o);this.options.request(this.options,e,s,(function(a,o){if(o&&(o.status>=500&&o.status<600||!o.status))return t("failed loading "+e+"; status code: "+o.status,!0);if(o&&o.status>=400&&o.status<500)return t("failed loading "+e+"; status code: "+o.status,!1);if(!o&&a&&a.message&&a.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+a.message,!0);if(a)return t(a,!1);var s,l;try{s="string"===typeof o.data?i.options.parse(o.data,n,r):o.data}catch(u){l="failed parsing "+e+" to json"}if(l)return t(l,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,i){var a=this;if(this.options.addPath){"string"===typeof e&&(e=[e]);var o=this.options.parsePayload(t,n,r),s=0,l=[],u=[];e.forEach((function(n){var r=a.options.addPath;"function"===typeof a.options.addPath&&(r=a.options.addPath(n,t));var c=a.services.interpolator.interpolate(r,{lng:n,ns:t});a.options.request(a.options,c,o,(function(t,n){s+=1,l.push(t),u.push(n),s===e.length&&"function"===typeof i&&i(l,u)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,a=n.language;if(!a||"cimode"!==a.toLowerCase()){var o=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};s(a),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),o.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,a){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&a&&i.log("loaded namespace ".concat(e," for language ").concat(t),a),n.loaded("".concat(t,"|").concat(e),r,a)}))}))}))}}}],n&&No(t.prototype,n),r&&No(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();jo.type="backend";var Uo=jo,Bo=[],Vo=Bo.forEach,Ho=Bo.slice;var zo=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Go=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=encodeURIComponent(t),a="".concat(e,"=").concat(i);if(r.maxAge>0){var o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(r.domain){if(!zo.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(r.domain)}if(r.path){if(!zo.test(r.path))throw new TypeError("option path is invalid");a+="; Path=".concat(r.path)}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}(e,encodeURIComponent(t),i)},qo=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},Ko={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!==typeof document){var n=qo(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!==typeof document&&Go(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Wo={name:"querystring",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var a=r[i].indexOf("=");if(a>0)r[i].substring(0,a)===e.lookupQuerystring&&(t=r[i].substring(a+1))}}return t}},Yo=null,$o=function(){if(null!==Yo)return Yo;try{Yo="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){Yo=!1}return Yo},Xo={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&$o()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&$o()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Qo=null,Zo=function(){if(null!==Qo)return Qo;try{Qo="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){Qo=!1}return Qo},Jo={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&Zo()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&Zo()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},es={name:"navigator",lookup:function(e){var t=[];if("undefined"!==typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},ts={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!==typeof document?document.documentElement:null);return n&&"function"===typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},ns={name:"path",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"===typeof e.lookupFromPathIndex){if("string"!==typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},rs={name:"subdomain",lookup:function(e){var t="number"===typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!==typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};var is=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return g(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(e){return Vo.call(Ho.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Ko),this.addDetector(Wo),this.addDetector(Xo),this.addDetector(Jo),this.addDetector(es),this.addDetector(ts),this.addDetector(ns),this.addDetector(rs)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"===typeof r&&(r=[r]),r&&(n=n.concat(r))}})),n=n.map((function(e){return t.options.convertDetectedLanguage(e)})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();is.type="languageDetector";var as={wrongPassword:"Wrong password",weakPassword:"Weak password",tooLongPassword:"Password is too long",emailNotExist:"Email does not exist",validationFail:"Validation fail",internalServer:"Internal server",invalidEmail:"Invalid email",emailIsRequired:"Email is required",passwordIsRequired:"Password is required",newPasswordRequired:"New Password is required",confirmPasswordIsRequired:"Confirm Password is required",wrongConfirmPasswordIsRequired:"Wrong Confirm Password is required",titleIsRequired:"Title is required",titleTooLong:"Title is too long, under 100 characters only",summaryIsRequired:"Summary is required",descriptionIsRequired:"Description is required",currentPasswordIsRequired:"Current password is required",newPasswordIsRequired:"New password is required",firstNameIsRequired:"First Name is required",lastNameIsRequired:"Last Name is required",newPasswordDiiferentOldPassword:"Confirm password must be the same with new password",categoriesIsRequired:"Category is required",categoriesMaxAllowed:"Categories Max Allowied are 4",fileIsNotSupport:"File is not support",thumbnailIsRequired:"Thumbnail is required",thumbnailTooBig:"Thumbnail too big",videoFileType:"Invalid file type, .mp4 .mkv .mov file only",videoFileSize:"Video too large, video size lower than 100MB only"},os="mp4",ss="mkv",ls="mov";vo.use(Uo).use(is).init({fallbackLng:"en",debug:!0,resources:{en:{translation:{errorMessages:as,successMessages:{verificationForgotPassword:"Sent a verification code to your email"},HTTP_CALL:{HTTP_POST:"POST",HTTP_GET:"GET",HTTP_PATCH:"PATCH",HTTP_PUT:"PUT",HTTP_DELETE:"DELETE"}}}},interpolation:{escapeValue:!1}});var us=vo,cs=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/login",n={email:t.email,password:t.password},e.next=4,_a(us.t("HTTP_CALL.HTTP_POST"),"auth/login",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ds=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/auth/signup",n={first_name:t.first_name,last_name:t.last_name,email:t.email,password:t.password,confirm_password:t.confirm_password},e.next=4,_a(us.t("HTTP_CALL.HTTP_POST"),"/auth/signup",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fs=function(){var e=Wt(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/me",e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),"auth/me");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hs=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/forgot-password",n={email:t},e.next=4,_a(us.t("HTTP_CALL.HTTP_POST"),"auth/forgot-password",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ps=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/reset-password",n={confirmPassword:t.confirmPassword,password:t.password,token:t.token},e.next=4,_a(us.t("HTTP_CALL.HTTP_POST"),"auth/reset-password",n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ms=function(){var e=Wt(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"auth/refresh",e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),"auth/refresh");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gs=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="auth/verify-email/".concat(t),e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vs=function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"courses/",e.next=3,_a(us.t("HTTP_CALL.HTTP_POST"),"courses/",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ys=function(){var e=Wt(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"categories/",e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),"categories/");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bs=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="courses/search-my-courses?pageIndex=".concat(t.pageIndex,"&keyword=").concat(t.keyword),e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ks=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="courses/".concat(t),e.next=3,_a(us.t("HTTP_CALL.HTTP_DELETE"),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ws=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="courses/".concat(t),e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xs=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="courses/detail/".concat(t),e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Es=function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"courses/change-thumbnail",e.next=3,_a(us.t("HTTP_CALL.HTTP_PATCH"),"courses/change-thumbnail",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ss=function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"courses/change-information",e.next=3,_a(us.t("HTTP_CALL.HTTP_PUT"),"courses/change-information",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ts=function(){var e=Wt(qt().mark((function e(){var t;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"courses/top-10",e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),"courses/top-10");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cs=function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/lessons",e.next=3,_a(us.t("HTTP_CALL.HTTP_POST"),"/lessons",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ls={addLesson:Cs},As=function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/sections",e.next=3,_a(us.t("HTTP_CALL.HTTP_POST"),"/sections",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rs=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/sections/".concat(t.id),e.next=3,_a(us.t("HTTP_CALL.HTTP_PUT"),n,{course_id:t.id,title:t.title});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ps=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/sections/".concat(t),e.next=3,_a(us.t("HTTP_CALL.HTTP_DELETE"),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Os=function(){var e=Wt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/courses/".concat(t,"/section"),e.next=3,_a(us.t("HTTP_CALL.HTTP_GET"),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_s={addSection:As,editSection:Rs,deleteSection:Ps,getSectionByCourseId:Os},Is=function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users/change-password",e.next=3,_a(us.t("HTTP_CALL.HTTP_PATCH"),"/users/change-password",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ds={changePassword:Is},Ns=function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"fileStorage/",e.next=3,_a(us.t("HTTP_CALL.HTTP_POST"),"fileStorage/",t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ms={uploadFile:Ns},Fs=Fr("auth/login",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cs(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),js=Fr("auth/register",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ds(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Us=Fr("auth/forgotPassword",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hs(t.email);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Bs=Fr("auth/resetPassword",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ps(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Vs=Fr("auth/verifyEmail",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gs(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Hs=Or({name:"auth",initialState:{user:{email:void 0,first_name:void 0,last_name:void 0,id:void 0},isLogin:!1,isLoading:!1},reducers:{setUsers:function(e,t){e.user.description=t.payload.description,e.user.email=t.payload.email,e.user.first_name=t.payload.first_name,e.user.last_name=t.payload.last_name,e.isLogin=!0},setLogout:function(e){e.isLogin=!1}},extraReducers:function(e){e.addCase(Fs.pending,(function(e){e.isLoading=!0})),e.addCase(Fs.fulfilled,(function(e,t){var n,r;zr.set("accessToken",null===(n=t.payload.data)||void 0===n?void 0:n.accessToken),zr.set("refreshToken",null===(r=t.payload.data)||void 0===r?void 0:r.refreshToken),e.isLoading=!1})),e.addCase(Fs.rejected,(function(e){e.isLoading=!1})),e.addCase(js.pending,(function(e){e.isLoading=!0})),e.addCase(js.fulfilled,(function(e){e.isLoading=!1})),e.addCase(js.rejected,(function(e){e.isLoading=!1})),e.addCase(Us.pending,(function(e){e.isLoading=!0})),e.addCase(Us.fulfilled,(function(e){e.isLoading=!1})),e.addCase(Us.rejected,(function(e){e.isLoading=!1})),e.addCase(Bs.pending,(function(e){e.isLoading=!0})),e.addCase(Bs.fulfilled,(function(e){e.isLoading=!1})),e.addCase(Bs.rejected,(function(e){e.isLoading=!1})),e.addCase(Vs.pending,(function(e){e.isLoading=!0})),e.addCase(Vs.fulfilled,(function(e){e.isLoading=!1})),e.addCase(Vs.rejected,(function(e){e.isLoading=!1}))}}),zs=Hs.actions,Gs=zs.setUsers,qs=zs.setLogout,Ks=Hs.reducer,Ws=function(){return function(){var e=Wt(qt().mark((function e(t){var n;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fs();case 3:(n=e.sent)&&(n.status>=200&&n.status<=299?t(Gs(n.data.data)):(zr.remove("accessToken"),zr.remove("refreshToken"),window.location.href="/login")),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ys=Fr("section/addSection",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_s.addSection(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),$s=Fr("section/editSection",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_s.editSection(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Xs=Fr("section/deleteSection",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_s.deleteSection(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Qs=Fr("section/getSectionByCourseId",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_s.getSectionByCourseId(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Zs=Or({name:"section",initialState:{title:"",sectionList:[],isLoading:!1,isGetLoading:!1},reducers:{setDeleteSection:function(e,t){e.sectionList=e.sectionList.filter((function(e){return e.id!==t.payload}))},setEditSection:function(e,t){e.sectionList=e.sectionList.map((function(e){return e.id===t.payload.id&&(e.title=t.payload.title),e}))}},extraReducers:function(e){e.addCase(Ys.pending,(function(e){e.isLoading=!0})),e.addCase(Ys.fulfilled,(function(e){e.isLoading=!1})),e.addCase(Ys.rejected,(function(e){e.isLoading=!1})),e.addCase($s.pending,(function(e){e.isLoading=!0})),e.addCase($s.fulfilled,(function(e){e.isLoading=!1})),e.addCase($s.rejected,(function(e){e.isLoading=!1})),e.addCase(Xs.pending,(function(e){e.isLoading=!0})),e.addCase(Xs.fulfilled,(function(e){e.isLoading=!1})),e.addCase(Xs.rejected,(function(e,t){e.isLoading=!1})),e.addCase(Qs.pending,(function(e){e.isGetLoading=!0})),e.addCase(Qs.fulfilled,(function(e,t){e.sectionList=t.payload.data,e.isGetLoading=!1})),e.addCase(Qs.rejected,(function(e){e.isGetLoading=!1}))}}),Js=Zs.actions,el=Js.setDeleteSection,tl=Js.setEditSection,nl=Zs.reducer,rl=Fr("auth/verifyEmail",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ds.changePassword(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),il=Or({name:"user",initialState:{isLoading:!1},reducers:{},extraReducers:function(e){e.addCase(rl.pending,(function(e){e.isLoading=!0})),e.addCase(rl.fulfilled,(function(e){e.isLoading=!1})),e.addCase(rl.rejected,(function(e){e.isLoading=!1}))}}).reducer,al=Fr("course/createCourse",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vs(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),ol=Fr("course/getCategories",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ys();case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),sl=Fr("course/getMyCourses",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bs(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),ll=Fr("course/getCourseDetail",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ws(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),ul=Fr("course/getCourseDetailById",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xs(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),cl=Fr("course/deleteCourse",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ks(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),dl=Fr("course/changeThumbnail",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Es(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),fl=Fr("course/changeInformation",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ss(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),hl=Fr("course/getTop10Courses",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ts();case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),pl=Or({name:"course",initialState:{selectCategories:[],categories:[],courses:[],courseDetail:{id:void 0,slug:"",title:"",categories:[],summary:"",author:{id:void 0,first_name:"",last_name:""},ratings:void 0,description:"",sections:[],created_at:"",updated_at:"",thumbnail:"",status:!1},courseChangeDetail:{id:void 0,slug:"",title:"",categories:[],summary:"",status:!1,description:"",thumbnail:""},isLoading:!1,totalPage:1,isGetLoading:!1},reducers:{setCategories:function(e,t){e.categories=t.payload},reset:function(e){e.categories=[].concat(d(e.categories),d(e.selectCategories)),e.selectCategories=[]},setDeleteCourse:function(e,t){e.courses=e.courses.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(al.pending,(function(e){e.isLoading=!0})),e.addCase(al.fulfilled,(function(e){e.isLoading=!1})),e.addCase(al.rejected,(function(e){e.isLoading=!1})),e.addCase(ol.pending,(function(e){e.isLoading=!0})),e.addCase(ol.fulfilled,(function(e,t){e.categories=t.payload.data,e.isLoading=!1})),e.addCase(ol.rejected,(function(e){e.isLoading=!1})),e.addCase(sl.pending,(function(e){e.isGetLoading=!0})),e.addCase(sl.fulfilled,(function(e,t){var n,r;e.courses=null===(n=t.payload.data)||void 0===n?void 0:n.courses,e.totalPage=null===(r=t.payload.data)||void 0===r?void 0:r.total_page,e.isGetLoading=!1})),e.addCase(sl.rejected,(function(e,t){e.isGetLoading=!1})),e.addCase(cl.pending,(function(e){e.isLoading=!0})),e.addCase(cl.fulfilled,(function(e){e.isLoading=!1})),e.addCase(cl.rejected,(function(e,t){e.isLoading=!1})),e.addCase(ll.pending,(function(e){e.isGetLoading=!0})),e.addCase(ll.fulfilled,(function(e,t){e.courseDetail=t.payload.data,e.isGetLoading=!1})),e.addCase(ll.rejected,(function(e){e.isGetLoading=!1})),e.addCase(ul.pending,(function(e){e.isGetLoading=!0})),e.addCase(ul.fulfilled,(function(e,t){var n;e.courseChangeDetail=t.payload.data,e.selectCategories=null===(n=t.payload.data)||void 0===n?void 0:n.categories,e.isGetLoading=!1})),e.addCase(ul.rejected,(function(e){e.isGetLoading=!1})),e.addCase(dl.pending,(function(e){e.isLoading=!0})),e.addCase(dl.fulfilled,(function(e){e.isLoading=!1})),e.addCase(dl.rejected,(function(e){e.isLoading=!1})),e.addCase(fl.pending,(function(e){e.isLoading=!0})),e.addCase(fl.fulfilled,(function(e){e.isLoading=!1})),e.addCase(fl.rejected,(function(e){e.isLoading=!1})),e.addCase(hl.pending,(function(e){e.isGetLoading=!0})),e.addCase(hl.fulfilled,(function(e,t){e.courses=t.payload.data,e.isGetLoading=!1})),e.addCase(hl.rejected,(function(e){e.isGetLoading=!1}))}}),ml=pl.actions,gl=(ml.setCategories,ml.reset),vl=ml.setDeleteCourse,yl=pl.reducer,bl=Fr("lesson/addLesson",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ls.addLesson(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),kl=Or({name:"lesson",initialState:{isLoading:!1,lessonList:[]},reducers:{setAddLesson:function(e,t){e.lessonList=e.lessonList.map((function(e){return e.id===t.payload.id&&(e.title=t.payload.title),e}))}},extraReducers:function(e){e.addCase(bl.pending,(function(e){e.isLoading=!0})),e.addCase(bl.fulfilled,(function(e,t){e.lessonList=[].concat(d(e.lessonList),[t.payload.data]),e.isLoading=!1})),e.addCase(bl.rejected,(function(e,t){e.isLoading=!1}))}}),wl=(kl.actions.setAddLesson,kl.reducer),xl=Fr("fileStorage/uploadImage",function(){var e=Wt(qt().mark((function e(t,n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ms.uploadFile(t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),El=Or({name:"fileStorage",initialState:{isLoading:!1,fileInformation:{public_id:void 0,width:void 0,height:void 0,url:void 0}},reducers:{},extraReducers:function(e){e.addCase(xl.pending,(function(e){e.isLoading=!0})),e.addCase(xl.fulfilled,(function(e,t){e.fileInformation=t.payload.data,e.isLoading=!1})),e.addCase(xl.rejected,(function(e){e.isLoading=!1}))}}).reducer,Sl=function(){var e=zt(),t=we();return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"w-60 bg-white shadow-xl absolute top-[70px] right-0 py-4 flex flex-col justify-start items-start rounded-lg",children:[(0,et.jsx)(Qe,{to:"/profile",className:"w-full hover:bg-backgroundHover rounded-lg",children:(0,et.jsxs)("div",{className:"flex justify-start items-center py-[10px] px-4",children:[(0,et.jsx)(ft,{}),(0,et.jsx)("span",{className:"ml-3",children:"Profile Setting"})]})}),(0,et.jsx)(Qe,{to:"/change-password",className:"w-full hover:bg-backgroundHover rounded-lg",children:(0,et.jsxs)("div",{className:"flex justify-start items-center py-[10px] px-4",children:[(0,et.jsx)(ht,{}),(0,et.jsx)("span",{className:"ml-3",children:"Change Password"})]})}),(0,et.jsx)(Qe,{to:"my-enroll-courses",className:"w-full hover:bg-backgroundHover rounded-lg tablet:hidden",children:(0,et.jsxs)("div",{className:"flex justify-start items-center py-[10px] px-4",children:[(0,et.jsx)(pt,{}),(0,et.jsx)("span",{className:"ml-3",children:"My enroll courses"})]})}),(0,et.jsx)(Qe,{to:"/my-courses",className:"w-full hover:bg-backgroundHover rounded-lg tablet:hidden",children:(0,et.jsxs)("div",{className:"flex justify-start items-center py-[10px] px-4",children:[(0,et.jsx)(mt,{}),(0,et.jsx)("span",{className:"ml-3",children:"My courses"})]})}),(0,et.jsxs)("div",{className:"w-full flex justify-start items-center py-[10px] px-4 hover:bg-backgroundHover rounded-lg cursor-pointer",onClick:function(){e(function(){var e=Wt(qt().mark((function e(t){return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Gs({description:void 0,first_name:void 0,last_name:void 0,email:void 0})),t(qs()),zr.remove("accessToken"),zr.remove("refreshToken");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t("/")},children:[(0,et.jsx)(gt,{}),(0,et.jsx)("span",{className:"text-error ml-3",children:"Logout"})]})]})})},Tl=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute top-4 left-3",children:[(0,et.jsx)("circle",{cx:"11",cy:"11",r:"6",stroke:"#222222"}),(0,et.jsx)("path",{d:"M20 20L17 17",stroke:"#222222",strokeLinecap:"round"})]})})},Cl=n.p+"static/media/default-avatar.8b628b1f27cd455effc5.png";function Ll(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Al={data:""},Rl=function(e){return"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Al},Pl=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ol=/\/\*[^]*?\*\/|  +/g,_l=/\n+/g,Il=function e(t,n){var r="",i="",a="",o=function(o){var s=t[o];"@"==o[0]?"i"==o[1]?r=o+" "+s+";":i+="f"==o[1]?e(s,o):o+"{"+e(s,"k"==o[1]?"":n)+"}":"object"==typeof s?i+=e(s,n?n.replace(/([^,])+/g,(function(e){return o.replace(/(^:.*)|([^,])+/g,(function(t){return/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t}))})):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=e.p?e.p(o,s):o+":"+s+";")};for(var s in t)o(s);return r+(n&&a?n+"{"+a+"}":a)+i},Dl={},Nl=function e(t){if("object"==typeof t){var n="";for(var r in t)n+=r+e(t[r]);return n}return t},Ml=function(e,t,n,r,i){var a=Nl(e),o=Dl[a]||(Dl[a]=function(e){for(var t=0,n=11;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n}(a));if(!Dl[o]){var s=a!==e?e:function(e){for(var t,n,r=[{}];t=Pl.exec(e.replace(Ol,""));)t[4]?r.shift():t[3]?(n=t[3].replace(_l," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(_l," ").trim();return r[0]}(e);Dl[o]=Il(i?xt({},"@keyframes "+o,s):s,n?"":"."+o)}var l=n&&Dl.g?Dl.g:null;return n&&(Dl.g=Dl[o]),function(e,t,n,r){r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)}(Dl[o],t,r,l),o},Fl=function(e,t,n){return e.reduce((function(e,r,i){var a=t[i];if(a&&a.call){var o=a(n),s=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=s?"."+s:o&&"object"==typeof o?o.props?"":Il(o,""):!1===o?"":o}return e+r+(null==a?"":a)}),"")};function jl(e){var t=this||{},n=e.call?e(t.p):e;return Ml(n.unshift?n.raw?Fl(n,[].slice.call(arguments,1),t.p):n.reduce((function(e,n){return Object.assign(e,n&&n.call?n(t.p):n)}),{}):n,Rl(t.target),t.g,t.o,t.k)}jl.bind({g:1});var Ul,Bl,Vl,Hl,zl,Gl,ql,Kl,Wl,Yl,$l,Xl,Ql,Zl,Jl,eu,tu,nu,ru,iu=jl.bind({k:1});function au(e,t){var n=this||{};return function(){var r=arguments;function i(a,o){var s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:Bl&&Bl()},s),n.o=/ *go\d+/.test(l),s.className=jl.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);var u=e;return e[0]&&(u=s.as||e,delete s.as),Vl&&u[0]&&Vl(s),Ul(u,s)}return t?t(i):i}}var ou=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},su=function(){var e=0;return function(){return(++e).toString()}}(),lu=function(){var e;return function(){if(void 0===e&&typeof window<"u"){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}(),uu=new Map,cu=function(e){if(!uu.has(e)){var t=setTimeout((function(){uu.delete(e),pu({type:4,toastId:e})}),1e3);uu.set(e,t)}},du=function e(t,n){switch(n.type){case 0:return Qn(Qn({},t),{},{toasts:[n.toast].concat(d(t.toasts)).slice(0,20)});case 1:return n.toast.id&&function(e){var t=uu.get(e);t&&clearTimeout(t)}(n.toast.id),Qn(Qn({},t),{},{toasts:t.toasts.map((function(e){return e.id===n.toast.id?Qn(Qn({},e),n.toast):e}))});case 2:var r=n.toast;return t.toasts.find((function(e){return e.id===r.id}))?e(t,{type:1,toast:r}):e(t,{type:0,toast:r});case 3:var i=n.toastId;return i?cu(i):t.toasts.forEach((function(e){cu(e.id)})),Qn(Qn({},t),{},{toasts:t.toasts.map((function(e){return e.id===i||void 0===i?Qn(Qn({},e),{},{visible:!1}):e}))});case 4:return void 0===n.toastId?Qn(Qn({},t),{},{toasts:[]}):Qn(Qn({},t),{},{toasts:t.toasts.filter((function(e){return e.id!==n.toastId}))});case 5:return Qn(Qn({},t),{},{pausedAt:n.time});case 6:var a=n.time-(t.pausedAt||0);return Qn(Qn({},t),{},{pausedAt:void 0,toasts:t.toasts.map((function(e){return Qn(Qn({},e),{},{pauseDuration:e.pauseDuration+a})}))})}},fu=[],hu={toasts:[],pausedAt:void 0},pu=function(e){hu=du(hu,e),fu.forEach((function(e){e(hu)}))},mu={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gu=function(e){return function(t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Qn(Qn({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||su()})}(t,e,n);return pu({type:2,toast:r}),r.id}},vu=function(e,t){return gu("blank")(e,t)};vu.error=gu("error"),vu.success=gu("success"),vu.loading=gu("loading"),vu.custom=gu("custom"),vu.dismiss=function(e){pu({type:3,toastId:e})},vu.remove=function(e){return pu({type:4,toastId:e})},vu.promise=function(e,t,n){var r=vu.loading(t.loading,Qn(Qn({},n),null==n?void 0:n.loading));return e.then((function(e){return vu.success(ou(t.success,e),Qn(Qn({id:r},n),null==n?void 0:n.success)),e})).catch((function(e){vu.error(ou(t.error,e),Qn(Qn({id:r},n),null==n?void 0:n.error))})),e};var yu=function(e,t){pu({type:1,toast:{id:e,height:t}})},bu=function(){pu({type:5,time:Date.now()})},ku=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u((0,r.useState)(hu),2),n=t[0],i=t[1];(0,r.useEffect)((function(){return fu.push(i),function(){var e=fu.indexOf(i);e>-1&&fu.splice(e,1)}}),[n]);var a=n.toasts.map((function(t){var n,r;return Qn(Qn(Qn(Qn({},e),e[t.type]),t),{},{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||mu[t.type],style:Qn(Qn(Qn({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return Qn(Qn({},n),{},{toasts:a})}(e),n=t.toasts,i=t.pausedAt;(0,r.useEffect)((function(){if(!i){var e=Date.now(),t=n.map((function(t){if(t.duration!==1/0){var n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((function(){return vu.dismiss(t.id)}),n);t.visible&&vu.dismiss(t.id)}}));return function(){t.forEach((function(e){return e&&clearTimeout(e)}))}}}),[n,i]);var a=(0,r.useCallback)((function(){i&&pu({type:6,time:Date.now()})}),[i]),o=(0,r.useCallback)((function(e,t){var r,i=t||{},a=i.reverseOrder,o=void 0!==a&&a,s=i.gutter,l=void 0===s?8:s,u=i.defaultPosition,c=n.filter((function(t){return(t.position||u)===(e.position||u)&&t.height})),f=c.findIndex((function(t){return t.id===e.id})),h=c.filter((function(e,t){return t<f&&e.visible})).length;return(r=c.filter((function(e){return e.visible}))).slice.apply(r,d(o?[h+1]:[0,h])).reduce((function(e,t){return e+(t.height||0)+l}),0)}),[n]);return{toasts:n,handlers:{updateHeight:yu,startPause:bu,endPause:a,calculateOffset:o}}},wu=iu(Hl||(Hl=Ll(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),xu=iu(zl||(zl=Ll(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Eu=iu(Gl||(Gl=Ll(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Su=au("div")(ql||(ql=Ll(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(function(e){return e.primary||"#ff4b4b"}),wu,xu,(function(e){return e.secondary||"#fff"}),Eu),Tu=iu(Kl||(Kl=Ll(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Cu=au("div")(Wl||(Wl=Ll(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(function(e){return e.secondary||"#e0e0e0"}),(function(e){return e.primary||"#616161"}),Tu),Lu=iu(Yl||(Yl=Ll(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Au=iu($l||($l=Ll(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Ru=au("div")(Xl||(Xl=Ll(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(function(e){return e.primary||"#61d345"}),Lu,Au,(function(e){return e.secondary||"#fff"})),Pu=au("div")(Ql||(Ql=Ll(["\n  position: absolute;\n"]))),Ou=au("div")(Zl||(Zl=Ll(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),_u=iu(Jl||(Jl=Ll(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Iu=au("div")(eu||(eu=Ll(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),_u),Du=function(e){var t=e.toast,n=t.icon,i=t.type,a=t.iconTheme;return void 0!==n?"string"==typeof n?r.createElement(Iu,null,n):n:"blank"===i?null:r.createElement(Ou,null,r.createElement(Cu,Qn({},a)),"loading"!==i&&r.createElement(Pu,null,"error"===i?r.createElement(Su,Qn({},a)):r.createElement(Ru,Qn({},a))))},Nu=function(e){return"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n")},Mu=function(e){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n")},Fu=au("div")(tu||(tu=Ll(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ju=au("div")(nu||(nu=Ll(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Uu=r.memo((function(e){var t=e.toast,n=e.position,i=e.style,a=e.children,o=t.height?function(e,t){var n=e.includes("top")?1:-1,r=u(lu()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Nu(n),Mu(n)],2),i=r[0],a=r[1];return{animation:t?"".concat(iu(i)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(iu(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}}(t.position||n||"top-center",t.visible):{opacity:0},s=r.createElement(Du,{toast:t}),l=r.createElement(ju,Qn({},t.ariaProps),ou(t.message,t));return r.createElement(Fu,{className:t.className,style:Qn(Qn(Qn({},o),i),t.style)},"function"==typeof a?a({icon:s,message:l}):r.createElement(r.Fragment,null,s,l))}));!function(e,t,n,r){Il.p=t,Ul=e,Bl=n,Vl=r}(r.createElement);var Bu=function(e){var t=e.id,n=e.className,i=e.style,a=e.onHeightUpdate,o=e.children,s=r.useCallback((function(e){if(e){var n=function(){var n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,a]);return r.createElement("div",{ref:s,className:n,style:i},o)},Vu=jl(ru||(ru=Ll(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Hu=function(e){var t=e.reverseOrder,n=e.position,i=void 0===n?"top-center":n,a=e.toastOptions,o=e.gutter,s=e.children,l=e.containerStyle,u=e.containerClassName,c=ku(a),d=c.toasts,f=c.handlers;return r.createElement("div",{style:Qn({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map((function(e){var n=e.position||i,a=function(e,t){var n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Qn(Qn({left:0,right:0,display:"flex",position:"absolute",transition:lu()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)}(n,f.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:i}));return r.createElement(Bu,{id:e.id,key:e.id,onHeightUpdate:f.updateHeight,className:e.visible?Vu:"",style:a},"custom"===e.type?ou(e.message,e):s?s(e):r.createElement(Uu,{toast:e,position:n}))})))},zu=vu,Gu=function(e){var t=e.isLogin,n=u((0,r.useState)(!1),2),i=n[0],a=n[1];return(0,et.jsxs)(et.Fragment,{children:[i&&(0,et.jsx)("div",{className:"fixed z-10 w-screen h-screen backdrop-brightness-90 tablet:hidden",onClick:function(){return a(!i)}}),(0,et.jsxs)("header",{className:"w-full h-[100px] max-w-full bg-background shadow-sm fixed top-0 left-0 z-[10]",children:[(0,et.jsx)(Hu,{}),(0,et.jsxs)("div",{className:"w-full h-full flex items-center py-[10px] px-4 tablet:px-[60px]",children:[(0,et.jsxs)("div",{className:"flex-1 flex gap-4 laptop:gap-[120px] items-center",children:[(0,et.jsx)(Qe,{to:"/",className:"w-[60px] h-[60px] shrink-0",children:(0,et.jsx)("img",{src:ct,alt:"Logo"})}),(0,et.jsxs)("div",{className:"hidden relative laptop:block flex-1",children:[(0,et.jsx)("input",{type:"text",placeholder:"Search for anything",className:"rounded-full py-4 px-10 w-[70%] max-w-[700px] border-[1px] border-black"}),(0,et.jsx)(Tl,{})]})]}),t?(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"ml-auto flex shrink-0 items-center",children:[(0,et.jsx)(Qe,{to:"/all-courses",className:"hidden tablet:block min-w-fit mr-5 font-medium hover:opacity-80 cursor-pointer",children:"All Courses"}),(0,et.jsx)(Qe,{to:"/my-enrolled-courses",className:"hidden tablet:block min-w-fit mr-5 font-medium hover:opacity-80 cursor-pointer",children:"Enroll Course"}),(0,et.jsx)(Qe,{to:"/my-courses",className:"hidden tablet:block min-w-fit mr-5 font-medium hover:opacity-80 cursor-pointer",children:"My Courses"}),(0,et.jsxs)("div",{"data-dropdown-toggle":"dropdown",className:"w-[60px] h-[60px] rounded-full flex items-center justify-center relative border-[1px]",onClick:function(){a(!i)},children:[(0,et.jsx)("img",{src:Cl,alt:"A",className:"w-full h-full object-cover rounded-full"}),i?(0,et.jsx)(Sl,{}):(0,et.jsx)(et.Fragment,{})]})]})}):(0,et.jsxs)("div",{className:"flex-2 flex justify-end items-center gap-3",children:[(0,et.jsx)("span",{className:"hidden tablet:block min-w-fit font-medium hover:opacity-80 cursor-pointer",children:"All Courses"}),(0,et.jsx)(Qe,{to:"/login",children:(0,et.jsx)("button",{className:"btn btn-primary text-lg",children:"Login"})}),(0,et.jsx)(Qe,{to:"/register",children:(0,et.jsx)("button",{className:"btn btn-outline text-lg",children:"Signup"})})]})]})]})]})},qu=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("div",{className:"w-full h-[80px] bg-backgroundHover mt-[100px] flex items-center",children:(0,et.jsxs)("ul",{className:"container mx-auto flex justify-between items-center overflow-x-hidden max-w-[2/5]",children:[(0,et.jsx)("li",{className:"cursor-pointer hover:bg-[#AD652B] hover:text-white hover:underline p-7 min-w-fit",children:"Web programming"}),(0,et.jsx)("li",{className:"cursor-pointer hover:bg-[#AD652B] hover:text-white hover:underline p-7 min-w-fit",children:"Web programming"}),(0,et.jsx)("li",{className:"cursor-pointer hover:bg-[#AD652B] hover:text-white hover:underline p-7 min-w-fit",children:"Web programming"}),(0,et.jsx)("li",{className:"cursor-pointer hover:bg-[#AD652B] hover:text-white hover:underline p-7 min-w-fit",children:"Web programming"}),(0,et.jsx)("li",{className:"cursor-pointer hover:bg-[#AD652B] hover:text-white hover:underline p-7 min-w-fit",children:"Web programming"}),(0,et.jsx)("li",{className:"cursor-pointer hover:bg-[#AD652B] hover:text-white hover:underline p-7 min-w-fit",children:"Web programming"})]})})})},Ku=function(e){for(var t=e.handleChangePageIndex,n=e.totalPage,r=e.currentPage,i=[],a=function(e){i.push((0,et.jsx)("li",{onClick:function(){return t(e)},className:"flex items-center justify-center px-3 h-8 leading-tight ".concat(e===r?"z-10 flex items-center justify-center px-4 h-10 leading-tight text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"," "),children:e},e))},o=1;o<=n;o++)a(o);return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("nav",{"aria-label":"Page navigation example",children:(0,et.jsxs)("ul",{className:"inline-flex -space-x-px text-sm",children:[(0,et.jsx)("li",{className:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){return t(r-1)},children:"Previous"}),i,(0,et.jsx)("li",{className:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:function(){return t(r+1)},children:"Next"})]})})})},Wu=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Yu}(e)}(e)};var Yu="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function $u(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Qu((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Xu(e,t,n){return e.concat(t).map((function(e){return $u(e,n)}))}function Qu(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Xu,n.isMergeableObject=n.isMergeableObject||Wu;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=$u(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=Qu(e[i],t[i],n):r[i]=$u(t[i],n)})),r}(e,t,n):$u(t,n)}Qu.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Qu(e,n,t)}),{})};var Zu=Qu,Ju="object"==typeof global&&global&&global.Object===Object&&global,ec="object"==typeof self&&self&&self.Object===Object&&self,tc=Ju||ec||Function("return this")(),nc=tc.Symbol,rc=Object.prototype,ic=rc.hasOwnProperty,ac=rc.toString,oc=nc?nc.toStringTag:void 0;var sc=function(e){var t=ic.call(e,oc),n=e[oc];try{e[oc]=void 0;var r=!0}catch(a){}var i=ac.call(e);return r&&(t?e[oc]=n:delete e[oc]),i},lc=Object.prototype.toString;var uc=function(e){return lc.call(e)},cc=nc?nc.toStringTag:void 0;var dc=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":cc&&cc in Object(e)?sc(e):uc(e)};var fc=function(e,t){return function(n){return e(t(n))}},hc=fc(Object.getPrototypeOf,Object);var pc=function(e){return null!=e&&"object"==typeof e},mc=Function.prototype,gc=Object.prototype,vc=mc.toString,yc=gc.hasOwnProperty,bc=vc.call(Object);var kc=function(e){if(!pc(e)||"[object Object]"!=dc(e))return!1;var t=hc(e);if(null===t)return!0;var n=yc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&vc.call(n)==bc},wc=n(77),xc=n.n(wc);var Ec=function(e,t){};var Sc=function(){this.__data__=[],this.size=0};var Tc=function(e,t){return e===t||e!==e&&t!==t};var Cc=function(e,t){for(var n=e.length;n--;)if(Tc(e[n][0],t))return n;return-1},Lc=Array.prototype.splice;var Ac=function(e){var t=this.__data__,n=Cc(t,e);return!(n<0)&&(n==t.length-1?t.pop():Lc.call(t,n,1),--this.size,!0)};var Rc=function(e){var t=this.__data__,n=Cc(t,e);return n<0?void 0:t[n][1]};var Pc=function(e){return Cc(this.__data__,e)>-1};var Oc=function(e,t){var n=this.__data__,r=Cc(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function _c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_c.prototype.clear=Sc,_c.prototype.delete=Ac,_c.prototype.get=Rc,_c.prototype.has=Pc,_c.prototype.set=Oc;var Ic=_c;var Dc=function(){this.__data__=new Ic,this.size=0};var Nc=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Mc=function(e){return this.__data__.get(e)};var Fc=function(e){return this.__data__.has(e)};var jc=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Uc=function(e){if(!jc(e))return!1;var t=dc(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Bc=tc["__core-js_shared__"],Vc=function(){var e=/[^.]+$/.exec(Bc&&Bc.keys&&Bc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Hc=function(e){return!!Vc&&Vc in e},zc=Function.prototype.toString;var Gc=function(e){if(null!=e){try{return zc.call(e)}catch(t){}try{return e+""}catch(t){}}return""},qc=/^\[object .+?Constructor\]$/,Kc=Function.prototype,Wc=Object.prototype,Yc=Kc.toString,$c=Wc.hasOwnProperty,Xc=RegExp("^"+Yc.call($c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Qc=function(e){return!(!jc(e)||Hc(e))&&(Uc(e)?Xc:qc).test(Gc(e))};var Zc=function(e,t){return null==e?void 0:e[t]};var Jc=function(e,t){var n=Zc(e,t);return Qc(n)?n:void 0},ed=Jc(tc,"Map"),td=Jc(Object,"create");var nd=function(){this.__data__=td?td(null):{},this.size=0};var rd=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},id=Object.prototype.hasOwnProperty;var ad=function(e){var t=this.__data__;if(td){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return id.call(t,e)?t[e]:void 0},od=Object.prototype.hasOwnProperty;var sd=function(e){var t=this.__data__;return td?void 0!==t[e]:od.call(t,e)};var ld=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=td&&void 0===t?"__lodash_hash_undefined__":t,this};function ud(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ud.prototype.clear=nd,ud.prototype.delete=rd,ud.prototype.get=ad,ud.prototype.has=sd,ud.prototype.set=ld;var cd=ud;var dd=function(){this.size=0,this.__data__={hash:new cd,map:new(ed||Ic),string:new cd}};var fd=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var hd=function(e,t){var n=e.__data__;return fd(t)?n["string"==typeof t?"string":"hash"]:n.map};var pd=function(e){var t=hd(this,e).delete(e);return this.size-=t?1:0,t};var md=function(e){return hd(this,e).get(e)};var gd=function(e){return hd(this,e).has(e)};var vd=function(e,t){var n=hd(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function yd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yd.prototype.clear=dd,yd.prototype.delete=pd,yd.prototype.get=md,yd.prototype.has=gd,yd.prototype.set=vd;var bd=yd;var kd=function(e,t){var n=this.__data__;if(n instanceof Ic){var r=n.__data__;if(!ed||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new bd(r)}return n.set(e,t),this.size=n.size,this};function wd(e){var t=this.__data__=new Ic(e);this.size=t.size}wd.prototype.clear=Dc,wd.prototype.delete=Nc,wd.prototype.get=Mc,wd.prototype.has=Fc,wd.prototype.set=kd;var xd=wd;var Ed=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Sd=function(){try{var e=Jc(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Td=function(e,t,n){"__proto__"==t&&Sd?Sd(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Cd=Object.prototype.hasOwnProperty;var Ld=function(e,t,n){var r=e[t];Cd.call(e,t)&&Tc(r,n)&&(void 0!==n||t in e)||Td(e,t,n)};var Ad=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?Td(n,s,l):Ld(n,s,l)}return n};var Rd=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Pd=function(e){return pc(e)&&"[object Arguments]"==dc(e)},Od=Object.prototype,_d=Od.hasOwnProperty,Id=Od.propertyIsEnumerable,Dd=Pd(function(){return arguments}())?Pd:function(e){return pc(e)&&_d.call(e,"callee")&&!Id.call(e,"callee")},Nd=Dd,Md=Array.isArray;var Fd=function(){return!1},jd="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ud=jd&&"object"==typeof module&&module&&!module.nodeType&&module,Bd=Ud&&Ud.exports===jd?tc.Buffer:void 0,Vd=(Bd?Bd.isBuffer:void 0)||Fd,Hd=/^(?:0|[1-9]\d*)$/;var zd=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Hd.test(e))&&e>-1&&e%1==0&&e<t};var Gd=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},qd={};qd["[object Float32Array]"]=qd["[object Float64Array]"]=qd["[object Int8Array]"]=qd["[object Int16Array]"]=qd["[object Int32Array]"]=qd["[object Uint8Array]"]=qd["[object Uint8ClampedArray]"]=qd["[object Uint16Array]"]=qd["[object Uint32Array]"]=!0,qd["[object Arguments]"]=qd["[object Array]"]=qd["[object ArrayBuffer]"]=qd["[object Boolean]"]=qd["[object DataView]"]=qd["[object Date]"]=qd["[object Error]"]=qd["[object Function]"]=qd["[object Map]"]=qd["[object Number]"]=qd["[object Object]"]=qd["[object RegExp]"]=qd["[object Set]"]=qd["[object String]"]=qd["[object WeakMap]"]=!1;var Kd=function(e){return pc(e)&&Gd(e.length)&&!!qd[dc(e)]};var Wd=function(e){return function(t){return e(t)}},Yd="object"==typeof exports&&exports&&!exports.nodeType&&exports,$d=Yd&&"object"==typeof module&&module&&!module.nodeType&&module,Xd=$d&&$d.exports===Yd&&Ju.process,Qd=function(){try{var e=$d&&$d.require&&$d.require("util").types;return e||Xd&&Xd.binding&&Xd.binding("util")}catch(t){}}(),Zd=Qd,Jd=Zd&&Zd.isTypedArray,ef=Jd?Wd(Jd):Kd,tf=Object.prototype.hasOwnProperty;var nf=function(e,t){var n=Md(e),r=!n&&Nd(e),i=!n&&!r&&Vd(e),a=!n&&!r&&!i&&ef(e),o=n||r||i||a,s=o?Rd(e.length,String):[],l=s.length;for(var u in e)!t&&!tf.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||zd(u,l))||s.push(u);return s},rf=Object.prototype;var af=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rf)},of=fc(Object.keys,Object),sf=Object.prototype.hasOwnProperty;var lf=function(e){if(!af(e))return of(e);var t=[];for(var n in Object(e))sf.call(e,n)&&"constructor"!=n&&t.push(n);return t};var uf=function(e){return null!=e&&Gd(e.length)&&!Uc(e)};var cf=function(e){return uf(e)?nf(e):lf(e)};var df=function(e,t){return e&&Ad(t,cf(t),e)};var ff=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},hf=Object.prototype.hasOwnProperty;var pf=function(e){if(!jc(e))return ff(e);var t=af(e),n=[];for(var r in e)("constructor"!=r||!t&&hf.call(e,r))&&n.push(r);return n};var mf=function(e){return uf(e)?nf(e,!0):pf(e)};var gf=function(e,t){return e&&Ad(t,mf(t),e)},vf="object"==typeof exports&&exports&&!exports.nodeType&&exports,yf=vf&&"object"==typeof module&&module&&!module.nodeType&&module,bf=yf&&yf.exports===vf?tc.Buffer:void 0,kf=bf?bf.allocUnsafe:void 0;var wf=function(e,t){if(t)return e.slice();var n=e.length,r=kf?kf(n):new e.constructor(n);return e.copy(r),r};var xf=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Ef=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Sf=function(){return[]},Tf=Object.prototype.propertyIsEnumerable,Cf=Object.getOwnPropertySymbols,Lf=Cf?function(e){return null==e?[]:(e=Object(e),Ef(Cf(e),(function(t){return Tf.call(e,t)})))}:Sf,Af=Lf;var Rf=function(e,t){return Ad(e,Af(e),t)};var Pf=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Of=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Pf(t,Af(e)),e=hc(e);return t}:Sf,_f=Of;var If=function(e,t){return Ad(e,_f(e),t)};var Df=function(e,t,n){var r=t(e);return Md(e)?r:Pf(r,n(e))};var Nf=function(e){return Df(e,cf,Af)};var Mf=function(e){return Df(e,mf,_f)},Ff=Jc(tc,"DataView"),jf=Jc(tc,"Promise"),Uf=Jc(tc,"Set"),Bf=Jc(tc,"WeakMap"),Vf="[object Map]",Hf="[object Promise]",zf="[object Set]",Gf="[object WeakMap]",qf="[object DataView]",Kf=Gc(Ff),Wf=Gc(ed),Yf=Gc(jf),$f=Gc(Uf),Xf=Gc(Bf),Qf=dc;(Ff&&Qf(new Ff(new ArrayBuffer(1)))!=qf||ed&&Qf(new ed)!=Vf||jf&&Qf(jf.resolve())!=Hf||Uf&&Qf(new Uf)!=zf||Bf&&Qf(new Bf)!=Gf)&&(Qf=function(e){var t=dc(e),n="[object Object]"==t?e.constructor:void 0,r=n?Gc(n):"";if(r)switch(r){case Kf:return qf;case Wf:return Vf;case Yf:return Hf;case $f:return zf;case Xf:return Gf}return t});var Zf=Qf,Jf=Object.prototype.hasOwnProperty;var eh=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Jf.call(e,"index")&&(n.index=e.index,n.input=e.input),n},th=tc.Uint8Array;var nh=function(e){var t=new e.constructor(e.byteLength);return new th(t).set(new th(e)),t};var rh=function(e,t){var n=t?nh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ih=/\w*$/;var ah=function(e){var t=new e.constructor(e.source,ih.exec(e));return t.lastIndex=e.lastIndex,t},oh=nc?nc.prototype:void 0,sh=oh?oh.valueOf:void 0;var lh=function(e){return sh?Object(sh.call(e)):{}};var uh=function(e,t){var n=t?nh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var ch=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return nh(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return rh(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return uh(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ah(e);case"[object Symbol]":return lh(e)}},dh=Object.create,fh=function(){function e(){}return function(t){if(!jc(t))return{};if(dh)return dh(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),hh=fh;var ph=function(e){return"function"!=typeof e.constructor||af(e)?{}:hh(hc(e))};var mh=function(e){return pc(e)&&"[object Map]"==Zf(e)},gh=Zd&&Zd.isMap,vh=gh?Wd(gh):mh;var yh=function(e){return pc(e)&&"[object Set]"==Zf(e)},bh=Zd&&Zd.isSet,kh=bh?Wd(bh):yh,wh="[object Arguments]",xh="[object Function]",Eh="[object Object]",Sh={};Sh[wh]=Sh["[object Array]"]=Sh["[object ArrayBuffer]"]=Sh["[object DataView]"]=Sh["[object Boolean]"]=Sh["[object Date]"]=Sh["[object Float32Array]"]=Sh["[object Float64Array]"]=Sh["[object Int8Array]"]=Sh["[object Int16Array]"]=Sh["[object Int32Array]"]=Sh["[object Map]"]=Sh["[object Number]"]=Sh[Eh]=Sh["[object RegExp]"]=Sh["[object Set]"]=Sh["[object String]"]=Sh["[object Symbol]"]=Sh["[object Uint8Array]"]=Sh["[object Uint8ClampedArray]"]=Sh["[object Uint16Array]"]=Sh["[object Uint32Array]"]=!0,Sh["[object Error]"]=Sh[xh]=Sh["[object WeakMap]"]=!1;var Th=function e(t,n,r,i,a,o){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!jc(t))return t;var d=Md(t);if(d){if(s=eh(t),!l)return xf(t,s)}else{var f=Zf(t),h=f==xh||"[object GeneratorFunction]"==f;if(Vd(t))return wf(t,l);if(f==Eh||f==wh||h&&!a){if(s=u||h?{}:ph(t),!l)return u?If(t,gf(s,t)):Rf(t,df(s,t))}else{if(!Sh[f])return a?t:{};s=ch(t,f,l)}}o||(o=new xd);var p=o.get(t);if(p)return p;o.set(t,s),kh(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):vh(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var m=d?void 0:(c?u?Mf:Nf:u?mf:cf)(t);return Ed(m||t,(function(i,a){m&&(i=t[a=i]),Ld(s,a,e(i,n,r,a,t,o))})),s};var Ch=function(e){return Th(e,4)};var Lh=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Ah=function(e){return"symbol"==typeof e||pc(e)&&"[object Symbol]"==dc(e)};function Rh(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Rh.Cache||bd),n}Rh.Cache=bd;var Ph=Rh;var Oh=function(e){var t=Ph(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},_h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ih=/\\(\\)?/g,Dh=Oh((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(_h,(function(e,n,r,i){t.push(r?i.replace(Ih,"$1"):n||e)})),t})),Nh=Dh;var Mh=function(e){if("string"==typeof e||Ah(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Fh=nc?nc.prototype:void 0,jh=Fh?Fh.toString:void 0;var Uh=function e(t){if("string"==typeof t)return t;if(Md(t))return Lh(t,e)+"";if(Ah(t))return jh?jh.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Bh=function(e){return null==e?"":Uh(e)};var Vh=function(e){return Md(e)?Lh(e,Mh):Ah(e)?[e]:xf(Nh(Bh(e)))};var Hh=function(e){return Th(e,5)};function zh(){return zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}function Gh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function qh(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Kh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Wh=(0,r.createContext)(void 0);Wh.displayName="FormikContext";var Yh=Wh.Provider,$h=Wh.Consumer;function Xh(){var e=(0,r.useContext)(Wh);return e||Ec(!1),e}var Qh=function(e){return Array.isArray(e)&&0===e.length},Zh=function(e){return"function"===typeof e},Jh=function(e){return null!==e&&"object"===typeof e},ep=function(e){return String(Math.floor(Number(e)))===e},tp=function(e){return"[object String]"===Object.prototype.toString.call(e)},np=function(e){return 0===r.Children.count(e)},rp=function(e){return Jh(e)&&Zh(e.then)};function ip(e,t,n,r){void 0===r&&(r=0);for(var i=Vh(t);e&&r<i.length;)e=e[i[r++]];return r===i.length||e?void 0===e?n:e:n}function ap(e,t,n){for(var r=Ch(e),i=r,a=0,o=Vh(t);a<o.length-1;a++){var s=o[a],l=ip(e,o.slice(0,a+1));if(l&&(Jh(l)||Array.isArray(l)))i=i[s]=Ch(l);else{var u=o[a+1];i=i[s]=ep(u)&&Number(u)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function op(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];Jh(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},op(s,t,n,r[o])):r[o]=t}return r}var sp={},lp={};function up(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,a=void 0===i||i,o=e.validateOnMount,s=void 0!==o&&o,l=e.isInitialValid,u=e.enableReinitialize,c=void 0!==u&&u,d=e.onSubmit,f=qh(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=zh({validateOnChange:n,validateOnBlur:a,validateOnMount:s,onSubmit:d},f),p=(0,r.useRef)(h.initialValues),m=(0,r.useRef)(h.initialErrors||sp),g=(0,r.useRef)(h.initialTouched||lp),v=(0,r.useRef)(h.initialStatus),y=(0,r.useRef)(!1),b=(0,r.useRef)({});(0,r.useEffect)((function(){return y.current=!0,function(){y.current=!1}}),[]);var k=(0,r.useState)(0)[1],w=(0,r.useRef)({values:h.initialValues,errors:h.initialErrors||sp,touched:h.initialTouched||lp,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),x=w.current,E=(0,r.useCallback)((function(e){var t=w.current;w.current=function(e,t){switch(t.type){case"SET_VALUES":return zh({},e,{values:t.payload});case"SET_TOUCHED":return zh({},e,{touched:t.payload});case"SET_ERRORS":return xc()(e.errors,t.payload)?e:zh({},e,{errors:t.payload});case"SET_STATUS":return zh({},e,{status:t.payload});case"SET_ISSUBMITTING":return zh({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return zh({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return zh({},e,{values:ap(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return zh({},e,{touched:ap(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return zh({},e,{errors:ap(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return zh({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return zh({},e,{touched:op(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return zh({},e,{isSubmitting:!1});default:return e}}(t,e),t!==w.current&&k((function(e){return e+1}))}),[]),S=(0,r.useCallback)((function(e,t){return new Promise((function(n,r){var i=h.validate(e,t);null==i?n(sp):rp(i)?i.then((function(e){n(e||sp)}),(function(e){r(e)})):n(i)}))}),[h.validate]),T=(0,r.useCallback)((function(e,t){var n=h.validationSchema,r=Zh(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);var i=dp(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}(e,r);return new Promise((function(e,t){i.then((function(){e(sp)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return ap(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;ip(t,o.path)||(t=ap(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[h.validationSchema]),C=(0,r.useCallback)((function(e,t){return new Promise((function(n){return n(b.current[e].validate(t))}))}),[]),L=(0,r.useCallback)((function(e){var t=Object.keys(b.current).filter((function(e){return Zh(b.current[e].validate)})),n=t.length>0?t.map((function(t){return C(t,ip(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=ap(e,t[r],n)),e}),{})}))}),[C]),A=(0,r.useCallback)((function(e){return Promise.all([L(e),h.validationSchema?T(e):{},h.validate?S(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return Zu.all([t,n,r],{arrayMerge:fp})}))}),[h.validate,h.validationSchema,L,S,T]),R=pp((function(e){return void 0===e&&(e=x.values),E({type:"SET_ISVALIDATING",payload:!0}),A(e).then((function(e){return y.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:e})),e}))}));(0,r.useEffect)((function(){s&&!0===y.current&&xc()(p.current,h.initialValues)&&R(p.current)}),[s,R]);var P=(0,r.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:m.current?m.current:h.initialErrors||{},r=e&&e.touched?e.touched:g.current?g.current:h.initialTouched||{},i=e&&e.status?e.status:v.current?v.current:h.initialStatus;p.current=t,m.current=n,g.current=r,v.current=i;var a=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(h.onReset){var o=h.onReset(x.values,$);rp(o)?o.then(a):a()}else a()}),[h.initialErrors,h.initialStatus,h.initialTouched]);(0,r.useEffect)((function(){!0!==y.current||xc()(p.current,h.initialValues)||c&&(p.current=h.initialValues,P(),s&&R(p.current))}),[c,h.initialValues,P,s,R]),(0,r.useEffect)((function(){c&&!0===y.current&&!xc()(m.current,h.initialErrors)&&(m.current=h.initialErrors||sp,E({type:"SET_ERRORS",payload:h.initialErrors||sp}))}),[c,h.initialErrors]),(0,r.useEffect)((function(){c&&!0===y.current&&!xc()(g.current,h.initialTouched)&&(g.current=h.initialTouched||lp,E({type:"SET_TOUCHED",payload:h.initialTouched||lp}))}),[c,h.initialTouched]),(0,r.useEffect)((function(){c&&!0===y.current&&!xc()(v.current,h.initialStatus)&&(v.current=h.initialStatus,E({type:"SET_STATUS",payload:h.initialStatus}))}),[c,h.initialStatus,h.initialTouched]);var O=pp((function(e){if(b.current[e]&&Zh(b.current[e].validate)){var t=ip(x.values,e),n=b.current[e].validate(t);return rp(n)?(E({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),E({type:"SET_ISVALIDATING",payload:!1})}))):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return h.validationSchema?(E({type:"SET_ISVALIDATING",payload:!0}),T(x.values,e).then((function(e){return e})).then((function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:ip(t,e)}}),E({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),_=(0,r.useCallback)((function(e,t){var n=t.validate;b.current[e]={validate:n}}),[]),I=(0,r.useCallback)((function(e){delete b.current[e]}),[]),D=pp((function(e,t){return E({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?R(x.values):Promise.resolve()})),N=(0,r.useCallback)((function(e){E({type:"SET_ERRORS",payload:e})}),[]),M=pp((function(e,t){var r=Zh(e)?e(x.values):e;return E({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?R(r):Promise.resolve()})),F=(0,r.useCallback)((function(e,t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),j=pp((function(e,t,r){return E({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?R(ap(x.values,e,t)):Promise.resolve()})),U=(0,r.useCallback)((function(e,t){var n,r=t,i=e;if(!tp(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,l=a.id,u=a.value,c=a.checked,d=(a.outerHTML,a.options),f=a.multiple;r=t||(s||l),i=/number|range/.test(o)?(n=parseFloat(u),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(ip(x.values,r),c,u):d&&f?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(d):u}r&&j(r,i)}),[j,x.values]),B=pp((function(e){if(tp(e))return function(t){return U(t,e)};U(e)})),V=pp((function(e,t,n){return void 0===t&&(t=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?R(x.values):Promise.resolve()})),H=(0,r.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));V(a,!0)}),[V]),z=pp((function(e){if(tp(e))return function(t){return H(t,e)};H(e)})),G=(0,r.useCallback)((function(e){Zh(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),q=(0,r.useCallback)((function(e){E({type:"SET_STATUS",payload:e})}),[]),K=(0,r.useCallback)((function(e){E({type:"SET_ISSUBMITTING",payload:e})}),[]),W=pp((function(){return E({type:"SUBMIT_ATTEMPT"}),R().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=X()))return}catch(r){throw r}return Promise.resolve(n).then((function(e){return y.current&&E({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(y.current)throw E({type:"SUBMIT_FAILURE"}),e}))}if(y.current&&(E({type:"SUBMIT_FAILURE"}),t))throw e}))})),Y=pp((function(e){e&&e.preventDefault&&Zh(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Zh(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),$={resetForm:P,validateForm:R,validateField:O,setErrors:N,setFieldError:F,setFieldTouched:V,setFieldValue:j,setStatus:q,setSubmitting:K,setTouched:D,setValues:M,setFormikState:G,submitForm:W},X=pp((function(){return d(x.values,$)})),Q=pp((function(e){e&&e.preventDefault&&Zh(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Zh(e.stopPropagation)&&e.stopPropagation(),P()})),Z=(0,r.useCallback)((function(e){return{value:ip(x.values,e),error:ip(x.errors,e),touched:!!ip(x.touched,e),initialValue:ip(p.current,e),initialTouched:!!ip(g.current,e),initialError:ip(m.current,e)}}),[x.errors,x.touched,x.values]),J=(0,r.useCallback)((function(e){return{setValue:function(t,n){return j(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return F(e,t)}}}),[j,V,F]),ee=(0,r.useCallback)((function(e){var t=Jh(e),n=t?e.name:e,r=ip(x.values,n),i={name:n,value:r,onChange:B,onBlur:z};if(t){var a=e.type,o=e.value,s=e.as,l=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&l&&(i.value=i.value||[],i.multiple=!0)}return i}),[z,B,x.values]),te=(0,r.useMemo)((function(){return!xc()(p.current,x.values)}),[p.current,x.values]),ne=(0,r.useMemo)((function(){return"undefined"!==typeof l?te?x.errors&&0===Object.keys(x.errors).length:!1!==l&&Zh(l)?l(h):l:x.errors&&0===Object.keys(x.errors).length}),[l,te,x.errors,h]);return zh({},x,{initialValues:p.current,initialErrors:m.current,initialTouched:g.current,initialStatus:v.current,handleBlur:z,handleChange:B,handleReset:Q,handleSubmit:Y,resetForm:P,setErrors:N,setFormikState:G,setFieldTouched:V,setFieldValue:j,setFieldError:F,setStatus:q,setSubmitting:K,setTouched:D,setValues:M,submitForm:W,validateForm:R,validateField:O,isValid:ne,dirty:te,unregisterField:I,registerField:_,getFieldProps:ee,getFieldMeta:Z,getFieldHelpers:J,validateOnBlur:a,validateOnChange:n,validateOnMount:s})}function cp(e){var t=up(e),n=e.component,i=e.children,a=e.render,o=e.innerRef;return(0,r.useImperativeHandle)(o,(function(){return t})),(0,r.createElement)(Yh,{value:t},n?(0,r.createElement)(n,t):a?a(t):i?Zh(i)?i(t):np(i)?null:r.Children.only(i):null)}function dp(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||kc(e)?dp(e):""!==e?e:void 0})):kc(e[r])?t[r]=dp(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function fp(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?Zu(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=Zu(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var hp="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function pp(e){var t=(0,r.useRef)(e);return hp((function(){t.current=e})),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}function mp(e){var t=e.validate,n=e.name,i=e.render,a=e.children,o=e.as,s=e.component,l=qh(e,["validate","name","render","children","as","component"]),u=qh(Xh(),["validate","validationSchema"]);var c=u.registerField,d=u.unregisterField;(0,r.useEffect)((function(){return c(n,{validate:t}),function(){d(n)}}),[c,d,n,t]);var f=u.getFieldProps(zh({name:n},l)),h=u.getFieldMeta(n),p={field:f,form:u};if(i)return i(zh({},p,{meta:h}));if(Zh(a))return a(zh({},p,{meta:h}));if(s){if("string"===typeof s){var m=l.innerRef,g=qh(l,["innerRef"]);return(0,r.createElement)(s,zh({ref:m},f,g),a)}return(0,r.createElement)(s,zh({field:f,form:u},l),a)}var v=o||"input";if("string"===typeof v){var y=l.innerRef,b=qh(l,["innerRef"]);return(0,r.createElement)(v,zh({ref:y},f,b),a)}return(0,r.createElement)(v,zh({},f,l),a)}var gp=(0,r.forwardRef)((function(e,t){var n=e.action,i=qh(e,["action"]),a=null!=n?n:"#",o=Xh(),s=o.handleReset,l=o.handleSubmit;return(0,r.createElement)("form",zh({onSubmit:l,ref:t,onReset:s,action:a},i))}));function vp(e){var t=function(t){return(0,r.createElement)($h,null,(function(n){return n||Ec(!1),(0,r.createElement)(e,zh({},t,{formik:n}))}))},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",It()(t,e)}gp.displayName="Form";var yp=function(e,t,n){var r=bp(e);return r.splice(t,0,n),r},bp=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(zh({},e,{length:t+1}))}return[]},kp=function(e,t){var n="function"===typeof e?e:t;return function(e){if(Array.isArray(e)||Jh(e)){var t=bp(e);return n(t)}return e}},wp=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i=kp(r,e),o=kp(t,e),s=ap(n.values,a,e(ip(n.values,a))),l=r?i(ip(n.errors,a)):void 0,u=t?o(ip(n.touched,a)):void 0;return Qh(l)&&(l=void 0),Qh(u)&&(u=void 0),zh({},n,{values:s,errors:r?ap(n.errors,a,l):n.errors,touched:t?ap(n.touched,a,u):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(bp(t),[Hh(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=bp(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=bp(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return yp(n,e,t)}),(function(t){return yp(t,e,null)}),(function(t){return yp(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=bp(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t=r.length,r}),(function(e){return e?[null].concat(e):[null]}),(function(e){return e?[null].concat(e):[null]})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Kh(n)),n.pop=n.pop.bind(Kh(n)),n}Gh(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!xc()(ip(e.formik.values,e.name),ip(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?bp(n):[];return t||(t=r[e]),Zh(r.splice)&&r.splice(e,1),Zh(r.every)&&r.every((function(e){return void 0===e}))?[]:r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t.slice();return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,a=t.children,o=t.name,s=zh({},e,{form:qh(t.formik,["validate","validationSchema"]),name:o});return n?(0,r.createElement)(n,s):i?i(s):a?"function"===typeof a?a(s):np(a)?null:r.Children.only(a):null},t}(r.Component);wp.defaultProps={validateOnChange:!0};var xp=function(e){function t(){return e.apply(this,arguments)||this}Gh(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return ip(this.props.formik.errors,this.props.name)!==ip(e.formik.errors,this.props.name)||ip(this.props.formik.touched,this.props.name)!==ip(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},n.render=function(){var e=this.props,t=e.component,n=e.formik,i=e.render,a=e.children,o=e.name,s=qh(e,["component","formik","render","children","name"]),l=ip(n.touched,o),u=ip(n.errors,o);return l&&u?i?Zh(i)?i(u):null:a?Zh(a)?a(u):null:t?(0,r.createElement)(t,s,u):u:null},t}(r.Component),Ep=vp(xp);function Sp(){return Sp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Sp.apply(this,arguments)}var Tp=n(758),Cp=n(564),Lp=n(514),Ap=n.n(Lp),Rp=Object.prototype.toString,Pp=Error.prototype.toString,Op=RegExp.prototype.toString,_p="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},Ip=/^Symbol\((.*)\)(.*)$/;function Dp(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return _p.call(e).replace(Ip,"Symbol($1)");var r=Rp.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+Pp.call(e)+"]":"RegExp"===r?Op.call(e):null}function Np(e,t){var n=Dp(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=Dp(this[e],t);return null!==r?r:n}),2)}function Mp(e){return null==e?[]:[].concat(e)}var Fp=/\$\{\s*(\w+)\s*\}/g,jp=function(e){y(n,e);var t=E(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],Mp(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,d(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(w(o),n),o}return g(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=Object.assign({},t,{path:n})),"string"===typeof e?e.replace(Fp,(function(e,n){return Np(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(T(Error)),Up={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r?" (cast from the value `".concat(Np(i,!0),"`)."):".";return"mixed"!==n?"".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(Np(r,!0),"`")+a:"".concat(t," must match the configured type. ")+"The validated value was: `".concat(Np(r,!0),"`")+a}},Bp={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Vp={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Hp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},zp={isValue:"${path} field must be ${value}"},Gp={noUnknown:"${path} field has unspecified keys: ${unknown}"},qp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Kp=function(e){var t=e.path,n=e.value,r=e.spec.types.length;if(Array.isArray(n)){if(n.length<r)return"".concat(t," tuple value has too few items, expected a length of ").concat(r," but got ").concat(n.length," for value: `").concat(Np(n,!0),"`");if(n.length>r)return"".concat(t," tuple value has too many items, expected a length of ").concat(r," but got ").concat(n.length," for value: `").concat(Np(n,!0),"`")}return jp.formatError(Up.notType,e)},Wp=(Object.assign(Object.create(null),{mixed:Up,string:Bp,number:Vp,date:Hp,object:Gp,array:qp,boolean:zp}),function(e){return e&&e.__isYupSchema__}),Yp=function(){function e(t,n){f(this,e),this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}return g(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!Wp(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}],[{key:"fromOptions",value:function(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};return new e(t,(function(e,t){var n,r=o.apply(void 0,d(e))?i:a;return null!=(n=null==r?void 0:r(t))?n:t}))}}]),e}(),$p="$",Xp=".";function Qp(e,t){return new Zp(e,t)}var Zp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===$p,this.isValue=this.key[0]===Xp,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?$p:this.isValue?Xp:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,Tp.getter)(this.path,!0),this.map=n.map}return g(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();Zp.prototype.__isYupRef=!0;var Jp=function(e){return null==e};function em(e){function t(t,n,r){var i=t.value,a=t.path,o=void 0===a?"":a,s=t.options,l=t.originalValue,u=t.schema,c=e.name,d=e.test,f=e.params,h=e.message,p=e.skipAbsent,m=s.parent,g=s.context,v=s.abortEarly;function y(e){return Zp.isRef(e)?e.getValue(i,m,g):e}function b(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({value:i,originalValue:l,label:u.spec.label,path:e.path||o,spec:u.spec},f,e.params),n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];t[a]=y(t[a])}var s=new jp(jp.formatError(e.message||h,t),i,t.path,e.type||c);return s.params=t,s}var k=(void 0===v?u.spec.abortEarly:v)?n:r,w={path:o,parent:m,type:c,from:s.from,createError:b,resolve:y,options:s,originalValue:l,schema:u},x=function(e){jp.isError(e)?k(e):e?r(null):k(b())},E=function(e){jp.isError(e)?k(e):n(e)},S=p&&Jp(i);if(s.sync){var T;try{var C;if("function"===typeof(null==(C=T=!!S||d.call(w,i,w))?void 0:C.then))throw new Error('Validation test of type: "'.concat(w.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(L){return void E(L)}x(T)}else try{Promise.resolve(!!S||d.call(w,i,w)).then(x,E)}catch(L){E(L)}}return t.OPTIONS=e,t}function tm(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,Tp.forEach)(t,(function(s,l,u){var c=l?s.slice(1,s.length-1):s,d="tuple"===(e=e.resolve({context:o,parent:r,value:n})).type,f=u?parseInt(c,10):0;if(e.innerType||d){if(d&&!u)throw new Error('Yup.reach cannot implicitly index into a tuple type. the path part "'.concat(a,'" must contain an index to the tuple element, e.g. "').concat(a,'[0]"'));if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=d?e.spec.types[f]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e.type,'")'));r=n,n=n&&n[c],e=e.fields[c]}i=c,a=l?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var nm=function(e){y(n,e);var t=E(n);function n(){return f(this,n),t.apply(this,arguments)}return g(n,[{key:"describe",value:function(){var e,t=[],n=L(this.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(Zp.isRef(r)?r.describe():r)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"resolveAll",value:function(e){var t,n=[],r=L(this.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(e(i))}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"clone",value:function(){return new n(this.values())}},{key:"merge",value:function(e,t){var n=this.clone();return e.forEach((function(e){return n.add(e)})),t.forEach((function(e){return n.delete(e)})),n}}]),n}(T(Set));function rm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(Wp(e)||!e||"object"!==typeof e)return e;if(n.has(e))return n.get(e);if(e instanceof Date)t=new Date(e.getTime()),n.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),n.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),n.set(e,t);for(var r=0;r<e.length;r++)t[r]=rm(e[r],n)}else if(e instanceof Map){t=new Map,n.set(e,t);var i,a=L(e.entries());try{for(a.s();!(i=a.n()).done;){var o=u(i.value,2),s=o[0],l=o[1];t.set(s,rm(l,n))}}catch(y){a.e(y)}finally{a.f()}}else if(e instanceof Set){t=new Set,n.set(e,t);var c,d=L(e);try{for(d.s();!(c=d.n()).done;){var f=c.value;t.add(rm(f,n))}}catch(y){d.e(y)}finally{d.f()}}else{if(!(e instanceof Object))throw Error("Unable to clone ".concat(e));t={},n.set(e,t);for(var h=0,p=Object.entries(e);h<p.length;h++){var m=u(p[h],2),g=m[0],v=m[1];t[g]=rm(v,n)}}return t}var im=function(){function e(t){var n=this;f(this,e),this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new nm,this._blacklist=new nm,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(Up.notType)})),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},null==t?void 0:t.spec),this.withMutation((function(e){e.nonNullable()}))}return g(e,[{key:"_type",get:function(){return this.type}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=d(this.deps),t.conditions=d(this.conditions),t.tests=d(this.tests),t.transforms=d(this.transforms),t.spec=rm(Object.assign({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(d(t.transforms),d(n.transforms)),n}},{key:"isType",value:function(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"resolveOptions",value:function(e){var t,n,r;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive})}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,i=n._cast(e,t);if(!1!==t.assert&&!n.isType(i)){if(r&&Jp(i))return i;var a=Np(e),o=Np(i);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n.type,'". \n\n')+"attempted value: ".concat(a," \n")+(o!==a?"result of cast: ".concat(o):""))}return i}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault(t)),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=n.path,o=n.originalValue,s=void 0===o?e:o,l=n.strict,u=void 0===l?this.spec.strict:l,c=e;u||(c=this._cast(c,Object.assign({assert:!1},n)));for(var d=[],f=0,h=Object.values(this.internalTests);f<h.length;f++){var p=h[f];p&&d.push(p)}this.runTests({path:a,value:c,originalValue:s,options:n,tests:d},r,(function(e){if(e.length)return i(e,c);t.runTests({path:a,value:c,originalValue:s,options:n,tests:t.tests},r,i)}))}},{key:"runTests",value:function(e,t,n){var r=!1,i=e.tests,a=e.value,o=e.originalValue,s=e.path,l=e.options,u=function(e){r||(r=!0,t(e,a))},c=function(e){r||(r=!0,n(e,a))},d=i.length,f=[];if(!d)return c([]);for(var h={value:a,originalValue:o,path:s,options:l,schema:this},p=0;p<i.length;p++){(0,i[p])(h,u,(function(e){e&&(f=f.concat(e)),--d<=0&&c(f)}))}}},{key:"asNestedTest",value:function(e){var t,n=this,r=e.key,i=e.index,a=e.parent,o=e.parentPath,s=e.originalParent,l=e.options,u=null!=r?r:i;if(null==u)throw TypeError("Must include `key` or `index` for nested validations");var c="number"===typeof u,d=a[u],f=Object.assign({},l,(xt(t={strict:!0,parent:a,value:d,originalValue:s[u],key:void 0},c?"index":"key",u),xt(t,"path",c||u.includes(".")?"".concat(o||"","[").concat(d?u:'"'.concat(u,'"'),"]"):(o?"".concat(o,"."):"")+r),t));return function(e,t,r){return n.resolve(f)._validate(d,f,t,r)}}},{key:"validate",value:function(e,t){var n=this.resolve(Object.assign({},t,{value:e}));return new Promise((function(r,i){return n._validate(e,t,(function(e,t){jp.isError(e)&&(e.value=t),i(e)}),(function(e,t){e.length?i(new jp(e,t)):r(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(Object.assign({},t,{value:e}))._validate(e,Object.assign({},t,{sync:!0}),(function(e,t){throw jp.isError(e)&&(e.value=t),e}),(function(t,r){if(t.length)throw new jp(t,e);n=r})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(jp.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(jp.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(e){var t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):rm(t)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault(e)}},{key:"default",value:function(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}},{key:"nullability",value:function(e,t){var n=this.clone({nullable:e});return n.internalTests.nullable=em({message:t,name:"nullable",test:function(e){return null!==e||this.schema.spec.nullable}}),n}},{key:"optionality",value:function(e,t){var n=this.clone({optional:e});return n.internalTests.optionality=em({message:t,name:"optionality",test:function(e){return void 0!==e||this.schema.spec.optional}}),n}},{key:"optional",value:function(){return this.optionality(!0)}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Up.defined;return this.optionality(!1,e)}},{key:"nullable",value:function(){return this.nullability(!0)}},{key:"nonNullable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Up.notNull;return this.nullability(!1,e)}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Up.required;return this.clone().withMutation((function(t){return t.nonNullable(e).defined(e)}))}},{key:"notRequired",value:function(){return this.clone().withMutation((function(e){return e.nullable().optional()}))}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=Up.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=em(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=Mp(e).map((function(e){return new Zp(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push("function"===typeof t?new Yp(r,t):Yp.fromOptions(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t.internalTests.typeError=em({message:e,name:"typeError",skipAbsent:!0,test:function(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n.internalTests.whiteList=em({message:t,name:"oneOf",skipAbsent:!0,test:function(e){var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n.internalTests.blacklist=em({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(e){var t=(e?this.resolve(e):this).clone(),n=t.spec,r=n.label,i={meta:n.meta,label:r,optional:n.optional,nullable:n.nullable,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return i}}]),e}();im.prototype.__isYupSchema__=!0;for(var am=function(){var e=sm[om];im.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=tm(this,t,n,r.context),a=i.parent,o=i.parentPath;return i.schema[e](a&&a[o],Object.assign({},r,{parent:a,path:t}))}},om=0,sm=["validate","validateSync"];om<sm.length;om++)am();for(var lm=0,um=["equals","is"];lm<um.length;lm++){var cm=um[lm];im.prototype[cm]=im.prototype.oneOf}for(var dm=0,fm=["not","nope"];dm<fm.length;dm++){var hm=fm[dm];im.prototype[hm]=im.prototype.notOneOf}var pm=function(){return!0};function mm(e){return new gm(e)}var gm=function(e){y(n,e);var t=E(n);function n(e){return f(this,n),t.call(this,"function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:pm},e))}return g(n)}(im);mm.prototype=gm.prototype;var vm=function(e){y(n,e);var t=E(n);function n(){var e;return f(this,n),e=t.call(this,{type:"boolean",check:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}}),e.withMutation((function(){e.transform((function(e,t,n){if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return g(n,[{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zp.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return Jp(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zp.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return Jp(e)||!1===e}})}},{key:"default",value:function(e){return Sp(b(n.prototype),"default",this).call(this,e)}},{key:"defined",value:function(e){return Sp(b(n.prototype),"defined",this).call(this,e)}},{key:"optional",value:function(){return Sp(b(n.prototype),"optional",this).call(this)}},{key:"required",value:function(e){return Sp(b(n.prototype),"required",this).call(this,e)}},{key:"notRequired",value:function(){return Sp(b(n.prototype),"notRequired",this).call(this)}},{key:"nullable",value:function(){return Sp(b(n.prototype),"nullable",this).call(this)}},{key:"nonNullable",value:function(e){return Sp(b(n.prototype),"nonNullable",this).call(this,e)}},{key:"strip",value:function(e){return Sp(b(n.prototype),"strip",this).call(this,e)}}]),n}(im);vm.prototype;var ym=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,bm=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,km=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,wm=function(e){return Jp(e)||e===e.trim()},xm={}.toString();function Em(){return new Sm}var Sm=function(e){y(n,e);var t=E(n);function n(){var e;return f(this,n),(e=t.call(this,{type:"string",check:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}})).withMutation((function(){e.transform((function(e,t,n){if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;var r=null!=e&&e.toString?e.toString():e;return r===xm?e:r}))})),e}return g(n,[{key:"required",value:function(e){return Sp(b(n.prototype),"required",this).call(this,e).withMutation((function(t){return t.test({message:e||Up.required,name:"required",skipAbsent:!0,test:function(e){return!!e.length}})}))}},{key:"notRequired",value:function(){return Sp(b(n.prototype),"notRequired",this).call(this).withMutation((function(e){return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}))}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bp.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test:function(t){return t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bp.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(t){return t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bp.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test:function(t){return t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||Bp.matches,params:{regex:e},skipAbsent:!0,test:function(t){return""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp.email;return this.matches(ym,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp.url;return this.matches(bm,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp.uuid;return this.matches(km,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:wm})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp.lowercase;return this.transform((function(e){return Jp(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:function(e){return Jp(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp.uppercase;return this.transform((function(e){return Jp(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:function(e){return Jp(e)||e===e.toUpperCase()}})}}]),n}(im);Em.prototype=Sm.prototype;var Tm=function(e){y(n,e);var t=E(n);function n(){var e;return f(this,n),(e=t.call(this,{type:"number",check:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}})).withMutation((function(){e.transform((function(e,t,n){if(!n.spec.coerce)return e;var r=e;if("string"===typeof r){if(""===(r=r.replace(/\s/g,"")))return NaN;r=+r}return n.isType(r)||null===r?r:parseFloat(r)}))})),e}return g(n,[{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vp.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(t){return t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vp.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test:function(t){return t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vp.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test:function(t){return t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vp.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test:function(t){return t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vp.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vp.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vp.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:function(e){return Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return Jp(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return Jp(t)?t:Math[e](t)}))}}]),n}(im);Tm.prototype;var Cm=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var Lm=new Date("");function Am(){return new Rm}var Rm=function(e){y(n,e);var t=E(n);function n(){var e;return f(this,n),e=t.call(this,{type:"date",check:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),e.withMutation((function(){e.transform((function(e,t,r){return!r.spec.coerce||r.isType(e)||null===e?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=Cm.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?n.INVALID_DATE:new Date(e))}))})),e}return g(n,[{key:"prepareParam",value:function(e,t){var n;if(Zp.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hp.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(e){return e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hp.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test:function(e){return e<=this.resolve(n)}})}}]),n}(im);function Pm(e,t){var n=1/0;return e.some((function(e,r){var i;if(null!=(i=t.path)&&i.includes(e))return n=r,!0})),n}function Om(e){return function(t,n){return Pm(e,t)-Pm(e,n)}}Rm.INVALID_DATE=Lm,Am.prototype=Rm.prototype,Am.INVALID_DATE=Lm;var _m=function(e,t,n){if("string"!==typeof e)return e;var r=e;try{r=JSON.parse(e)}catch(i){}return n.isType(r)?r:e};function Im(e){if("fields"in e){for(var t={},n=0,r=Object.entries(e.fields);n<r.length;n++){var i=u(r[n],2),a=i[0],o=i[1];t[a]=Im(o)}return e.setFields(t)}if("array"===e.type){var s=e.optional();return s.innerType&&(s.innerType=Im(s.innerType)),s}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(Im)}):"optional"in e?e.optional():e}var Dm=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var Nm=Om([]);function Mm(e){return new Fm(e)}var Fm=function(e){y(n,e);var t=E(n);function n(e){var r;return f(this,n),(r=t.call(this,{type:"object",check:function(e){return Dm(e)||"function"===typeof e}})).fields=Object.create(null),r._sortErrors=Nm,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){e&&r.shape(e)})),r}return g(n,[{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Sp(b(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault(i);if(!this._typeCheck(a))return a;var o,s=this.fields,l=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,u=[].concat(this._nodes,Object.keys(a).filter((function(e){return!r._nodes.includes(e)}))),c={},d=Object.assign({},i,{parent:c,__validating:i.__validating||!1}),f=!1,h=L(u);try{for(h.s();!(o=h.n()).done;){var p=o.value,m=s[p],g=p in a;if(m){var v,y=a[p];d.path=(i.path?"".concat(i.path,"."):"")+p;var k=(m=m.resolve({value:y,context:i.context,parent:c}))instanceof im?m.spec:void 0,w=null==k?void 0:k.strict;if(null!=k&&k.strip){f=f||p in a;continue}void 0!==(v=i.__validating&&w?a[p]:m.cast(a[p],d))&&(c[p]=v)}else g&&!l&&(c[p]=a[p]);g===p in c&&c[p]===a[p]||(f=!0)}}catch(x){h.e(x)}finally{h.f()}return f?c:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=r.from,s=void 0===o?[]:o,l=r.originalValue,u=void 0===l?e:l,c=r.recursive,f=void 0===c?this.spec.recursive:c;r.from=[{schema:this,value:u}].concat(d(s)),r.__validating=!0,r.originalValue=u,Sp(b(n.prototype),"_validate",this).call(this,e,r,i,(function(e,n){if(f&&Dm(n)){u=u||n;var o,s=[],l=L(t._nodes);try{for(l.s();!(o=l.n()).done;){var c=o.value,d=t.fields[c];d&&!Zp.isRef(d)&&s.push(d.asNestedTest({options:r,key:c,parent:n,parentPath:r.path,originalParent:u}))}}catch(h){l.e(h)}finally{l.f()}t.runTests({tests:s,value:n,originalValue:u,options:r},i,(function(r){a(r.sort(t._sortErrors).concat(e),n)}))}else a(e,n)}))}},{key:"clone",value:function(e){var t=Sp(b(n.prototype),"clone",this).call(this,e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=Sp(b(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var s=u(o[a],2),l=s[0],c=s[1],f=i[l];i[l]=void 0===f?c:f}return r.withMutation((function(n){return n.setFields(i,[].concat(d(t._excludedEdges),d(e._excludedEdges)))}))}},{key:"_getDefault",value:function(e){var t=this;if("default"in this.spec)return Sp(b(n.prototype),"_getDefault",this).call(this,e);if(this._nodes.length){var r={};return this._nodes.forEach((function(n){var i,a=t.fields[n],o=e;null!=(i=o)&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=a&&"getDefault"in a?a.getDefault(o):void 0})),r}}},{key:"setFields",value:function(e,t){var n=this.clone();return n.fields=e,n._nodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=u(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,Tp.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}for(var o=function(){var t=l[s],n=e[t];r.add(t),Zp.isRef(n)&&n.isSibling?a(n.path,t):Wp(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))},s=0,l=Object.keys(e);s<l.length;s++)o();return Ap().array(Array.from(r),n).reverse()}(e,t),n._sortErrors=Om(Object.keys(e)),t&&(n._excludedEdges=t),n}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation((function(n){var r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[].concat(d(n._excludedEdges),d(t))),n.setFields(Object.assign(n.fields,e),r)}))}},{key:"partial",value:function(){for(var e={},t=0,n=Object.entries(this.fields);t<n.length;t++){var r=u(n[t],2),i=r[0],a=r[1];e[i]="optional"in a&&a.optional instanceof Function?a.optional():a}return this.setFields(e)}},{key:"deepPartial",value:function(){return Im(this)}},{key:"pick",value:function(e){var t,n={},r=L(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.setFields(n)}},{key:"omit",value:function(e){var t,n=Object.assign({},this.fields),r=L(e);try{for(r.s();!(t=r.n()).done;){delete n[t.value]}}catch(i){r.e(i)}finally{r.f()}return this.setFields(n)}},{key:"from",value:function(e,t,n){var r=(0,Tp.getter)(e,!0);return this.transform((function(i){if(!i)return i;var a=i;return function(e,t){var n=d((0,Tp.normalizePath)(t));if(1===n.length)return n[0]in e;var r=n.pop(),i=(0,Tp.getter)((0,Tp.join)(n),!0)(e);return!(!i||!(r in i))}(i,e)&&(a=Object.assign({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"json",value:function(){return this.transform(_m)}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gp.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=function(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gp.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){if(!t)return t;for(var n={},r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];n[e(a)]=t[a]}return n}))}},{key:"camelCase",value:function(){return this.transformKeys(Cp.camelCase)}},{key:"snakeCase",value:function(){return this.transformKeys(Cp.snakeCase)}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return(0,Cp.snakeCase)(e).toUpperCase()}))}},{key:"describe",value:function(e){var t=Sp(b(n.prototype),"describe",this).call(this,e);t.fields={};for(var r=0,i=Object.entries(this.fields);r<i.length;r++){var a,o=u(i[r],2),s=o[0],l=o[1],c=e;null!=(a=c)&&a.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[s]})),t.fields[s]=l.describe(c)}return t}}]),n}(im);function jm(e){return new Um(e)}Mm.prototype=Fm.prototype;var Um=function(e){y(n,e);var t=E(n);function n(e){var r;return f(this,n),r=t.call(this,{type:"array",spec:{types:e},check:function(e){return Array.isArray(e)}}),r.innerType=void 0,r.innerType=e,r}return g(n,[{key:"_cast",value:function(e,t){var r=this,i=Sp(b(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,Object.assign({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=this.innerType,l=null!=(t=i.recursive)?t:this.spec.recursive;null!=i.originalValue&&i.originalValue,Sp(b(n.prototype),"_validate",this).call(this,e,i,a,(function(t,n){var u;if(l&&s&&r._typeCheck(n)){for(var c=new Array(n.length),d=0;d<n.length;d++){var f;c[d]=s.asNestedTest({options:i,index:d,parent:n,parentPath:i.path,originalParent:null!=(f=i.originalValue)?f:e})}r.runTests({value:n,tests:c,originalValue:null!=(u=i.originalValue)?u:e,options:i},a,(function(e){return o(e.concat(t),n)}))}else o(t,n)}))}},{key:"clone",value:function(e){var t=Sp(b(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"json",value:function(){return this.transform(_m)}},{key:"concat",value:function(e){var t=Sp(b(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!Wp(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Np(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qp.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test:function(t){return t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||qp.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test:function(t){return t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||qp.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test:function(t){return t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(e){var t=Sp(b(n.prototype),"describe",this).call(this,e);if(this.innerType){var r,i=e;null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),t.innerType=this.innerType.describe(i)}return t}}]),n}(im);jm.prototype=Um.prototype;var Bm=function(e){y(n,e);var t=E(n);function n(e){var r;return f(this,n),r=t.call(this,{type:"tuple",spec:{types:e},check:function(e){var t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),r.withMutation((function(){r.typeError(Kp)})),r}return g(n,[{key:"_cast",value:function(e,t){var r=this.spec.types,i=Sp(b(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i))return i;var a=!1,o=r.map((function(e,n){var r=e.cast(i[n],Object.assign({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return r!==i[n]&&(a=!0),r}));return a?o:i}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=this.spec.types;Sp(b(n.prototype),"_validate",this).call(this,e,r,i,(function(n,s){var l;if(t._typeCheck(s)){var c,d=[],f=L(o.entries());try{for(f.s();!(c=f.n()).done;){var h,p=u(c.value,2),m=p[0],g=p[1];d[m]=g.asNestedTest({options:r,index:m,parent:s,parentPath:r.path,originalParent:null!=(h=r.originalValue)?h:e})}}catch(v){f.e(v)}finally{f.f()}t.runTests({value:s,tests:d,originalValue:null!=(l=r.originalValue)?l:e,options:r},i,(function(e){return a(e.concat(n),s)}))}else a(n,s)}))}},{key:"describe",value:function(e){var t=Sp(b(n.prototype),"describe",this).call(this,e);return t.innerType=this.spec.types.map((function(t,n){var r,i=e;return null!=(r=i)&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),t.describe(i)})),t}}]),n}(im);Bm.prototype;var Vm=Mm({title:Em().trim().required(us.t("errorMessages.titleIsRequired")).max(100,us.t("errorMessages.titleTooLong"))}),Hm=function(e){var t,n=null!==(t=Gt((function(e){return e.lessonSlice.isLoading})))&&void 0!==t&&t,i=u((0,r.useState)(""),2),a=i[0],o=i[1],s=u((0,r.useState)(null),2),l=s[0],c=s[1],d=zt(),f=(0,r.useRef)(null),h=function(e){o("");var t=e.currentTarget.files[0];if(t)if(t.size>104857600)o(us.t(as.videoFileSize));else{var n=null===t||void 0===t?void 0:t.name.split(".").pop();n===us.t(os)||n===us.t(ss)||n===us.t(ls)?c(t):o(us.t(as.videoFileType))}};return(0,et.jsxs)("div",{className:"fixed z-50 top-0 left-0 right-0 bottom-0 bg-black/50 flex items-center justify-center",children:[(0,et.jsx)(Hu,{}),(0,et.jsx)("div",{className:"  max-w-[360px] tablet:max-w-[550px] max-h-[630px] tablet:max-h-[1000px] rounded-[12px] bg-background mx-auto tablet:mx-0 flex-1",children:(0,et.jsxs)("div",{className:"w-full p-[12px]",children:[(0,et.jsx)("h1",{className:"text-3xl mb-1 font-bold text-center text-title",children:"ADD NEW LESSON"}),(0,et.jsx)(cp,{validationSchema:Vm,initialValues:{title:"",video:null,section_id:""},onSubmit:function(t){var n=new FormData;n.append("title",t.title),n.append("section_id",e.id.toString()),n.append("video",l),d(bl(n)).then((function(t){t.payload&&(200!==t.payload.status_code?zu.error(t.payload.message):(zu.success(t.payload.message),e.handleCancel()))})).catch((function(e){zu.error(e)}))},innerRef:f,children:function(t){return(0,et.jsxs)("form",{onSubmit:t.handleSubmit,className:"text-sm mb-1 tablet:text-xl font-medium",children:[(0,et.jsxs)("div",{className:"px-5 py-3",children:[(0,et.jsx)("label",{htmlFor:"title",className:"text-sm mb-1 tablet:text-xl font-medium",children:"Title"})," ",(0,et.jsx)("br",{}),(0,et.jsx)(mp,{type:"text",name:"title",className:"w-full px-2 py-2 rounded-lg border-[1px] outline-none ".concat(t.errors.title&&t.touched.title&&"border-error"," ")}),(0,et.jsx)("br",{}),(0,et.jsx)(Ep,{name:"title",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"px-5 py-3 ",children:[(0,et.jsx)("label",{htmlFor:"video",className:"text-sm mb-1 tablet:text-xl font-medium",children:"Upload video"})," ",(0,et.jsx)("br",{}),(0,et.jsx)("input",{id:"video",ref:f,type:"file",name:"video",className:" file-input file-input-bordered file-input-primary w-full ".concat(""!==a?"border-red border-[1px]":""," "),onChange:h}),""!==a&&(0,et.jsx)("span",{className:" m-auto text-[15px] text-error font-medium ",children:a})]}),(0,et.jsxs)("div",{className:"flex justify-end px-4",children:[(0,et.jsx)("button",{type:"submit",name:"save_button",className:"btn btn-primary text-lg",disabled:!(""===a&&!n),children:n?"Loading...":"Save"}),(0,et.jsx)("button",{onClick:e.handleCancel,type:"button",className:"btn text-lg ml-2",children:"Cancel"})]})]})}})]})})]})};function zm(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Gm(e,t){if(null==e)return{};var n,r,i=zm(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var qm=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Km.apply(this,arguments)}var Wm=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ym=Math.abs,$m=String.fromCharCode,Xm=Object.assign;function Qm(e){return e.trim()}function Zm(e,t,n){return e.replace(t,n)}function Jm(e,t){return e.indexOf(t)}function eg(e,t){return 0|e.charCodeAt(t)}function tg(e,t,n){return e.slice(t,n)}function ng(e){return e.length}function rg(e){return e.length}function ig(e,t){return t.push(e),e}var ag=1,og=1,sg=0,lg=0,ug=0,cg="";function dg(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:ag,column:og,length:o,return:""}}function fg(e,t){return Xm(dg("",null,null,"",null,null,0),e,{length:-e.length},t)}function hg(){return ug=lg>0?eg(cg,--lg):0,og--,10===ug&&(og=1,ag--),ug}function pg(){return ug=lg<sg?eg(cg,lg++):0,og++,10===ug&&(og=1,ag++),ug}function mg(){return eg(cg,lg)}function gg(){return lg}function vg(e,t){return tg(cg,e,t)}function yg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bg(e){return ag=og=1,sg=ng(cg=e),lg=0,[]}function kg(e){return cg="",e}function wg(e){return Qm(vg(lg-1,Sg(91===e?e+2:40===e?e+1:e)))}function xg(e){for(;(ug=mg())&&ug<33;)pg();return yg(e)>2||yg(ug)>3?"":" "}function Eg(e,t){for(;--t&&pg()&&!(ug<48||ug>102||ug>57&&ug<65||ug>70&&ug<97););return vg(e,gg()+(t<6&&32==mg()&&32==pg()))}function Sg(e){for(;pg();)switch(ug){case e:return lg;case 34:case 39:34!==e&&39!==e&&Sg(ug);break;case 40:41===e&&Sg(e);break;case 92:pg()}return lg}function Tg(e,t){for(;pg()&&e+ug!==57&&(e+ug!==84||47!==mg()););return"/*"+vg(t,lg-1)+"*"+$m(47===e?e:pg())}function Cg(e){for(;!yg(mg());)pg();return vg(e,lg)}var Lg="-ms-",Ag="-moz-",Rg="-webkit-",Pg="comm",Og="rule",_g="decl",Ig="@keyframes";function Dg(e,t){for(var n="",r=rg(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Ng(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case _g:return e.return=e.return||e.value;case Pg:return"";case Ig:return e.return=e.value+"{"+Dg(e.children,r)+"}";case Og:e.value=e.props.join(",")}return ng(n=Dg(e.children,r))?e.return=e.value+"{"+n+"}":""}function Mg(e){return kg(Fg("",null,null,null,[""],e=bg(e),0,[0],e))}function Fg(e,t,n,r,i,a,o,s,l){for(var u=0,c=0,d=o,f=0,h=0,p=0,m=1,g=1,v=1,y=0,b="",k=i,w=a,x=r,E=b;g;)switch(p=y,y=pg()){case 40:if(108!=p&&58==eg(E,d-1)){-1!=Jm(E+=Zm(wg(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=wg(y);break;case 9:case 10:case 13:case 32:E+=xg(p);break;case 92:E+=Eg(gg()-1,7);continue;case 47:switch(mg()){case 42:case 47:ig(Ug(Tg(pg(),gg()),t,n),l);break;default:E+="/"}break;case 123*m:s[u++]=ng(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:-1==v&&(E=Zm(E,/\f/g,"")),h>0&&ng(E)-d&&ig(h>32?Bg(E+";",r,n,d-1):Bg(Zm(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(ig(x=jg(E,t,n,u,c,i,s,b,k=[],w=[],d),a),123===y)if(0===c)Fg(E,t,x,x,k,a,d,s,w);else switch(99===f&&110===eg(E,3)?100:f){case 100:case 108:case 109:case 115:Fg(e,x,x,r&&ig(jg(e,x,x,0,0,i,s,b,i,k=[],d),w),i,w,d,s,r?k:w);break;default:Fg(E,x,x,x,[""],w,0,s,w)}}u=c=h=0,m=v=1,b=E="",d=o;break;case 58:d=1+ng(E),h=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==hg())continue;switch(E+=$m(y),y*m){case 38:v=c>0?1:(E+="\f",-1);break;case 44:s[u++]=(ng(E)-1)*v,v=1;break;case 64:45===mg()&&(E+=wg(pg())),f=mg(),c=d=ng(b=E+=Cg(gg())),y++;break;case 45:45===p&&2==ng(E)&&(m=0)}}return a}function jg(e,t,n,r,i,a,o,s,l,u,c){for(var d=i-1,f=0===i?a:[""],h=rg(f),p=0,m=0,g=0;p<r;++p)for(var v=0,y=tg(e,d+1,d=Ym(m=o[p])),b=e;v<h;++v)(b=Qm(m>0?f[v]+" "+y:Zm(y,/&\f/g,f[v])))&&(l[g++]=b);return dg(e,t,n,0===i?Og:s,l,u,c)}function Ug(e,t,n){return dg(e,t,n,Pg,$m(ug),tg(e,2,-2),0)}function Bg(e,t,n,r){return dg(e,t,n,_g,tg(e,0,r),tg(e,r+1,-1),r)}var Vg=function(e,t,n){for(var r=0,i=0;r=i,i=mg(),38===r&&12===i&&(t[n]=1),!yg(i);)pg();return vg(e,lg)},Hg=function(e,t){return kg(function(e,t){var n=-1,r=44;do{switch(yg(r)){case 0:38===r&&12===mg()&&(t[n]=1),e[n]+=Vg(lg-1,t,n);break;case 2:e[n]+=wg(r);break;case 4:if(44===r){e[++n]=58===mg()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=$m(r)}}while(r=pg());return e}(bg(e),t))},zg=new WeakMap,Gg=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||zg.get(n))&&!r){zg.set(e,!0);for(var i=[],a=Hg(t,i),o=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[u]):o[u]+" "+a[s]}}},qg=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Kg(e,t){switch(function(e,t){return 45^eg(e,0)?(((t<<2^eg(e,0))<<2^eg(e,1))<<2^eg(e,2))<<2^eg(e,3):0}(e,t)){case 5103:return Rg+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rg+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Rg+e+Ag+e+Lg+e+e;case 6828:case 4268:return Rg+e+Lg+e+e;case 6165:return Rg+e+Lg+"flex-"+e+e;case 5187:return Rg+e+Zm(e,/(\w+).+(:[^]+)/,Rg+"box-$1$2"+Lg+"flex-$1$2")+e;case 5443:return Rg+e+Lg+"flex-item-"+Zm(e,/flex-|-self/,"")+e;case 4675:return Rg+e+Lg+"flex-line-pack"+Zm(e,/align-content|flex-|-self/,"")+e;case 5548:return Rg+e+Lg+Zm(e,"shrink","negative")+e;case 5292:return Rg+e+Lg+Zm(e,"basis","preferred-size")+e;case 6060:return Rg+"box-"+Zm(e,"-grow","")+Rg+e+Lg+Zm(e,"grow","positive")+e;case 4554:return Rg+Zm(e,/([^-])(transform)/g,"$1"+Rg+"$2")+e;case 6187:return Zm(Zm(Zm(e,/(zoom-|grab)/,Rg+"$1"),/(image-set)/,Rg+"$1"),e,"")+e;case 5495:case 3959:return Zm(e,/(image-set\([^]*)/,Rg+"$1$`$1");case 4968:return Zm(Zm(e,/(.+:)(flex-)?(.*)/,Rg+"box-pack:$3"+Lg+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rg+e+e;case 4095:case 3583:case 4068:case 2532:return Zm(e,/(.+)-inline(.+)/,Rg+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ng(e)-1-t>6)switch(eg(e,t+1)){case 109:if(45!==eg(e,t+4))break;case 102:return Zm(e,/(.+:)(.+)-([^]+)/,"$1"+Rg+"$2-$3$1"+Ag+(108==eg(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Jm(e,"stretch")?Kg(Zm(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==eg(e,t+1))break;case 6444:switch(eg(e,ng(e)-3-(~Jm(e,"!important")&&10))){case 107:return Zm(e,":",":"+Rg)+e;case 101:return Zm(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rg+(45===eg(e,14)?"inline-":"")+"box$3$1"+Rg+"$2$3$1"+Lg+"$2box$3")+e}break;case 5936:switch(eg(e,t+11)){case 114:return Rg+e+Lg+Zm(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Rg+e+Lg+Zm(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Rg+e+Lg+Zm(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Rg+e+Lg+e+e}return e}var Wg=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case _g:e.return=Kg(e.value,e.length);break;case Ig:return Dg([fg(e,{value:Zm(e.value,"@","@"+Rg)})],r);case Og:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dg([fg(e,{props:[Zm(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Dg([fg(e,{props:[Zm(t,/:(plac\w+)/,":"+Rg+"input-$1")]}),fg(e,{props:[Zm(t,/:(plac\w+)/,":-moz-$1")]}),fg(e,{props:[Zm(t,/:(plac\w+)/,Lg+"input-$1")]})],r)}return""}))}}],Yg=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Wg;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l,u,c=[Ng,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=rg(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([Gg,qg].concat(r,c));a=function(e,t,n,r){l=n,Dg(Mg(e?e+"{"+t.styles+"}":t.styles),d),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Wm({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f};var $g=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var Xg={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Qg(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Zg=/[A-Z]|^ms/g,Jg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ev=function(e){return 45===e.charCodeAt(1)},tv=function(e){return null!=e&&"boolean"!==typeof e},nv=Qg((function(e){return ev(e)?e:e.replace(Zg,"-$&").toLowerCase()})),rv=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Jg,(function(e,t,n){return av={name:t,styles:n,next:av},t}))}return 1===Xg[e]||ev(e)||"number"!==typeof t||0===t?t:t+"px"};function iv(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return av={name:n.name,styles:n.styles,next:av},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)av={name:r.name,styles:r.styles,next:av},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=iv(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":tv(o)&&(r+=nv(a)+":"+rv(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=iv(e,t,o);switch(a){case"animation":case"animationName":r+=nv(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)tv(o[l])&&(r+=nv(a)+":"+rv(a,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=av,a=n(e);return av=i,iv(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var av,ov=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var sv=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";av=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=iv(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=iv(n,t,e[o]),r&&(i+=a[o]);ov.lastIndex=0;for(var s,l="";null!==(s=ov.exec(i));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:av}},lv=!!i.useInsertionEffect&&i.useInsertionEffect,uv=lv||function(e){return e()},cv=(lv||r.useLayoutEffect,{}.hasOwnProperty),dv=r.createContext("undefined"!==typeof HTMLElement?Yg({key:"css"}):null);dv.Provider;var fv=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(dv);return e(t,i,n)}))};var hv=r.createContext({});var pv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mv=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return $g(t,n,r),uv((function(){return function(e,t,n){$g(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},gv=fv((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[pv],o=[i],s="";"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,o,e.className):null!=e.className&&(s=e.className+" ");var l=sv(o,void 0,r.useContext(hv));s+=t.key+"-"+l.name;var u={};for(var c in e)cv.call(e,c)&&"css"!==c&&c!==pv&&(u[c]=e[c]);return u.ref=n,u.className=s,r.createElement(r.Fragment,null,r.createElement(mv,{cache:t,serialized:l,isStringTag:"string"===typeof a}),r.createElement(a,u))}));var vv=gv,yv=function(e,t){var n=arguments;if(null==t||!cv.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=vv,a[1]=function(e,t){var n={};for(var r in t)cv.call(t,r)&&(n[r]=t[r]);return n[pv]=e,n}(e,t);for(var o=2;o<i;o++)a[o]=n[o];return r.createElement.apply(null,a)};function bv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sv(t)}function kv(e){return Qn(Qn({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}Math.min,Math.max;var wv=["top","right","bottom","left"];wv.reduce((function(e,t){return e.concat(t,t+"-start",t+"-end")}),[]);function xv(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ev(e){return xv(e).getComputedStyle(e)}function Sv(e){return e instanceof xv(e).Node}function Tv(e){return Sv(e)?(e.nodeName||"").toLowerCase():"#document"}function Cv(e){return e instanceof HTMLElement||e instanceof xv(e).HTMLElement}function Lv(e){return"undefined"!=typeof ShadowRoot&&(e instanceof xv(e).ShadowRoot||e instanceof ShadowRoot)}function Av(e){var t=Ev(e),n=t.overflow,r=t.overflowX,i=t.overflowY,a=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(a)}function Rv(e){return["table","td","th"].includes(Tv(e))}function Pv(e){var t=Ov(),n=Ev(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((function(e){return(n.willChange||"").includes(e)}))||["paint","layout","strict","content"].some((function(e){return(n.contain||"").includes(e)}))}function Ov(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function _v(e){return["html","body","#document"].includes(Tv(e))}var Iv=Math.min,Dv=Math.max,Nv=Math.round,Mv=Math.floor,Fv=function(e){return{x:e,y:e}};function jv(e){var t=Ev(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Cv(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Nv(n)!==a||Nv(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Uv(e){return e instanceof Element||e instanceof xv(e).Element}function Bv(e){return Uv(e)?e:e.contextElement}function Vv(e){var t=Bv(e);if(!Cv(t))return Fv(1);var n=t.getBoundingClientRect(),r=jv(t),i=r.width,a=r.height,o=r.$,s=(o?Nv(n.width):n.width)/i,l=(o?Nv(n.height):n.height)/a;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}var Hv=Fv(0);function zv(e){var t=xv(e);return Ov()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Hv}function Gv(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),a=Bv(e),o=Fv(1);t&&(r?Uv(r)&&(o=Vv(r)):o=Vv(e));var s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==xv(e))&&t}(a,n,r)?zv(a):Fv(0),l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(a)for(var f=xv(a),h=r&&Uv(r)?xv(r):r,p=f.frameElement;p&&r&&h!==f;){var m=Vv(p),g=p.getBoundingClientRect(),v=getComputedStyle(p),y=g.left+(p.clientLeft+parseFloat(v.paddingLeft))*m.x,b=g.top+(p.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,d*=m.y,l+=y,u+=b,p=xv(p).frameElement}return kv({width:c,height:d,x:l,y:u})}function qv(e){return Uv(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Kv(e){var t;return null==(t=(Sv(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Wv(e){return Gv(Kv(e)).left+qv(e).scrollLeft}function Yv(e){if("html"===Tv(e))return e;var t=e.assignedSlot||e.parentNode||Lv(e)&&e.host||Kv(e);return Lv(t)?t.host:t}function $v(e){var t=Yv(e);return _v(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cv(t)&&Av(t)?t:$v(t)}function Xv(e,t){var n;void 0===t&&(t=[]);var r=$v(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=xv(r);return i?t.concat(a,a.visualViewport||[],Av(r)?r:[]):t.concat(r,Xv(r))}function Qv(e,t,n){var r;if("viewport"===t)(function(e,t){var n=xv(e),r=Kv(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){i.width,i.height;var u=Ov();(!u||u&&"fixed"===t)&&(i.offsetLeft,i.offsetTop)}return{width:a,height:o,x:s,y:l}})(e,n);else if("document"===t)(function(e){var t=Kv(e),n=qv(e),r=e.ownerDocument.body,i=Dv(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Dv(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+Wv(e),s=-n.scrollTop;return"rtl"===Ev(r).direction&&Dv(t.clientWidth,r.clientWidth)-i,{width:i,height:a,x:o,y:s}})(Kv(e));else if(Uv(t))(function(e,t){var n=Gv(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Cv(e)?Vv(e):Fv(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}})(t,n);else{var i=zv(e);Qn(Qn({},t),{},{x:t.x-i.x,y:t.y-i.y})}return kv(r)}function Zv(e,t){var n=Yv(e);return!(n===t||!Uv(n)||_v(n))&&("fixed"===Ev(n).position||Zv(n,t))}function Jv(e,t,n){var r=Cv(t),i=Kv(t),a="fixed"===n,o=Gv(e,!0,a,t),s={scrollLeft:0,scrollTop:0},l=Fv(0);if(r||!r&&!a)if(("body"!==Tv(t)||Av(i))&&(s=qv(t)),Cv(t)){var u=Gv(t,!0,a,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=Wv(i));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function ey(e,t){return Cv(e)&&"fixed"!==Ev(e).position?t?t(e):e.offsetParent:null}function ty(e,t){var n=xv(e);if(!Cv(e))return n;for(var r=ey(e,t);r&&Rv(r)&&"static"===Ev(r).position;)r=ey(r,t);return r&&("html"===Tv(r)||"body"===Tv(r)&&"static"===Ev(r).position&&!Pv(r))?n:r||function(e){for(var t=Yv(e);Cv(t)&&!_v(t);){if(Pv(t))return t;t=Yv(t)}return null}(e)||n}!function(){var e=Wt(qt().mark((function e(t){var n,r,i,a,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reference,r=t.floating,i=t.strategy,a=this.getOffsetParent||ty,o=this.getDimensions,e.t0=Jv,e.t1=n,e.next=6,a(r);case 6:return e.t2=e.sent,e.t3=i,e.t4=(0,e.t0)(e.t1,e.t2,e.t3),e.t5=Qn,e.t6={x:0,y:0},e.next=13,o(r);case 13:return e.t7=e.sent,e.t8=(0,e.t5)(e.t6,e.t7),e.abrupt("return",{reference:e.t4,floating:e.t8});case 16:case"end":return e.stop()}}),e,this)})))}();var ny=r.useLayoutEffect,ry=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],iy=function(){};function ay(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function oy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(ay(e,o)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var sy=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===h(e)&&null!==e?[e]:[];var t},ly=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Qn({},Gm(e,ry))},uy=function(e,t,n){var r=e.cx,i=e.getStyles,a=e.getClassNames,o=e.className;return{css:i(t,e),className:r(null!==n&&void 0!==n?n:{},a(t,e),o)}};function cy(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function dy(e){return cy(e)?window.pageYOffset:e.scrollTop}function fy(e,t){cy(e)?window.scrollTo(0,t):e.scrollTop=t}function hy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:iy,i=dy(e),a=t-i,o=0;!function t(){var s=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(o+=10,i,a,n);fy(e,s),o<n?window.requestAnimationFrame(t):r(e)}()}function py(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?fy(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&fy(e,Math.max(t.offsetTop-i,0))}function my(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var gy=!1,vy={get passive(){return gy=!0}},yy="undefined"!==typeof window?window:{};yy.addEventListener&&yy.removeEventListener&&(yy.addEventListener("p",iy,vy),yy.removeEventListener("p",iy,!1));var by=gy;function ky(e){return null!=e}function wy(e,t,n){return e?t:n}var xy=["children","innerProps"],Ey=["children","innerProps"];function Sy(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c,d=l.getBoundingClientRect().height,f=n.getBoundingClientRect(),h=f.bottom,p=f.height,m=f.top,g=n.offsetParent.getBoundingClientRect().top,v=o?window.innerHeight:cy(c=l)?window.innerHeight:c.clientHeight,y=dy(l),b=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),w=g-k,x=v-m,E=w+y,S=d-y-m,T=h-v+y+b,C=y+m-k,L=160;switch(i){case"auto":case"bottom":if(x>=p)return{placement:"bottom",maxHeight:t};if(S>=p&&!o)return a&&hy(l,T,L),{placement:"bottom",maxHeight:t};if(!o&&S>=r||o&&x>=r)return a&&hy(l,T,L),{placement:"bottom",maxHeight:o?x-b:S-b};if("auto"===i||o){var A=t,R=o?w:E;return R>=r&&(A=Math.min(R-b-s,t)),{placement:"top",maxHeight:A}}if("bottom"===i)return a&&fy(l,T),{placement:"bottom",maxHeight:t};break;case"top":if(w>=p)return{placement:"top",maxHeight:t};if(E>=p&&!o)return a&&hy(l,C,L),{placement:"top",maxHeight:t};if(!o&&E>=r||o&&w>=r){var P=t;return(!o&&E>=r||o&&w>=r)&&(P=o?w-k:E-k),a&&hy(l,C,L),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}var Ty,Cy=function(e){return"auto"===e?"bottom":e},Ly=(0,r.createContext)(null),Ay=function(e){var t=e.children,n=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,s=e.menuShouldScrollIntoView,l=e.theme,c=((0,r.useContext)(Ly)||{}).setPortalPlacement,d=(0,r.useRef)(null),f=u((0,r.useState)(i),2),h=f[0],p=f[1],m=u((0,r.useState)(null),2),g=m[0],v=m[1],y=l.spacing.controlHeight;return ny((function(){var e=d.current;if(e){var t="fixed"===o,r=Sy({maxHeight:i,menuEl:e,minHeight:n,placement:a,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:y});p(r.maxHeight),v(r.placement),null===c||void 0===c||c(r.placement)}}),[i,a,o,s,n,c,y]),t({ref:d,placerProps:Qn(Qn({},e),{},{placement:g||Cy(a),maxHeight:h})})},Ry=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return yv("div",Km({},uy(e,"menu",{menu:!0}),{ref:n},r),t)},Py=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return Qn({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Oy=Py,_y=Py,Iy=["size"],Dy=["innerProps","isRtl","size"];var Ny={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},My=function(e){var t=e.size,n=Gm(e,Iy);return yv("svg",Km({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Ny},n))},Fy=function(e){return yv(My,Km({size:20},e),yv("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},jy=function(e){return yv(My,Km({size:20},e),yv("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Uy=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,a=r.colors;return Qn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*i,":hover":{color:n?a.neutral80:a.neutral40}})},By=Uy,Vy=Uy,Hy=function(){var e=bv.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Ty||(Ty=Ll(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),zy=function(e){var t=e.delay,n=e.offset;return yv("span",{css:bv({animation:"".concat(Hy," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Gy=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return yv("div",Km({ref:i},uy(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":o}),a),t)},qy=["data"],Ky=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,a=e.Heading,o=e.headingProps,s=e.innerProps,l=e.label,u=e.theme,c=e.selectProps;return yv("div",Km({},uy(e,"group",{group:!0}),s),yv(a,Km({},o,{selectProps:c,theme:u,getStyles:r,getClassNames:i,cx:n}),l),yv("div",null,t))},Wy=["innerRef","isDisabled","isHidden","inputClassName"],Yy={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$y={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Qn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Yy)},Xy=function(e){return Qn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Yy)},Qy=function(e){var t=e.children,n=e.innerProps;return yv("div",n,t)};var Zy=function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,a=e.isDisabled,o=e.removeProps,s=e.selectProps,l=n.Container,u=n.Label,c=n.Remove;return yv(l,{data:r,innerProps:Qn(Qn({},uy(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:s},yv(u,{data:r,innerProps:Qn({},uy(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),yv(c,{data:r,innerProps:Qn(Qn({},uy(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:s}))},Jy={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return yv("div",Km({},uy(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||yv(Fy,null))},Control:Gy,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return yv("div",Km({},uy(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||yv(jy,null))},DownChevron:jy,CrossIcon:Fy,Group:Ky,GroupHeading:function(e){var t=ly(e);t.data;var n=Gm(t,qy);return yv("div",Km({},uy(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return yv("div",Km({},uy(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return yv("span",Km({},t,uy(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=ly(e),i=r.innerRef,a=r.isDisabled,o=r.isHidden,s=r.inputClassName,l=Gm(r,Wy);return yv("div",Km({},uy(e,"input",{"input-container":!0}),{"data-value":n||""}),yv("input",Km({className:t({input:!0},s),ref:i,style:Xy(o),disabled:a},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,a=Gm(e,Dy);return yv("div",Km({},uy(Qn(Qn({},a),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),yv(zy,{delay:0,offset:n}),yv(zy,{delay:160,offset:!0}),yv(zy,{delay:320,offset:!n}))},Menu:Ry,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return yv("div",Km({},uy(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,i=e.controlElement,a=e.innerProps,o=e.menuPlacement,s=e.menuPosition,l=(0,r.useRef)(null),c=(0,r.useRef)(null),f=u((0,r.useState)(Cy(o)),2),h=f[0],p=f[1],m=(0,r.useMemo)((function(){return{setPortalPlacement:p}}),[]),g=u((0,r.useState)(null),2),v=g[0],y=g[1],b=(0,r.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===s?0:window.pageYOffset,n=e[h]+t;n===(null===v||void 0===v?void 0:v.offset)&&e.left===(null===v||void 0===v?void 0:v.rect.left)&&e.width===(null===v||void 0===v?void 0:v.rect.width)||y({offset:n,rect:e})}}),[i,s,h,null===v||void 0===v?void 0:v.offset,null===v||void 0===v?void 0:v.rect.left,null===v||void 0===v?void 0:v.rect.width]);ny((function(){b()}),[b]);var k=(0,r.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),i&&l.current&&(c.current=function(e,t,n,r){void 0===r&&(r={});var i=r,a=i.ancestorScroll,o=void 0===a||a,s=i.ancestorResize,l=void 0===s||s,c=i.elementResize,f=void 0===c?"function"==typeof ResizeObserver:c,h=i.layoutShift,p=void 0===h?"function"==typeof IntersectionObserver:h,m=i.animationFrame,g=void 0!==m&&m,v=Bv(e),y=o||l?[].concat(d(v?Xv(v):[]),d(Xv(t))):[];y.forEach((function(e){o&&e.addEventListener("scroll",n,{passive:!0}),l&&e.addEventListener("resize",n)}));var b,k=v&&p?function(e,t){var n,r=null,i=Kv(e);function a(){clearTimeout(n),r&&r.disconnect(),r=null}return function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();var u=e.getBoundingClientRect(),c=u.left,d=u.top,f=u.width,h=u.height;if(s||t(),f&&h){var p={rootMargin:-Mv(d)+"px "+-Mv(i.clientWidth-(c+f))+"px "+-Mv(i.clientHeight-(d+h))+"px "+-Mv(c)+"px",threshold:Dv(0,Iv(1,l))||1},m=!0;try{r=new IntersectionObserver(g,Qn(Qn({},p),{},{root:i.ownerDocument}))}catch(e){r=new IntersectionObserver(g,p)}r.observe(e)}function g(e){var t=e[0].intersectionRatio;if(t!==l){if(!m)return o();t?o(!1,t):n=setTimeout((function(){o(!1,1e-7)}),100)}m=!1}}(!0),a}(v,n):null,w=-1,x=null;f&&(x=new ResizeObserver((function(e){var r=u(e,1)[0];r&&r.target===v&&x&&(x.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame((function(){x&&x.observe(t)}))),n()})),v&&!g&&x.observe(v),x.observe(t));var E=g?Gv(e):null;return g&&function t(){var r=Gv(e);!E||r.x===E.x&&r.y===E.y&&r.width===E.width&&r.height===E.height||n(),E=r,b=requestAnimationFrame(t)}(),n(),function(){y.forEach((function(e){o&&e.removeEventListener("scroll",n),l&&e.removeEventListener("resize",n)})),k&&k(),x&&x.disconnect(),x=null,g&&cancelAnimationFrame(b)}}(i,l.current,b,{elementResize:"ResizeObserver"in window}))}),[i,b]);ny((function(){k()}),[k]);var w=(0,r.useCallback)((function(e){l.current=e,k()}),[k]);if(!t&&"fixed"!==s||!v)return null;var x=yv("div",Km({ref:w},uy(Qn(Qn({},e),{},{offset:v.offset,position:s,rect:v.rect}),"menuPortal",{"menu-portal":!0}),a),n);return yv(Ly.Provider,{value:m},t?(0,bt.createPortal)(x,t):x)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=Gm(e,Ey);return yv("div",Km({},uy(Qn(Qn({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=Gm(e,xy);return yv("div",Km({},uy(Qn(Qn({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:Zy,MultiValueContainer:Qy,MultiValueLabel:Qy,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return yv("div",Km({role:"button"},n),t||yv(Fy,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,a=e.innerRef,o=e.innerProps;return yv("div",Km({},uy(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:a,"aria-disabled":n},o),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return yv("div",Km({},uy(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return yv("div",Km({},uy(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return yv("div",Km({},uy(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return yv("div",Km({},uy(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},eb=function(e){return Qn(Qn({},Jy),e.components)},tb=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function nb(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||tb(r)&&tb(i)))return!1;var r,i;return!0}function rb(e,t){void 0===t&&(t=nb);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}for(var ib={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ab=function(e){return yv("span",Km({css:ib},e))},ob={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,a=void 0===i?"":i,o=e.selectValue,s=e.isDisabled,l=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(a," focused, ").concat(u(o,n),".");if("menu"===t){var c=s?" disabled":"",d="".concat(l?"selected":"focused").concat(c);return"option ".concat(a," ").concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},sb=function(e){var t=e.ariaSelection,n=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,s=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,h=l.isMulti,p=l.isOptionDisabled,m=l.isSearchable,g=l.menuIsOpen,v=l.options,y=l.screenReaderStatus,b=l.tabSelectsValue,k=l["aria-label"],w=l["aria-live"],x=(0,r.useMemo)((function(){return Qn(Qn({},ob),c||{})}),[c]),E=(0,r.useMemo)((function(){var e,n="";if(t&&x.onChange){var r=t.option,i=t.options,a=t.removedValue,o=t.removedValues,l=t.value,u=a||r||(e=l,Array.isArray(e)?null:e),c=u?d(u):"",f=i||o||void 0,h=f?f.map(d):[],m=Qn({isDisabled:u&&p(u,s),label:c,labels:h},t);n=x.onChange(m)}return n}),[t,x,p,s,d]),S=(0,r.useMemo)((function(){var e="",t=n||i,r=!!(n&&s&&s.includes(n));if(t&&x.onFocus){var o={focused:t,label:d(t),isDisabled:p(t,s),isSelected:r,options:a,context:t===n?"menu":"value",selectValue:s};e=x.onFocus(o)}return e}),[n,i,d,p,x,a,s]),T=(0,r.useMemo)((function(){var e="";if(g&&v.length&&x.onFilter){var t=y({count:a.length});e=x.onFilter({inputValue:f,resultsMessage:t})}return e}),[a,f,g,x,v,y]),C=(0,r.useMemo)((function(){var e="";if(x.guidance){var t=i?"value":g?"menu":"input";e=x.guidance({"aria-label":k,context:t,isDisabled:n&&p(n,s),isMulti:h,isSearchable:m,tabSelectsValue:b})}return e}),[k,n,i,h,p,m,g,x,s,b]),L="".concat(S," ").concat(T," ").concat(C),A=yv(r.Fragment,null,yv("span",{id:"aria-selection"},E),yv("span",{id:"aria-context"},L)),R="initial-input-focus"===(null===t||void 0===t?void 0:t.action);return yv(r.Fragment,null,yv(ab,{id:u},R&&A),yv(ab,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},o&&!R&&A))},lb=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],ub=new RegExp("["+lb.map((function(e){return e.letters})).join("")+"]","g"),cb={},db=0;db<lb.length;db++)for(var fb=lb[db],hb=0;hb<fb.letters.length;hb++)cb[fb.letters[hb]]=fb.base;var pb=function(e){return e.replace(ub,(function(e){return cb[e]}))},mb=rb(pb),gb=function(e){return e.replace(/^\s+|\s+$/g,"")},vb=function(e){return"".concat(e.label," ").concat(e.value)},yb=["innerRef"];function bb(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=u(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(Gm(e,yb),"onExited","in","enter","exit","appear");return yv("input",Km({ref:t},n,{css:bv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var kb=function(e){e.preventDefault(),e.stopPropagation()};var wb=["boxSizing","height","overflow","paddingRight","position"],xb={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Eb(e){e.preventDefault()}function Sb(e){e.stopPropagation()}function Tb(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Cb(){return"ontouchstart"in window||navigator.maxTouchPoints}var Lb=!("undefined"===typeof window||!window.document||!window.document.createElement),Ab=0,Rb={capture:!1,passive:!1};var Pb=function(){return document.activeElement&&document.activeElement.blur()},Ob={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function _b(e){var t=e.children,n=e.lockEnabled,i=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,i=e.onBottomLeave,a=e.onTopArrive,o=e.onTopLeave,s=(0,r.useRef)(!1),l=(0,r.useRef)(!1),u=(0,r.useRef)(0),c=(0,r.useRef)(null),d=(0,r.useCallback)((function(e,t){if(null!==c.current){var r=c.current,u=r.scrollTop,d=r.scrollHeight,f=r.clientHeight,h=c.current,p=t>0,m=d-f-u,g=!1;m>t&&s.current&&(i&&i(e),s.current=!1),p&&l.current&&(o&&o(e),l.current=!1),p&&t>m?(n&&!s.current&&n(e),h.scrollTop=d,g=!0,s.current=!0):!p&&-t>u&&(a&&!l.current&&a(e),h.scrollTop=0,g=!0,l.current=!0),g&&kb(e)}}),[n,i,a,o]),f=(0,r.useCallback)((function(e){d(e,e.deltaY)}),[d]),h=(0,r.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),p=(0,r.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=(0,r.useCallback)((function(e){if(e){var t=!!by&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",p,t)}}),[p,h,f]),g=(0,r.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",p,!1))}),[p,h,f]);return(0,r.useEffect)((function(){if(t){var e=c.current;return m(e),function(){g(e)}}}),[t,m,g]),function(e){c.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,n=e.accountForScrollbars,i=void 0===n||n,a=(0,r.useRef)({}),o=(0,r.useRef)(null),s=(0,r.useCallback)((function(e){if(Lb){var t=document.body,n=t&&t.style;if(i&&wb.forEach((function(e){var t=n&&n[e];a.current[e]=t})),i&&Ab<1){var r=parseInt(a.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,s=window.innerWidth-o+r||0;Object.keys(xb).forEach((function(e){var t=xb[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&Cb()&&(t.addEventListener("touchmove",Eb,Rb),e&&(e.addEventListener("touchstart",Tb,Rb),e.addEventListener("touchmove",Sb,Rb))),Ab+=1}}),[i]),l=(0,r.useCallback)((function(e){if(Lb){var t=document.body,n=t&&t.style;Ab=Math.max(Ab-1,0),i&&Ab<1&&wb.forEach((function(e){var t=a.current[e];n&&(n[e]=t)})),t&&Cb()&&(t.removeEventListener("touchmove",Eb,Rb),e&&(e.removeEventListener("touchstart",Tb,Rb),e.removeEventListener("touchmove",Sb,Rb)))}}),[i]);return(0,r.useEffect)((function(){if(t){var e=o.current;return s(e),function(){l(e)}}}),[t,s,l]),function(e){o.current=e}}({isEnabled:n});return yv(r.Fragment,null,n&&yv("div",{onClick:Pb,css:Ob}),t((function(e){a(e),o(e)})))}var Ib={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Db=function(e){var t=e.name,n=e.onFocus;return yv("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Ib,value:"",onChange:function(){}})},Nb={clearIndicator:Vy,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,a=i.colors,o=i.borderRadius;return Qn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:r?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:r?a.primary:a.neutral30}})},dropdownIndicator:By,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return Qn({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,a=r.colors;return Qn({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,a=i.spacing,o=i.colors;return Qn(Qn({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},$y),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,a=i.colors,o=i.spacing.baseUnit;return Qn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*o})},loadingMessage:_y,menu:function(e,t){var n,r=e.placement,i=e.theme,a=i.borderRadius,o=i.spacing,s=i.colors;return Qn((xt(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),xt(n,"position","absolute"),xt(n,"width","100%"),xt(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Qn({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,a=n.colors;return Qn({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,a=e.cropWithEllipsis;return Qn({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,a=n.colors,o=e.isFocused;return Qn({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:Oy,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,a=e.theme,o=a.spacing,s=a.colors;return Qn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?s.primary:r?s.primary25:"transparent",color:n?s.neutral20:i?s.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return Qn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,a=r.colors;return Qn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Qn({alignItems:"center",display:r&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var Mb={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Fb={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:my(),captureMenuScroll:!my(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=Qn({ignoreCase:!0,ignoreAccents:!0,stringify:vb,trim:!0,matchFrom:"any"},e),i=r.ignoreCase,a=r.ignoreAccents,o=r.stringify,s=r.trim,l=r.matchFrom,u=s?gb(n):n,c=s?gb(o(t)):o(t);return i&&(u=u.toLowerCase(),c=c.toLowerCase()),a&&(u=mb(u),c=pb(c)),"start"===l?c.substr(0,u.length)===u:c.indexOf(u)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function jb(e,t,n,r){return{type:"option",data:t,isDisabled:Gb(e,t,n),isSelected:qb(e,t,n),label:Hb(e,t),value:zb(e,t),index:r}}function Ub(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return jb(e,n,t,r)})).filter((function(t){return Vb(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=jb(e,n,t,r);return Vb(e,a)?a:void 0})).filter(ky)}function Bb(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,d(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Vb(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,a=t.isSelected,o=t.label,s=t.value;return(!Wb(e)||!a)&&Kb(e,{label:o,value:s,data:i},r)}var Hb=function(e,t){return e.getOptionLabel(t)},zb=function(e,t){return e.getOptionValue(t)};function Gb(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function qb(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=zb(e,t);return n.some((function(t){return zb(e,t)===r}))}function Kb(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Wb=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Yb=1,$b=function(e){y(n,e);var t=E(n);function n(e){var r;if(f(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,a=n.name;t.name=a,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e,t,n){var i=r.props,a=i.closeMenuOnSelect,o=i.isMulti,s=i.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:s}),a&&(r.setState({inputIsHiddenAfterUpdate:!o}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,a=t.name,o=r.state.selectValue,s=i&&r.isOptionSelected(e,o),l=r.isOptionDisabled(e,o);if(s){var u=r.getOptionValue(e);r.setValue(o.filter((function(e){return r.getOptionValue(e)!==u})),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:a});i?r.setValue([].concat(d(o),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),a=n.filter((function(e){return r.getOptionValue(e)!==i})),o=wy(t,a,a[0]||null);r.onChange(o,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(wy(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),a=wy(e,i,i[0]||null);r.onChange(a,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return oy.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return Hb(r.props,e)},r.getOptionValue=function(e){return zb(r.props,e)},r.getStyles=function(e,t){var n=r.props.unstyled,i=Nb[e](t,n);i.boxSizing="border-box";var a=r.props.styles[e];return a?a(i,t):i},r.getClassNames=function(e,t){var n,i;return null===(n=(i=r.props.classNames)[e])||void 0===n?void 0:n.call(i,t)},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return eb(r.props)},r.buildCategorizedOptions=function(){return Ub(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Bb(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:Qn({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!r.props.isDisabled){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"===typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&cy(e.target)&&r.props.onMenuClose():"function"===typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),a=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||a>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return Wb(r.props)},r.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),r.focus()},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,a=t.escapeClearsValue,o=t.inputValue,s=t.isClearable,l=t.isDisabled,u=t.menuIsOpen,c=t.onKeyDown,d=t.tabSelectsValue,f=t.openMenuOnFocus,h=r.state,p=h.focusedOption,m=h.focusedValue,g=h.selectValue;if(!l&&("function"!==typeof c||(c(e),!e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||o)return;r.focusValue("previous");break;case"ArrowRight":if(!n||o)return;r.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(m)r.removeValue(m);else{if(!i)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!u||!d||!p||f&&r.isOptionSelected(p,g))return;r.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(u){if(!p)return;if(r.isComposing)return;r.selectOption(p);break}return;case"Escape":u?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:o}),r.onMenuClose()):s&&a&&r.clearValue();break;case" ":if(o)return;if(!u){r.openMenu("first");break}if(!p)return;r.selectOption(p);break;case"ArrowUp":u?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":u?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!u)return;r.focusOption("pageup");break;case"PageDown":if(!u)return;r.focusOption("pagedown");break;case"Home":if(!u)return;r.focusOption("first");break;case"End":if(!u)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++Yb),r.state.selectValue=sy(e.value),e.menuIsOpen&&r.state.selectValue.length){var i=r.buildFocusableOptions(),a=i.indexOf(r.state.selectValue[0]);r.state.focusedOption=i[a]}return r}return g(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&py(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(py(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,a=this.buildFocusableOptions(),o="first"===e?0:a.length-1;if(!this.props.isMulti){var s=a.indexOf(r[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[o]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var a=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===i?0:-1===i?a:i-1;break;case"next":i>-1&&i<a&&(o=i+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,a=r.indexOf(n);n||(a=-1),"up"===e?i=a>0?a-1:r.length-1:"down"===e?i=(a+1)%r.length:"pageup"===e?(i=a-t)<0&&(i=0):"pagedown"===e?(i=a+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Mb):Qn(Qn({},Mb),this.props.theme):Mb}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,a=this.selectOption,o=this.setValue,s=this.props,l=s.isMulti,u=s.isRtl,c=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:u,options:c,selectOption:a,selectProps:s,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Gb(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return qb(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Kb(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,a=e.inputValue,o=e.tabIndex,s=e.form,l=e.menuIsOpen,u=e.required,c=this.getComponents().Input,d=this.state,f=d.inputIsHidden,h=d.ariaSelection,p=this.commonProps,m=i||this.getElementId("input"),g=Qn(Qn(Qn({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":u,role:"combobox"},l&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===h||void 0===h?void 0:h.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(c,Km({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:s,type:"text",value:a},g)):r.createElement(bb,Km({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:iy,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:s,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,i=t.MultiValueContainer,a=t.MultiValueLabel,o=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,u=this.commonProps,c=this.props,d=c.controlShouldRenderValue,f=c.isDisabled,h=c.isMulti,p=c.inputValue,m=c.placeholder,g=this.state,v=g.selectValue,y=g.focusedValue,b=g.isFocused;if(!this.hasValue()||!d)return p?null:r.createElement(l,Km({},u,{key:"placeholder",isDisabled:f,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return v.map((function(t,s){var l=t===y,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,Km({},u,{components:{Container:i,Label:a,Remove:o},isFocused:l,isDisabled:f,key:c,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var k=v[0];return r.createElement(s,Km({},u,{data:k,isDisabled:f}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||a)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,Km({},t,{innerProps:s,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,a=n.isLoading,o=this.state.isFocused;if(!e||!a)return null;return r.createElement(e,Km({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var i=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused;return r.createElement(n,Km({},i,{isDisabled:a,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,Km({},t,{innerProps:a,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,i=t.GroupHeading,a=t.Menu,o=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,u=t.NoOptionsMessage,c=t.Option,d=this.commonProps,f=this.state.focusedOption,h=this.props,p=h.captureMenuScroll,m=h.inputValue,g=h.isLoading,v=h.loadingMessage,y=h.minMenuHeight,b=h.maxMenuHeight,k=h.menuIsOpen,w=h.menuPlacement,x=h.menuPosition,E=h.menuPortalTarget,S=h.menuShouldBlockScroll,T=h.menuShouldScrollIntoView,C=h.noOptionsMessage,L=h.onMenuScrollToTop,A=h.onMenuScrollToBottom;if(!k)return null;var R,P=function(t,n){var i=t.type,a=t.data,o=t.isDisabled,s=t.isSelected,l=t.label,u=t.value,h=f===a,p=o?void 0:function(){return e.onOptionHover(a)},m=o?void 0:function(){return e.selectOption(a)},g="".concat(e.getElementId("option"),"-").concat(n),v={id:g,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1};return r.createElement(c,Km({},d,{innerProps:v,data:a,isDisabled:o,isSelected:s,key:g,label:l,type:i,value:u,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())R=this.getCategorizedOptions().map((function(t){if("group"===t.type){var a=t.data,o=t.options,s=t.index,l="".concat(e.getElementId("group"),"-").concat(s),u="".concat(l,"-heading");return r.createElement(n,Km({},d,{key:l,data:a,options:o,Heading:i,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return P(e,"".concat(s,"-").concat(e.index))})))}if("option"===t.type)return P(t,"".concat(t.index))}));else if(g){var O=v({inputValue:m});if(null===O)return null;R=r.createElement(l,d,O)}else{var _=C({inputValue:m});if(null===_)return null;R=r.createElement(u,d,_)}var I={minMenuHeight:y,maxMenuHeight:b,menuPlacement:w,menuPosition:x,menuShouldScrollIntoView:T},D=r.createElement(Ay,Km({},d,I),(function(t){var n=t.ref,i=t.placerProps,s=i.placement,l=i.maxHeight;return r.createElement(a,Km({},d,I,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:g,placement:s}),r.createElement(_b,{captureEnabled:p,onTopArrive:L,onBottomArrive:A,lockEnabled:S},(function(t){return r.createElement(o,Km({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:g,maxHeight:l,focusedOption:f}),R)})))}));return E||"fixed"===x?r.createElement(s,Km({},d,{appendTo:E,controlElement:this.controlRef,menuPlacement:w,menuPosition:x}),D):D}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,i=t.isDisabled,a=t.isMulti,o=t.name,s=t.required,l=this.state.selectValue;if(s&&!this.hasValue()&&!i)return r.createElement(Db,{name:o,onFocus:this.onValueInputFocus});if(o&&!i){if(a){if(n){var u=l.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:o,type:"hidden",value:u})}var c=l.length>0?l.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:o,type:"hidden",value:""});return r.createElement("div",null,c)}var d=l[0]?this.getOptionValue(l[0]):"";return r.createElement("input",{name:o,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,i=t.focusedOption,a=t.focusedValue,o=t.isFocused,s=t.selectValue,l=this.getFocusableOptions();return r.createElement(sb,Km({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:i,focusedValue:a,isFocused:o,selectValue:s,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,i=e.SelectContainer,a=e.ValueContainer,o=this.props,s=o.className,l=o.id,u=o.isDisabled,c=o.menuIsOpen,d=this.state.isFocused,f=this.commonProps=this.getCommonProps();return r.createElement(i,Km({},f,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:d}),this.renderLiveRegion(),r.createElement(t,Km({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:d,menuIsOpen:c}),r.createElement(a,Km({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,Km({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,o=t.isFocused,s=t.prevWasFocused,l=e.options,u=e.value,c=e.menuIsOpen,d=e.inputValue,f=e.isMulti,h=sy(u),p={};if(n&&(u!==n.value||l!==n.options||c!==n.menuIsOpen||d!==n.inputValue)){var m=c?function(e,t){return Bb(Ub(e,t))}(e,h):[],g=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,h):null,v=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,m);p={selectValue:h,focusedOption:v,focusedValue:g,clearFocusValueOnUpdate:!1}}var y=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},b=a,k=o&&s;return o&&!k&&(b={value:wy(f,h,h[0]||null),options:h,action:"initial-input-focus"},k=!s),"initial-input-focus"===(null===a||void 0===a?void 0:a.action)&&(b=null),Qn(Qn(Qn({},p),y),{},{prevProps:e,ariaSelection:b,prevWasFocused:k})}}]),n}(r.Component);$b.defaultProps=Fb;var Xb=(0,r.forwardRef)((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,i=e.defaultMenuIsOpen,a=void 0!==i&&i,o=e.defaultValue,s=void 0===o?null:o,l=e.inputValue,c=e.menuIsOpen,d=e.onChange,f=e.onInputChange,h=e.onMenuClose,p=e.onMenuOpen,m=e.value,g=Gm(e,qm),v=u((0,r.useState)(void 0!==l?l:n),2),y=v[0],b=v[1],k=u((0,r.useState)(void 0!==c?c:a),2),w=k[0],x=k[1],E=u((0,r.useState)(void 0!==m?m:s),2),S=E[0],T=E[1],C=(0,r.useCallback)((function(e,t){"function"===typeof d&&d(e,t),T(e)}),[d]),L=(0,r.useCallback)((function(e,t){var n;"function"===typeof f&&(n=f(e,t)),b(void 0!==n?n:e)}),[f]),A=(0,r.useCallback)((function(){"function"===typeof p&&p(),x(!0)}),[p]),R=(0,r.useCallback)((function(){"function"===typeof h&&h(),x(!1)}),[h]),P=void 0!==l?l:y,O=void 0!==c?c:w,_=void 0!==m?m:S;return Qn(Qn({},g),{},{inputValue:P,menuIsOpen:O,onChange:C,onInputChange:L,onMenuClose:R,onMenuOpen:A,value:_})}(e);return r.createElement($b,Km({ref:t},n))})),Qb=Xb;function Zb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}var Jb=!1,ek=r.createContext(null),tk="unmounted",nk="exited",rk="entering",ik="entered",ak="exiting",ok=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=nk,r.appearStatus=rk):i=ik:i=t.unmountOnExit||t.mountOnEnter?tk:nk,r.state={status:i},r.nextCallback=null,r}Zb(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===tk?{status:nk}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==rk&&n!==ik&&(t=rk):n!==rk&&n!==ik||(t=ak)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===rk){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:bt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nk&&this.setState({status:tk})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[bt.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Jb?this.safeSetState({status:ik},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:rk},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:ik},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:bt.findDOMNode(this);t&&!Jb?(this.props.onExit(r),this.safeSetState({status:ak},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:nk},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:nk},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:bt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===tk)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,zm(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(ek.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function sk(){}ok.contextType=ek,ok.propTypes={},ok.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sk,onEntering:sk,onEntered:sk,onExit:sk,onExiting:sk,onExited:sk},ok.UNMOUNTED=tk,ok.EXITED=nk,ok.ENTERING=rk,ok.ENTERED=ik,ok.EXITING=ak;var lk=ok;function uk(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function ck(e,t,n){return null!=n[t]?n[t]:e.props[t]}function dk(e,t,n){var i=uk(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,r.isValidElement)(s)){var l=o in t,u=o in i,c=t[o],d=(0,r.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,r.isValidElement)(c)&&(a[o]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:ck(s,"exit",e),enter:ck(s,"enter",e)})):a[o]=(0,r.cloneElement)(s,{in:!1}):a[o]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:ck(s,"exit",e),enter:ck(s,"enter",e)})}})),a}var fk=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},hk=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(w(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Zb(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,i=o,uk(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:ck(e,"appear",n),enter:ck(e,"enter",n),exit:ck(e,"exit",n)})}))):dk(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=uk(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Km({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=zm(e,["component","childFactory"]),a=this.state.contextValue,o=fk(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(ek.Provider,{value:a},o):r.createElement(ek.Provider,{value:a},r.createElement(t,i,o))},t}(r.Component);hk.propTypes={},hk.defaultProps={component:"div",childFactory:function(e){return e}};var pk=hk,mk=["in","onExited","appear","enter","exit"],gk=function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=Gm(t,mk);return r.createElement(e,n)}},vk=["component","duration","in","onExited"],yk=function(e){var t=e.component,n=e.duration,i=void 0===n?1:n,a=e.in;e.onExited;var o=Gm(e,vk),s=(0,r.useRef)(null),l={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(i,"ms")},exiting:{opacity:0},exited:{opacity:0}};return r.createElement(lk,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:i,nodeRef:s},(function(e){var n={style:Qn({},l[e]),ref:s};return r.createElement(t,Km({innerProps:n},o))}))},bk=function(e){var t=e.children,n=e.in,i=e.onExited,a=(0,r.useRef)(null),o=u((0,r.useState)("auto"),2),s=o[0],l=o[1];(0,r.useEffect)((function(){var e=a.current;if(e){var t=window.requestAnimationFrame((function(){return l(e.getBoundingClientRect().width)}));return function(){return window.cancelAnimationFrame(t)}}}),[]);var c=function(e){switch(e){default:return{width:s};case"exiting":return{width:0,transition:"width ".concat(260,"ms ease-out")};case"exited":return{width:0}}};return r.createElement(lk,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:n,onExited:function(){var e=a.current;e&&(null===i||void 0===i||i(e))},timeout:260,nodeRef:a},(function(e){return r.createElement("div",{ref:a,style:Qn({overflow:"hidden",whiteSpace:"nowrap"},c(e))},t)}))},kk=["in","onExited"],wk=function(e){return function(t){var n=t.in,i=t.onExited,a=Gm(t,kk);return r.createElement(bk,{in:n,onExited:i},r.createElement(e,Km({cropWithEllipsis:n},a)))}},xk=function(e){return function(t){return r.createElement(yk,Km({component:e,duration:t.isMulti?260:1},t))}},Ek=function(e){return function(t){return r.createElement(yk,Km({component:e},t))}},Sk=["component"],Tk=["children"],Ck=function(e){var t=e.component,n=Gm(e,Sk),i=Lk(n);return r.createElement(pk,Km({component:t},i))},Lk=function(e){var t=e.children,n=Gm(e,Tk),i=n.isMulti,a=n.hasValue,o=n.innerProps,s=n.selectProps,l=s.components,c=s.controlShouldRenderValue,d=u((0,r.useState)(i&&c&&a),2),f=d[0],h=d[1],p=u((0,r.useState)(!1),2),m=p[0],g=p[1];(0,r.useEffect)((function(){a&&!f&&h(!0)}),[a,f]),(0,r.useEffect)((function(){m&&!a&&f&&h(!1),g(!1)}),[m,a,f]);var v=function(){return g(!0)},y=Qn(Qn({},o),{},{style:Qn(Qn({},null===o||void 0===o?void 0:o.style),{},{display:i&&a||f?"flex":"grid"})});return Qn(Qn({},n),{},{innerProps:y,children:r.Children.toArray(t).map((function(e){if(i&&r.isValidElement(e)){if(e.type===l.MultiValue)return r.cloneElement(e,{onExited:v});if(e.type===l.Placeholder&&f)return null}return e}))})},Ak=function(e){return function(t){return t.isMulti?r.createElement(Ck,Km({component:e},t)):r.createElement(pk,Km({component:e},t))}},Rk=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],Pk=function(){var e=eb({components:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}),t=e.Input,n=e.MultiValue,r=e.Placeholder,i=e.SingleValue,a=e.ValueContainer,o=Gm(e,Rk);return Qn({Input:gk(t),MultiValue:wk(n),Placeholder:xk(r),SingleValue:Ek(i),ValueContainer:Ak(a)},o)},Ok=Pk(),_k=(Ok.Input,Ok.MultiValue,Ok.Placeholder,Ok.SingleValue,Ok.ValueContainer,rb(Pk)),Ik=function(e){var t=_k();return(0,et.jsx)(Qb,{closeMenuOnSelect:!1,components:t,defaultValue:e.defautlValues,placeholder:e.placeholder,isMulti:e.isMulti,onChange:e.handleOnchange,options:e.options,styles:e.styles})},Dk=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"fixed z-50 w-full h-full top-0 left-0 flex flex-col items-center justify-center bg-black/20",children:[(0,et.jsx)("div",{className:"loading loading-spinner text-title w-20 h-20"}),(0,et.jsx)("span",{className:"text-3xl font-bold text-title animate-pulse",children:"Waiting..."})]})})};function Nk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mk={exports:{}};!function(e,t){!function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=r.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()}(Mk);var Fk=Mk.exports;function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jk(Object(n),!0).forEach((function(t){Bk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vk(){return Vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vk.apply(this,arguments)}var Hk=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},zk=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e}({}),Gk=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),qk=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown",e}({}),Kk=function(){},Wk={trace:Kk,debug:Kk,log:Kk,warn:Kk,info:Kk,error:Kk},Yk=Wk;function $k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){Yk[t]=e[t]?e[t].bind(e):function(e){var t=self.console[e];return t?t.bind(self.console,"[".concat(e,"] >")):Kk}(t)}))}var Xk=Yk,Qk=/^(\d+)x(\d+)$/,Zk=/(.+?)=(".*?"|.*?)(?:,|$)/g,Jk=function(){function e(t){for(var n in f(this,e),"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&("X-"===n.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(n)),this[n]=t[n])}return g(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"optionalFloat",value:function(e,t){var n=this[e];return n?parseFloat(n):t}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"bool",value:function(e){return"YES"===this[e]}},{key:"decimalResolution",value:function(e){var t=Qk.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,n={};for(Zk.lastIndex=0;null!==(t=Zk.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1].trim()]=r}return n}}]),e}();function ew(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}var tw=function(){function e(t,n){if(f(this,e),this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){var r=n.attr;for(var i in r)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i]!==r[i]){Xk.warn('DATERANGE tag attribute: "'.concat(i,'" does not match for tags with ID: "').concat(t.ID,'"')),this._badValueForSameId=i;break}t=Vk(new Jk({}),r,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){var a=new Date(this.attr["END-DATE"]);Hk(a.getTime())&&(this._endDate=a)}}return g(e,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var e=this.attr.decimalFloatingPoint("DURATION");if(Hk(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&Hk(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),e}(),nw=g((function e(){f(this,e),this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}})),rw="audio",iw="video",aw="audiovideo",ow=function(){function e(t){var n;f(this,e),this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(xt(n={},rw,null),xt(n,iw,null),xt(n,aw,null),n),this.baseurl=t}return g(e,[{key:"setByteRange",value:function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Fk.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),sw=function(e){y(n,e);var t=E(n);function n(e,r){var i;return f(this,n),(i=t.call(this,r))._decryptdata=null,i.rawProgramDateTime=null,i.programDateTime=null,i.tagList=[],i.duration=0,i.sn=0,i.levelkeys=void 0,i.type=void 0,i.loader=null,i.keyLoader=null,i.level=-1,i.cc=0,i.startPTS=void 0,i.endPTS=void 0,i.startDTS=void 0,i.endDTS=void 0,i.start=0,i.deltaPTS=void 0,i.maxStartPTS=void 0,i.minEndPTS=void 0,i.stats=new nw,i.urlId=0,i.data=void 0,i.bitrateTest=!1,i.title=null,i.initSegment=null,i.endList=void 0,i.gap=void 0,i.type=e,i}return g(n,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{var t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Hk(this.programDateTime))return null;var e=Hk(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){var t=Object.keys(this.levelkeys),n=t.length;if(n>1||1===n&&this.levelkeys[t[0]].encrypted)return!0}return!1}},{key:"setKeyFormat",value:function(e){if(this.levelkeys){var t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}},{key:"abortRequests",value:function(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}},{key:"setElementaryStreamInfo",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=this.elementaryStreams,s=o[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):o[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:a}}},{key:"clearElementaryStreamInfo",value:function(){var e=this.elementaryStreams;e[rw]=null,e[iw]=null,e[aw]=null}}]),n}(ow),lw=function(e){y(n,e);var t=E(n);function n(e,r,i,a,o){var s;f(this,n),(s=t.call(this,i)).fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new nw,s.duration=e.decimalFloatingPoint("DURATION"),s.gap=e.bool("GAP"),s.independent=e.bool("INDEPENDENT"),s.relurl=e.enumeratedString("URI"),s.fragment=r,s.index=a;var l=e.enumeratedString("BYTERANGE");return l&&s.setByteRange(l,o),o&&(s.fragOffset=o.fragOffset+o.duration),s}return g(n,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),n}(ow),uw=function(){function e(t){f(this,e),this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}return g(e,[{key:"reloaded",value:function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}},{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Hk(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}();function cw(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function dw(e){var t=e.split(":"),n=null;if("data"===t[0]&&2===t.length){var r=t[1].split(";"),i=r[r.length-1].split(",");if(2===i.length){var a="base64"===i[0],o=i[1];a?(r.splice(-1,1),n=cw(o)):n=function(e){var t=fw(e).subarray(0,16),n=new Uint8Array(16);return n.set(t,16-t.length),n}(o)}}return n}function fw(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(function(e){return e.charCodeAt(0)}))}var hw={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},pw="org.w3.clearkey",mw="com.apple.streamingkeydelivery",gw="com.microsoft.playready",vw="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function yw(e){switch(e){case mw:return hw.FAIRPLAY;case gw:return hw.PLAYREADY;case vw:return hw.WIDEVINE;case pw:return hw.CLEARKEY}}var bw="edef8ba979d64acea3c827dcd51d21ed";function kw(e){switch(e){case hw.FAIRPLAY:return mw;case hw.PLAYREADY:return gw;case hw.WIDEVINE:return vw;case hw.CLEARKEY:return pw}}function ww(e){var t=e.drmSystems,n=e.widevineLicenseUrl,r=t?[hw.FAIRPLAY,hw.WIDEVINE,hw.PLAYREADY,hw.CLEARKEY].filter((function(e){return!!t[e]})):[];return!r[hw.WIDEVINE]&&n&&r.push(hw.WIDEVINE),r}var xw="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function Ew(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}var Sw,Tw=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},Cw=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},Lw=function(e,t){for(var n=t,r=0;Tw(e,t);){r+=10,r+=Aw(e,t+6),Cw(e,t+10)&&(r+=10),t+=r}if(r>0)return e.subarray(n,n+r)},Aw=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},Rw=function(e,t){return Tw(e,t)&&Aw(e,t+6)+10<=e.length-t},Pw=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},Ow=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=Aw(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},_w=function(e){for(var t=0,n=[];Tw(e,t);){for(var r=Aw(e,t+6),i=(t+=10)+r;t+8<i;){var a=Ow(e.subarray(t)),o=Iw(a);o&&n.push(o),t+=a.size+10}Cw(e,t)&&(t+=10)}return n},Iw=function(e){return"PRIV"===e.type?Dw(e):"W"===e.type[0]?Mw(e):Nw(e)},Dw=function(e){if(!(e.size<2)){var t=jw(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},Nw=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=jw(e.data.subarray(t),!0);t+=n.length+1;var r=jw(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=jw(e.data.subarray(1));return{key:e.type,data:i}}},Mw=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=jw(e.data.subarray(t),!0);t+=n.length+1;var r=jw(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=jw(e.data);return{key:e.type,data:i}},Fw=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},jw=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Uw();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var a,o,s,l=e.length,u="",c=0;c<l;){if(0===(a=e[c++])&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:o=e[c++],u+=String.fromCharCode((31&a)<<6|63&o);break;case 14:o=e[c++],s=e[c++],u+=String.fromCharCode((15&a)<<12|(63&o)<<6|(63&s)<<0)}}return u};function Uw(){return Sw||"undefined"===typeof self.TextDecoder||(Sw=new self.TextDecoder("utf-8")),Sw}var Bw=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);r.length<2&&(r="0"+r),t+=r}return t},Vw=Math.pow(2,32)-1,Hw=[].push,zw={video:1,audio:2,id3:3,text:4};function Gw(e){return String.fromCharCode.apply(null,e)}function qw(e,t){var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function Kw(e,t){var n=Ww(e,t);return n<0?4294967296+n:n}function Ww(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function Yw(e,t,n){e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function $w(e,t){var n=[];if(!t.length)return n;for(var r=e.byteLength,i=0;i<r;){var a=Kw(e,i),o=a>1?i+a:r;if(Gw(e.subarray(i+4,i+8))===t[0])if(1===t.length)n.push(e.subarray(i+8,o));else{var s=$w(e.subarray(i+8,o),t.slice(1));s.length&&Hw.apply(n,s)}i=o}return n}function Xw(e){var t=[],n=e[0],r=8,i=Kw(e,r);r+=4;r+=0===n?8:16,r+=2;var a=e.length+0,o=qw(e,r);r+=2;for(var s=0;s<o;s++){var l=r,u=Kw(e,l);l+=4;var c=2147483647&u;if(1===(2147483648&u)>>>31)return Xk.warn("SIDX has hierarchical references (not supported)"),null;var d=Kw(e,l);l+=4,t.push({referenceSize:c,subsegmentDuration:d,info:{duration:d/i,start:a,end:a+c-1}}),a+=c,r=l+=4}return{earliestPresentationTime:0,timescale:i,version:n,referencesCount:o,references:t}}function Qw(e){for(var t=[],n=$w(e,["moov","trak"]),r=0;r<n.length;r++){var i=n[r],a=$w(i,["tkhd"])[0];if(a){var o=a[0],s=0===o?12:20,l=Kw(a,s),u=$w(i,["mdia","mdhd"])[0];if(u){var c=Kw(u,s=0===(o=u[0])?12:20),d=$w(i,["mdia","hdlr"])[0];if(d){var f=Gw(d.subarray(8,12)),h={soun:rw,vide:iw}[f];if(h){var p=$w(i,["mdia","minf","stbl","stsd"])[0],m=void 0;p&&(m=Gw(p.subarray(12,16))),t[l]={timescale:c,type:h},t[h]={timescale:c,id:l,codec:m}}}}}}return $w(e,["moov","mvex","trex"]).forEach((function(e){var n=Kw(e,4),r=t[n];r&&(r.default={duration:Kw(e,12),flags:Kw(e,20)})})),t}function Zw(e){var t=$w(e,["schm"])[0];if(t){var n=Gw(t.subarray(4,8));if("cbcs"===n||"cenc"===n)return $w(e,["schi","tenc"])[0]}return Xk.error("[eme] missing 'schm' box"),null}function Jw(e){var t=Kw(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=Kw(e,4),a=0;a<i;a++){if(256&t)r+=Kw(e,n),n+=4;512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4)}return r}function ex(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function tx(e,t){var n=[],r=t.samples,i=t.timescale,a=t.id,o=!1;return $w(r,["moof"]).map((function(s){var l=s.byteOffset-8;$w(s,["traf"]).map((function(s){var u=$w(s,["tfdt"]).map((function(e){var t=e[0],n=Kw(e,4);return 1===t&&(n*=Math.pow(2,32),n+=Kw(e,8)),n/i}))[0];return void 0!==u&&(e=u),$w(s,["tfhd"]).map((function(u){var c=Kw(u,4),d=16777215&Kw(u,0),f=0,h=0!==(16&d),p=0,m=0!==(32&d),g=8;c===a&&(0!==(1&d)&&(g+=8),0!==(2&d)&&(g+=4),0!==(8&d)&&(f=Kw(u,g),g+=4),h&&(p=Kw(u,g),g+=4),m&&(g+=4),"video"===t.type&&(o=function(e){if(!e)return!1;var t=e.indexOf("."),n=t<0?e:e.substring(0,t);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(t.codec)),$w(s,["trun"]).map((function(a){var s=a[0],u=16777215&Kw(a,0),c=0!==(1&u),d=0,h=0!==(4&u),m=0!==(256&u),g=0,v=0!==(512&u),y=0,b=0!==(1024&u),k=0!==(2048&u),w=0,x=Kw(a,4),E=8;c&&(d=Kw(a,E),E+=4),h&&(E+=4);for(var S=d+l,T=0;T<x;T++){if(m?(g=Kw(a,E),E+=4):g=f,v?(y=Kw(a,E),E+=4):y=p,b&&(E+=4),k&&(w=0===s?Kw(a,E):Ww(a,E),E+=4),t.type===iw)for(var C=0;C<y;){var L=Kw(r,S);if(nx(o,r[S+=4]))rx(r.subarray(S,S+L),o?2:1,e+w/i,n);S+=L,C+=L+4}e+=g/i}})))}))}))})),n}function nx(e,t){if(e){var n=t>>1&63;return 39===n||40===n}return 6===(31&t)}function rx(e,t,n,r){var i=ix(e),a=0;a+=t;for(var o=0,s=0,l=!1,u=0;a<i.length;){o=0;do{if(a>=i.length)break;o+=u=i[a++]}while(255===u);s=0;do{if(a>=i.length)break;s+=u=i[a++]}while(255===u);var c=i.length-a;if(!l&&4===o&&a<i.length){if(l=!0,181===i[a++]){var d=qw(i,a);if(a+=2,49===d){var f=Kw(i,a);if(a+=4,1195456820===f){var h=i[a++];if(3===h){var p=i[a++],m=64&p,g=m?2+3*(31&p):0,v=new Uint8Array(g);if(m){v[0]=p;for(var y=1;y<g;y++)v[y]=i[a++]}r.push({type:h,payloadType:o,pts:n,bytes:v})}}}}}else if(5===o&&s<c){if(l=!0,s>16){for(var b=[],k=0;k<16;k++){var w=i[a++].toString(16);b.push(1==w.length?"0"+w:w),3!==k&&5!==k&&7!==k&&9!==k||b.push("-")}for(var x=s-16,E=new Uint8Array(x),S=0;S<x;S++)E[S]=i[a++];r.push({payloadType:o,pts:n,uuid:b.join(""),userData:jw(E),userDataBytes:E})}}else if(s<c)a+=s;else if(s>c)break}}function ix(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,a=new Uint8Array(i),o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),a[r]=e[o];return a}function ax(e,t,n){if(16!==e.byteLength)throw new RangeError("Invalid system id");var r,i,a;if(t){r=1,i=new Uint8Array(16*t.length);for(var o=0;o<t.length;o++){var s=t[o];if(16!==s.byteLength)throw new RangeError("Invalid key");i.set(s,16*o)}}else r=0,i=new Uint8Array;r>0?(a=new Uint8Array(4),t.length>0&&new DataView(a.buffer).setUint32(0,t.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(l.buffer).setUint32(0,n.byteLength,!1),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=n.length,a=8,o=i;o--;)a+=n[o].byteLength;var s=new Uint8Array(a);for(s[0]=a>>24&255,s[1]=a>>16&255,s[2]=a>>8&255,s[3]=255&a,s.set(e,4),o=0,a=8;o<i;o++)s.set(n[o],a),a+=n[o].byteLength;return s}([112,115,115,104],new Uint8Array([r,0,0,0]),e,a,i,l,n||new Uint8Array)}var ox={},sx=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;f(this,e),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=a,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}return g(e,[{key:"isSupported",value:function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case mw:case vw:case gw:case pw:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}},{key:"getDecryptData",value:function(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof t&&("AES-128"!==this.method||this.iv||Xk.warn('missing IV for initialization segment with method="'.concat(this.method,'" - compliance issue')),t=0);var n=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}(t);return new e(this.method,this.uri,"identity",this.keyFormatVersions,n)}var r=dw(this.uri);if(r)switch(this.keyFormat){case vw:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case gw:var i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=ax(i,null,r);var a=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),o=String.fromCharCode.apply(null,Array.from(a)),s=o.substring(o.indexOf("<"),o.length),l=(new DOMParser).parseFromString(s,"text/xml").getElementsByTagName("KID")[0];if(l){var u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(u){var c=cw(u).subarray(0,16);!function(e){var t=function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(c),this.keyId=c}}break;default:var d=r.subarray(0,16);if(16!==d.length){var f=new Uint8Array(16);f.set(d,16-d.length),d=f}this.keyId=d}if(!this.keyId||16!==this.keyId.byteLength){var h=ox[this.uri];if(!h){var p=Object.keys(ox).length%Number.MAX_SAFE_INTEGER;h=new Uint8Array(16),new DataView(h.buffer,12,4).setUint32(0,p),ox[this.uri]=h}this.keyId=h}return this}}],[{key:"clearKeyUriToKeyIdMap",value:function(){ox={}}}]),e}();var lx=/\{\$([a-zA-Z0-9-_]+)\}/g;function ux(e){return lx.test(e)}function cx(e,t,n){if(null!==e.variableList||e.hasVariableRefs)for(var r=n.length;r--;){var i=n[r],a=t[i];a&&(t[i]=dx(e,a))}}function dx(e,t){if(null!==e.variableList||e.hasVariableRefs){var n=e.variableList;return t.replace(lx,(function(t){var r=t.substring(2,t.length-1),i=null==n?void 0:n[r];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'.concat(r,'"'))),t):i}))}return t}function fx(e,t,n){var r,i,a=e.variableList;if(a||(e.variableList=a={}),"QUERYPARAM"in t){r=t.QUERYPARAM;try{var o=new self.URL(n).searchParams;if(!o.has(r))throw new Error('"'.concat(r,'" does not match any query parameter in URI: "').concat(n,'"'));i=o.get(r)}catch(s){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: ".concat(s.message)))}}else r=t.NAME,i=t.VALUE;r in a?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'.concat(r,'"'))):a[r]=i||""}function hx(e,t,n){var r=t.IMPORT;if(n&&r in n){var i=e.variableList;i||(e.variableList=i={}),i[r]=n[r]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'.concat(r,'"')))}function px(){if("undefined"!==typeof self)return self.MediaSource||self.WebKitMediaSource}var mx={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},gx=px();function vx(e,t){var n;return null!=(n=null==gx?void 0:gx.isTypeSupported("".concat(t||"video",'/mp4;codecs="').concat(e,'"')))&&n}var yx=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,bx=/#EXT-X-MEDIA:(.*)/g,kx=/^#EXT(?:INF|-X-TARGETDURATION):/m,wx=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),xx=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Ex=function(){function e(){f(this,e)}return g(e,null,[{key:"findGroup",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}}},{key:"convertAVC1ToAVCOTI",value:function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return n+=parseInt(t.shift()).toString(16),n+=("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e}},{key:"resolve",value:function(e,t){return Fk.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}},{key:"isMediaPlaylist",value:function(e){return kx.test(e)}},{key:"parseMasterPlaylist",value:function(t,n){var r,i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:ux(t)},a=[];for(yx.lastIndex=0;null!=(r=yx.exec(t));)if(r[1]){var o,s=new Jk(r[1]);cx(i,s,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var l=dx(i,r[2]),u={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(l,n)},c=s.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),Cx((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),null!=(o=u.unknownCodecs)&&o.length||a.push(u),i.levels.push(u)}else if(r[3]){var d=r[3],f=r[4];switch(d){case"SESSION-DATA":var h=new Jk(f);cx(i,h,["DATA-ID","LANGUAGE","VALUE","URI"]);var p=h["DATA-ID"];p&&(null===i.sessionData&&(i.sessionData={}),i.sessionData[p]=h);break;case"SESSION-KEY":var m=Sx(f,n,i);m.encrypted&&m.isSupported()?(null===i.sessionKeys&&(i.sessionKeys=[]),i.sessionKeys.push(m)):Xk.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'.concat(f,'"'));break;case"DEFINE":var g=new Jk(f);cx(i,g,["NAME","VALUE","QUERYPARAM"]),fx(i,g,n);break;case"CONTENT-STEERING":var v=new Jk(f);cx(i,v,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:e.resolve(v["SERVER-URI"],n),pathwayId:v["PATHWAY-ID"]||"."};break;case"START":i.startTimeOffset=Tx(f)}}var y=a.length>0&&a.length<i.levels.length;return i.levels=y?a:i.levels,0===i.levels.length&&(i.playlistParsingError=new Error("no levels found in manifest")),i}},{key:"parseMasterPlaylistMedia",value:function(t,n,r){var i,a={},o=r.levels,s={AUDIO:o.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),SUBTITLES:o.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;for(bx.lastIndex=0;null!==(i=bx.exec(t));){var u=new Jk(i[1]),c=u.TYPE;if(c){var d=s[c],f=a[c]||[];a[c]=f,cx(r,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var h={attrs:u,bitrate:0,id:l++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:c,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?e.resolve(u.URI,n):""};if(null!=d&&d.length){var p=e.findGroup(d,h.groupId)||d[0];Lx(h,p,"audioCodec"),Lx(h,p,"textCodec")}f.push(h)}}return a}},{key:"parseLevelPlaylist",value:function(e,t,n,r,i,a){var o,s,l,u=new uw(t),c=u.fragments,d=null,f=0,h=0,p=0,m=0,g=null,v=new sw(r,t),y=-1,b=!1;for(wx.lastIndex=0,u.m3u8=e,u.hasVariableRefs=ux(e);null!==(o=wx.exec(e));){b&&(b=!1,(v=new sw(r,t)).start=p,v.sn=f,v.cc=m,v.level=n,d&&(v.initSegment=d,v.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null));var k=o[1];if(k){v.duration=parseFloat(k);var w=(" "+o[2]).slice(1);v.title=w||null,v.tagList.push(w?["INF",k,w]:["INF",k])}else if(o[3]){if(Hk(v.duration)){v.start=p,l&&Px(v,l,u),v.sn=f,v.level=n,v.cc=m,v.urlId=i,c.push(v);var x=(" "+o[3]).slice(1);v.relurl=dx(u,x),Ax(v,g),g=v,p+=v.duration,f++,h=0,b=!0}}else if(o[4]){var E=(" "+o[4]).slice(1);g?v.setByteRange(E,g):v.setByteRange(E)}else if(o[5])v.rawProgramDateTime=(" "+o[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),-1===y&&(y=c.length);else{if(!(o=o[0].match(xx))){Xk.warn("No matches on slow regex match for level playlist!");continue}for(s=1;s<o.length&&"undefined"===typeof o[s];s++);var S=(" "+o[s]).slice(1),T=(" "+o[s+1]).slice(1),C=o[s+2]?(" "+o[s+2]).slice(1):"";switch(S){case"PLAYLIST-TYPE":u.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":f=u.startSN=parseInt(T);break;case"SKIP":var L=new Jk(T);cx(u,L,["RECENTLY-REMOVED-DATERANGES"]);var A=L.decimalInteger("SKIPPED-SEGMENTS");if(Hk(A)){u.skippedSegments=A;for(var R=A;R--;)c.unshift(null);f+=A}var P=L.enumeratedString("RECENTLY-REMOVED-DATERANGES");P&&(u.recentlyRemovedDateranges=P.split("\t"));break;case"TARGETDURATION":u.targetduration=Math.max(parseInt(T),1);break;case"VERSION":u.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"#":(T||C)&&v.tagList.push(C?[T,C]:[T]);break;case"DISCONTINUITY":m++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([S]);break;case"BITRATE":v.tagList.push([S,T]);break;case"DATERANGE":var O=new Jk(T);cx(u,O,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),cx(u,O,O.clientAttrs);var _=new tw(O,u.dateRanges[O.ID]);_.isValid||u.skippedSegments?u.dateRanges[_.id]=_:Xk.warn('Ignoring invalid DATERANGE tag: "'.concat(T,'"')),v.tagList.push(["EXT-X-DATERANGE",T]);break;case"DEFINE":var I=new Jk(T);cx(u,I,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in I?hx(u,I,a):fx(u,I,t);break;case"DISCONTINUITY-SEQUENCE":m=parseInt(T);break;case"KEY":var D=Sx(T,t,u);if(D.isSupported()){if("NONE"===D.method){l=void 0;break}l||(l={}),l[D.keyFormat]&&(l=Vk({},l)),l[D.keyFormat]=D}else Xk.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'.concat(T,'"'));break;case"START":u.startTimeOffset=Tx(T);break;case"MAP":var N=new Jk(T);if(cx(u,N,["BYTERANGE","URI"]),v.duration){var M=new sw(r,t);Rx(M,N,n,l),d=M,v.initSegment=d,d.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=d.rawProgramDateTime)}else Rx(v,N,n,l),d=v,b=!0;break;case"SERVER-CONTROL":var F=new Jk(T);u.canBlockReload=F.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=F.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&F.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=F.optionalFloat("PART-HOLD-BACK",0),u.holdBack=F.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var j=new Jk(T);u.partTarget=j.decimalFloatingPoint("PART-TARGET");break;case"PART":var U=u.partList;U||(U=u.partList=[]);var B=h>0?U[U.length-1]:void 0,V=h++,H=new Jk(T);cx(u,H,["BYTERANGE","URI"]);var z=new lw(H,v,t,V,B);U.push(z),v.duration+=z.duration;break;case"PRELOAD-HINT":var G=new Jk(T);cx(u,G,["URI"]),u.preloadHint=G;break;case"RENDITION-REPORT":var q=new Jk(T);cx(u,q,["URI"]),u.renditionReports=u.renditionReports||[],u.renditionReports.push(q);break;default:Xk.warn("line parsed but not handled: ".concat(o))}}}g&&!g.relurl?(c.pop(),p-=g.duration,u.partList&&(u.fragmentHint=g)):u.partList&&(Ax(v,g),v.cc=m,u.fragmentHint=v,l&&Px(v,l,u));var K=c.length,W=c[0],Y=c[K-1];if((p+=u.skippedSegments*u.targetduration)>0&&K&&Y){u.averagetargetduration=p/K;var $=Y.sn;u.endSN="initSegment"!==$?$:0,u.live||(Y.endList=!0),W&&(u.startCC=W.cc)}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(p+=u.fragmentHint.duration),u.totalduration=p,u.endCC=m,y>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(c,y),u}}]),e}();function Sx(e,t,n){var r,i,a=new Jk(e);cx(n,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var o=null!=(r=a.METHOD)?r:"",s=a.URI,l=a.hexadecimalInteger("IV"),u=a.KEYFORMATVERSIONS,c=null!=(i=a.KEYFORMAT)?i:"identity";s&&a.IV&&!l&&Xk.error("Invalid IV: ".concat(a.IV));var d=s?Ex.resolve(s,t):"",f=(u||"1").split("/").map(Number).filter(Number.isFinite);return new sx(o,d,c,f,l)}function Tx(e){var t=new Jk(e).decimalFloatingPoint("TIME-OFFSET");return Hk(t)?t:null}function Cx(e,t){["video","audio","text"].forEach((function(n){var r=e.filter((function(e){return function(e,t){var n=mx[t];return!!n&&!0===n[e.slice(0,4)]}(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t["".concat(n,"Codec")]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function Lx(e,t,n){var r=t[n];r&&(e[n]=r)}function Ax(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Hk(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function Rx(e,t,n,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=n,e.sn="initSegment",r&&(e.levelkeys=r),e.initSegment=null}function Px(e,t,n){e.levelkeys=t;var r=n.encryptedFragments;r.length&&r[r.length-1].levelkeys===t||!Object.keys(t).some((function(e){return t[e].isCommonEncryption}))||r.push(e)}var Ox="manifest",_x="level",Ix="audioTrack",Dx="subtitleTrack",Nx="main",Mx="audio",Fx="subtitle";function jx(e){switch(e.type){case Ix:return Mx;case Dx:return Fx;default:return Nx}}function Ux(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var Bx=function(){function e(t){f(this,e),this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}return g(e,[{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.destroyInternalLoaders()}},{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.LEVEL_LOADING,this.onLevelLoading,this),e.on(zk.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(zk.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.LEVEL_LOADING,this.onLevelLoading,this),e.off(zk.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(zk.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}},{key:"createInternalLoader",value:function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return this.loaders[e.type]=i,i}},{key:"getInternalLoader",value:function(e){return this.loaders[e.type]}},{key:"resetInternalLoader",value:function(e){this.loaders[e]&&delete this.loaders[e]}},{key:"destroyInternalLoaders",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}},{key:"destroy",value:function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}},{key:"onManifestLoading",value:function(e,t){var n=t.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Ox,url:n,deliveryDirectives:null})}},{key:"onLevelLoading",value:function(e,t){var n=t.id,r=t.level,i=t.url,a=t.deliveryDirectives;this.load({id:n,level:r,responseType:"text",type:_x,url:i,deliveryDirectives:a})}},{key:"onAudioTrackLoading",value:function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:Ix,url:i,deliveryDirectives:a})}},{key:"onSubtitleTrackLoading",value:function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:Dx,url:i,deliveryDirectives:a})}},{key:"load",value:function(e){var t,n,r,i=this,a=this.hls.config,o=this.getInternalLoader(e);if(o){var s=o.context;if(s&&s.url===e.url)return void Xk.trace("[playlist-loader]: playlist request ongoing");Xk.log("[playlist-loader]: aborting previous loader for type: ".concat(e.type)),o.abort()}if((n=e.type===Ox?a.manifestLoadPolicy.default:Vk({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(e),null!=(t=e.deliveryDirectives)&&t.part)&&(e.type===_x&&null!==e.level?r=this.hls.levels[e.level].details:e.type===Ix&&null!==e.id?r=this.hls.audioTracks[e.id].details:e.type===Dx&&null!==e.id&&(r=this.hls.subtitleTracks[e.id].details),r)){var l=r.partTarget,u=r.targetduration;if(l&&u){var c=1e3*Math.max(3*l,.8*u);n=Vk({},n,{maxTimeToFirstByteMs:Math.min(c,n.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(c,n.maxTimeToFirstByteMs)})}}var d=n.errorRetry||n.timeoutRetry||{},f={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:d.maxNumRetry||0,retryDelay:d.retryDelayMs||0,maxRetryDelay:d.maxRetryDelayMs||0},h={onSuccess:function(e,t,n,r){var a=i.getInternalLoader(n);i.resetInternalLoader(n.type);var o=e.data;0===o.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),Ex.isMediaPlaylist(o)?i.handleTrackOrLevelPlaylist(e,t,n,r||null,a):i.handleMasterPlaylist(e,t,n,r)):i.handleManifestParsingError(e,n,new Error("no EXTM3U delimiter"),r||null,t)},onError:function(e,t,n,r){i.handleNetworkError(t,n,!1,e,r)},onTimeout:function(e,t,n){i.handleNetworkError(t,n,!0,void 0,e)}};o.load(e,f,h)}},{key:"handleMasterPlaylist",value:function(e,t,n,r){var i=this.hls,a=e.data,o=Ux(e,n),s=Ex.parseMasterPlaylist(a,o);if(s.playlistParsingError)this.handleManifestParsingError(e,n,s.playlistParsingError,r,t);else{var l=s.contentSteering,u=s.levels,c=s.sessionData,d=s.sessionKeys,f=s.startTimeOffset,h=s.variableList;this.variableList=h;var p=Ex.parseMasterPlaylistMedia(a,o,s),m=p.AUDIO,g=void 0===m?[]:m,v=p.SUBTITLES,y=p["CLOSED-CAPTIONS"];if(g.length)g.some((function(e){return!e.url}))||!u[0].audioCodec||u[0].attrs.AUDIO||(Xk.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Jk({}),bitrate:0,url:""}));i.trigger(zk.MANIFEST_LOADED,{levels:u,audioTracks:g,subtitles:v,captions:y,contentSteering:l,url:o,stats:t,networkDetails:r,sessionData:c,sessionKeys:d,startTimeOffset:f,variableList:h})}}},{key:"handleTrackOrLevelPlaylist",value:function(e,t,n,r,i){var a=this.hls,o=n.id,s=n.level,l=n.type,u=Ux(e,n),c=Hk(o)?o:0,d=Hk(s)?s:c,f=jx(n),h=Ex.parseLevelPlaylist(e.data,u,d,f,c,this.variableList);if(l===Ox){var p={attrs:new Jk({}),bitrate:0,details:h,name:"",url:u};a.trigger(zk.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:t,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),n.levelDetails=h,this.handlePlaylistLoaded(h,e,t,n,r,i)}},{key:"handleManifestParsingError",value:function(e,t,n,r,i){this.hls.trigger(zk.ERROR,{type:Gk.NETWORK_ERROR,details:qk.MANIFEST_PARSING_ERROR,fatal:t.type===Ox,url:e.url,err:n,error:n,reason:n.message,response:e,context:t,networkDetails:r,stats:i})}},{key:"handleNetworkError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="A network ".concat(n?"timeout":"error"+(r?" (status "+r.code+")":"")," occurred while loading ").concat(e.type);e.type===_x?a+=": ".concat(e.level," id: ").concat(e.id):e.type!==Ix&&e.type!==Dx||(a+=" id: ".concat(e.id,' group-id: "').concat(e.groupId,'"'));var o=new Error(a);Xk.warn("[playlist-loader]: ".concat(a));var s=qk.UNKNOWN,l=!1,u=this.getInternalLoader(e);switch(e.type){case Ox:s=n?qk.MANIFEST_LOAD_TIMEOUT:qk.MANIFEST_LOAD_ERROR,l=!0;break;case _x:s=n?qk.LEVEL_LOAD_TIMEOUT:qk.LEVEL_LOAD_ERROR,l=!1;break;case Ix:s=n?qk.AUDIO_TRACK_LOAD_TIMEOUT:qk.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case Dx:s=n?qk.SUBTITLE_TRACK_LOAD_TIMEOUT:qk.SUBTITLE_LOAD_ERROR,l=!1}u&&this.resetInternalLoader(e.type);var c={type:Gk.NETWORK_ERROR,details:s,fatal:l,url:e.url,loader:u,context:e,error:o,networkDetails:t,stats:i};if(r){var d=(null==t?void 0:t.url)||e.url;c.response=Uk({url:d,data:void 0},r)}this.hls.trigger(zk.ERROR,c)}},{key:"handlePlaylistLoaded",value:function(e,t,n,r,i,a){var o=this.hls,s=r.type,l=r.level,u=r.id,c=r.groupId,d=r.deliveryDirectives,f=Ux(t,r),h=jx(r),p="number"===typeof r.level&&h===Nx?l:void 0;if(e.fragments.length){e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));var m=e.playlistParsingError;if(m)o.trigger(zk.ERROR,{type:Gk.NETWORK_ERROR,details:qk.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:m,reason:m.message,response:t,context:r,level:p,parent:h,networkDetails:i,stats:n});else switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),s){case Ox:case _x:o.trigger(zk.LEVEL_LOADED,{details:e,level:p||0,id:u||0,stats:n,networkDetails:i,deliveryDirectives:d});break;case Ix:o.trigger(zk.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case Dx:o.trigger(zk.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:c||"",stats:n,networkDetails:i,deliveryDirectives:d})}}else{var g=new Error("No Segments found in Playlist");o.trigger(zk.ERROR,{type:Gk.NETWORK_ERROR,details:qk.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:g,reason:g.message,response:t,context:r,level:p,parent:h,networkDetails:i,stats:n})}}}]),e}();function Vx(e,t){var n;try{n=new Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function Hx(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: ".concat(t))}catch(i){Xk.debug("[texttrack-utils]: ".concat(i));try{var r=new self.TextTrackCue(t.startTime,t.endTime,t.text);r.id=t.id,e.addCue(r)}catch(a){Xk.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: ".concat(a))}}"disabled"===n&&(e.mode=n)}function zx(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function Gx(e,t,n,r){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var a=function(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;var r=0,i=n;for(;r<=i;){var a=Math.floor((i+r)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&r<n))return a;r=a+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var a=i,o=e.length;a<o;a++){var s=e[a];if(s.startTime>=t&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}(e.cues,t,n),o=0;o<a.length;o++)r&&!r(a[o])||e.removeCue(a[o]);"disabled"===i&&(e.mode=i)}var qx="org.id3",Kx="com.apple.quicktime.HLS",Wx="https://aomedia.org/emsg/ID3";function Yx(){if("undefined"!==typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var $x=function(){var e=Yx();try{new e(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function Xx(e,t){return e.getTime()/1e3-t}var Qx=function(){function e(t){f(this,e),this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}return g(e,[{key:"destroy",value:function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(zk.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(zk.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(zk.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(zk.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media}},{key:"onMediaDetaching",value:function(){this.id3Track&&(zx(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}},{key:"onManifestLoading",value:function(){this.dateRangeCuesAppended={}}},{key:"createTrack",value:function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t}},{key:"getID3Track",value:function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Vx(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}},{key:"onFragParsingMetadata",value:function(e,t){if(this.media){var n=this.hls.config,r=n.enableEmsgMetadataCues,i=n.enableID3MetadataCues;if(r||i){var a=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var o=Yx(),s=0;s<a.length;s++){var l=a[s].type;if((l!==Wx||r)&&i){var u=_w(a[s].data);if(u){var c=a[s].pts,d=c+a[s].duration;d>$x&&(d=$x),d-c<=0&&(d=c+.25);for(var f=0;f<u.length;f++){var h=u[f];if(!Pw(h)){this.updateId3CueEnds(c,l);var p=new o(c,d,"");p.value=h,l&&(p.type=l),this.id3Track.addCue(p)}}}}}}}}},{key:"updateId3CueEnds",value:function(e,t){var n,r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(var i=r.length;i--;){var a=r[i];a.type===t&&a.startTime<e&&a.endTime===$x&&(a.endTime=e)}}},{key:"onBufferFlushing",value:function(e,t){var n=t.startOffset,r=t.endOffset,i=t.type,a=this.id3Track,o=this.hls;if(o){var s=o.config,l=s.enableEmsgMetadataCues,u=s.enableID3MetadataCues;if(a&&(l||u))Gx(a,n,r,"audio"===i?function(e){return e.type===qx&&u}:"video"===i?function(e){return e.type===Wx&&l}:function(e){return e.type===qx&&u||e.type===Wx&&l})}}},{key:"onLevelUpdated",value:function(e,t){var n=this,r=t.details;if(this.media&&r.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var i=this.dateRangeCuesAppended,a=this.id3Track,o=r.dateRanges,s=Object.keys(o);if(a)for(var l=Object.keys(i).filter((function(e){return!s.includes(e)})),u=function(){var e=l[c];Object.keys(i[e].cues).forEach((function(t){a.removeCue(i[e].cues[t])})),delete i[e]},c=l.length;c--;)u();var d=r.fragments[r.fragments.length-1];if(0!==s.length&&Hk(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=d.programDateTime/1e3-d.start,h=Yx(),p=function(){var e=s[m],t=o[e],r=i[e],a=(null==r?void 0:r.cues)||{},l=(null==r?void 0:r.durationKnown)||!1,u=Xx(t.startDate,f),c=$x,d=t.endDate;if(d)c=Xx(d,f),l=!0;else if(t.endOnNext&&!l){var p=s.reduce((function(e,n){var r=o[n];return r.class===t.class&&r.id!==n&&r.startDate>t.startDate&&e.push(r),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];p&&(c=Xx(p.startDate,f),l=!0)}for(var g,v,y=Object.keys(t.attr),b=0;b<y.length;b++){var k=y[b];if("ID"!==(v=k)&&"CLASS"!==v&&"START-DATE"!==v&&"DURATION"!==v&&"END-DATE"!==v&&"END-ON-NEXT"!==v){var w=a[k];if(w)l&&!r.durationKnown&&(w.endTime=c);else{var x=t.attr[k];w=new h(u,c,""),ew(k)&&(g=x,x=Uint8Array.from(g.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),w.value={key:k,data:x},w.type=Kx,w.id=e,n.id3Track.addCue(w),a[k]=w}}}i[e]={cues:a,dateRange:t,durationKnown:l}},m=0;m<s.length;m++)p()}}}}]),e}(),Zx=function(){function e(t){var n=this;f(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return n.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}return g(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,a=i.liveSyncDuration,o=i.liveSyncDurationCount,s=i.lowLatencyMode,l=this.hls.userConfig,u=s&&n||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:o*r);var c=r;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,a=r-n.totalduration,o=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),o)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}},{key:"registerListeners",value:function(){this.hls.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(zk.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(zk.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){this.hls.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(zk.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(zk.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}},{key:"onMediaDetaching",value:function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}},{key:"onManifestLoading",value:function(){this.levelDetails=null,this._latency=null,this.stallCount=0}},{key:"onLevelUpdated",value:function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}},{key:"onError",value:function(e,t){var n;t.details===qk.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&Xk.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}},{key:"timeupdate",value:function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,a=r.maxLiveSyncPlaybackRate;if(i&&1!==a){var o=this.targetLatency;if(null!==o){var s=n-o,l=s<Math.min(this.maxLatency,o+t.targetduration);if(t.live&&l&&s>.05&&this.forwardBufferLength>1){var u=Math.min(2,Math.max(1,a)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}}},{key:"estimateLiveEdge",value:function(){var e=this.levelDetails;return null===e?null:e.edge+e.age}},{key:"computeLatency",value:function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}]),e}(),Jx=["NONE","TYPE-0","TYPE-1",null],eE="",tE="YES",nE="v2";var rE=function(){function e(t,n,r){f(this,e),this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=n,this.skip=r}return g(e,[{key:"addDirectives",value:function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}]),e}(),iE=function(){function e(t){f(this,e),this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}return g(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=t)}},{key:"audioGroupId",get:function(){var e;return null==(e=this.audioGroupIds)?void 0:e[this.urlId]}},{key:"textGroupId",get:function(){var e;return null==(e=this.textGroupIds)?void 0:e[this.urlId]}},{key:"addFallback",value:function(e){this.url.push(e.url),this._attrs.push(e.attrs)}}]),e}();function aE(e,t){var n=t.startPTS;if(Hk(n)){var r,i=0;t.sn>e.sn?(i=n-e.start,r=e):(i=e.start-n,r=t),r.duration!==i&&(r.duration=i)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function oE(e,t,n,r,i,a){r-n<=0&&(Xk.warn("Fragment should have a positive duration",t),r=n+t.duration,a=i+t.duration);var o=n,s=r,l=t.startPTS,u=t.endPTS;if(Hk(l)){var c=Math.abs(l-n);Hk(t.deltaPTS)?t.deltaPTS=Math.max(c,t.deltaPTS):t.deltaPTS=c,o=Math.max(n,l),n=Math.min(n,l),i=Math.min(i,t.startDTS),s=Math.min(r,u),r=Math.max(r,u),a=Math.max(a,t.endDTS)}var d=n-t.start;0!==t.start&&(t.start=n),t.duration=r-t.start,t.startPTS=n,t.maxStartPTS=o,t.startDTS=i,t.endPTS=r,t.minEndPTS=s,t.endDTS=a;var f,h=t.sn;if(!e||h<e.startSN||h>e.endSN)return 0;var p=h-e.startSN,m=e.fragments;for(m[p]=t,f=p;f>0;f--)aE(m[f],m[f-1]);for(f=p;f<m.length-1;f++)aE(m[f],m[f+1]);return e.fragmentHint&&aE(m[m.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,d}function sE(e,t){for(var n=null,r=e.fragments,i=r.length-1;i>=0;i--){var a=r[i].initSegment;if(a){n=a;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var o,s=0;(function(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,o=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=a;u++){var c=l[o+u],d=s[u];r&&!d&&u<r&&(d=t.fragments[u]=c),c&&d&&n(c,d)}}(e,t,(function(e,r){e.relurl&&(s=e.cc-r.cc),Hk(e.startPTS)&&Hk(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(o=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,r.urlId=e.urlId,e.initSegment&&(r.initSegment=e.initSegment,n=e.initSegment)})),n)&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null==(t=n)?void 0:t.relurl)||(e.initSegment=n)}));if(t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){Xk.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var l=t.skippedSegments;l--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,n){var r=Vk({},e);n&&n.forEach((function(e){delete r[e]}));return Object.keys(t).forEach((function(e){var n=new tw(t[e].attr,r[e]);n.isValid?r[e]=n:Xk.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'.concat(JSON.stringify(t[e].attr),'"'))})),r}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));var u=t.fragments;if(s){Xk.warn("discontinuity sliding from playlist, take drift into account");for(var c=0;c<u.length;c++)u[c].cc+=s}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,n){if(e&&t)for(var r=0,i=0,a=e.length;i<=a;i++){var o=e[i],s=t[i+r];o&&s&&o.index===s.index&&o.fragment.sn===s.fragment.sn?n(o,s):r--}}(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),o?oE(t,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS):lE(e,t),u.length&&(t.totalduration=t.edge-u[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var d=t.advancedDateTime;if(t.advanced&&d){var f=t.edge;t.driftStart||(t.driftStartTime=d,t.driftStart=f),t.driftEndTime=d,t.driftEnd=f}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function lE(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||uE(t,r[n].start)}function uE(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function cE(e,t,n){var r;return null!=e&&e.details?dE(null==(r=e.details)?void 0:r.partList,t,n):null}function dE(e,t,n){if(e)for(var r=e.length;r--;){var i=e[r];if(i.index===n&&i.fragment.sn===t)return i}return null}function fE(e){switch(e.details){case qk.FRAG_LOAD_TIMEOUT:case qk.KEY_LOAD_TIMEOUT:case qk.LEVEL_LOAD_TIMEOUT:case qk.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function hE(e,t){var n=fE(t);return e.default["".concat(n?"timeout":"error","Retry")]}function pE(e,t){var n="linear"===e.backoff?1:Math.pow(2,t);return Math.min(n*e.retryDelayMs,e.maxRetryDelayMs)}function mE(e){return Uk(Uk({},e),{errorRetry:null,timeoutRetry:null})}function gE(e,t,n,r){return!!e&&t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(r)||!!n)}var vE={search:function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var o=t(a=e[i=(n+r)/2|0]);if(o>0)n=i+1;else{if(!(o<0))return a;r=i-1}}return null}};function yE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=null;if(e?i=t[e.sn-t[0].sn+1]||null:0===n&&0===t[0].start&&(i=t[0]),i&&0===bE(n,r,i))return i;var a=vE.search(t,bE.bind(null,n,r));return!a||a===e&&i?i:a}function bE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(n.start<=e&&n.start+n.duration>e)return 0;var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function kE(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}var wE=3e5,xE=0,EE=2,SE=5,TE=0,CE=1,LE=2,AE=function(){function e(t){f(this,e),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=Xk.log.bind(Xk,"[info]:"),this.warn=Xk.warn.bind(Xk,"[warning]:"),this.error=Xk.error.bind(Xk,"[error]:"),this.registerListeners()}return g(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.ERROR,this.onError,this),e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.LEVEL_UPDATED,this.onLevelUpdated,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(zk.ERROR,this.onError,this),e.off(zk.ERROR,this.onErrorOut,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.LEVEL_UPDATED,this.onLevelUpdated,this))}},{key:"destroy",value:function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}},{key:"startLoad",value:function(e){this.playlistError=0}},{key:"stopLoad",value:function(){}},{key:"getVariantLevelIndex",value:function(e){return(null==e?void 0:e.type)===Nx?e.level:this.hls.loadLevel}},{key:"onManifestLoading",value:function(){this.playlistError=0,this.penalizedRenditions={}}},{key:"onLevelUpdated",value:function(){this.playlistError=0}},{key:"onError",value:function(e,t){var n,r;if(!t.fatal){var i=this.hls,a=t.context;switch(t.details){case qk.FRAG_LOAD_ERROR:case qk.FRAG_LOAD_TIMEOUT:case qk.KEY_LOAD_ERROR:case qk.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case qk.FRAG_PARSING_ERROR:if(null!=(n=t.frag)&&n.gap)return void(t.errorAction={action:xE,flags:TE});case qk.FRAG_GAP:case qk.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=EE);case qk.LEVEL_EMPTY_ERROR:case qk.LEVEL_PARSING_ERROR:var o,s,l=t.parent===Nx?t.level:i.loadLevel;return void(t.details===qk.LEVEL_EMPTY_ERROR&&null!=(o=t.context)&&null!=(s=o.levelDetails)&&s.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,l):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,l)));case qk.LEVEL_LOAD_ERROR:case qk.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==a?void 0:a.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level)));case qk.AUDIO_TRACK_LOAD_ERROR:case qk.AUDIO_TRACK_LOAD_TIMEOUT:case qk.SUBTITLE_LOAD_ERROR:case qk.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){var u=i.levels[i.loadLevel];if(u&&(a.type===Ix&&a.groupId===u.audioGroupId||a.type===Dx&&a.groupId===u.textGroupId))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=EE,void(t.errorAction.flags=CE)}return;case qk.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var c=i.levels[i.loadLevel],d=null==c?void 0:c.attrs["HDCP-LEVEL"];return void(d&&(t.errorAction={action:EE,flags:LE,hdcpLevel:d}));case qk.BUFFER_ADD_CODEC_ERROR:case qk.REMUX_ALLOC_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(r=t.level)?r:i.loadLevel));case qk.INTERNAL_EXCEPTION:case qk.BUFFER_APPENDING_ERROR:case qk.BUFFER_APPEND_ERROR:case qk.BUFFER_FULL_ERROR:case qk.LEVEL_SWITCH_ERROR:case qk.BUFFER_STALLED_ERROR:case qk.BUFFER_SEEK_OVER_HOLE:case qk.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:xE,flags:TE})}if(t.type===Gk.KEY_SYSTEM_ERROR){var f=this.getVariantLevelIndex(t.frag);return t.levelRetry=!1,void(t.errorAction=this.getLevelSwitchAction(t,f))}}}},{key:"getPlaylistRetryOrSwitchAction",value:function(e,t){var n,r=hE(this.hls.config.playlistLoadPolicy,e),i=this.playlistError++,a=null==(n=e.response)?void 0:n.code;if(gE(r,i,fE(e),a))return{action:SE,flags:TE,retryConfig:r,retryCount:i};var o=this.getLevelSwitchAction(e,t);return r&&(o.retryConfig=r,o.retryCount=i),o}},{key:"getFragRetryOrSwitchAction",value:function(e){var t=this.hls,n=this.getVariantLevelIndex(e.frag),r=t.levels[n],i=t.config,a=i.fragLoadPolicy,o=i.keyLoadPolicy,s=hE(e.details.startsWith("key")?o:a,e),l=t.levels.reduce((function(e,t){return e+t.fragmentError}),0);if(r){var u;e.details!==qk.FRAG_GAP&&r.fragmentError++;var c=null==(u=e.response)?void 0:u.code;if(gE(s,l,fE(e),c))return{action:SE,flags:TE,retryConfig:s,retryCount:l}}var d=this.getLevelSwitchAction(e,n);return s&&(d.retryConfig=s,d.retryCount=l),d}},{key:"getLevelSwitchAction",value:function(e,t){var n=this.hls;null!==t&&void 0!==t||(t=n.loadLevel);var r=this.hls.levels[t];if(r&&(r.loadError++,n.autoLevelEnabled)){for(var i,a,o=-1,s=n.levels,l=n.loadLevel,u=n.minAutoLevel,c=n.maxAutoLevel,d=null==(i=e.frag)?void 0:i.type,f=null!=(a=e.context)?a:{},h=f.type,p=f.groupId,m=s.length;m--;){var g=(m+l)%s.length;if(g!==l&&g>=u&&g<=c&&0===s[g].loadError){var v=s[g];if(e.details===qk.FRAG_GAP&&e.frag){var y=s[g].details;if(y){var b=yE(e.frag,y.fragments,e.frag.start);if(null!=b&&b.gap)continue}}else{if(h===Ix&&p===v.audioGroupId||h===Dx&&p===v.textGroupId)continue;if(d===Mx&&r.audioGroupId===v.audioGroupId||d===Fx&&r.textGroupId===v.textGroupId)continue}o=g;break}}if(o>-1&&n.loadLevel!==o)return e.levelRetry=!0,this.playlistError=0,{action:EE,flags:TE,nextAutoLevel:o}}return{action:EE,flags:CE}}},{key:"onErrorOut",value:function(e,t){var n;switch(null==(n=t.errorAction)?void 0:n.action){case xE:break;case EE:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===qk.FRAG_GAP||(t.fatal=!0)}t.fatal&&this.hls.stopLoad()}},{key:"sendAlternateToPenaltyBox",value:function(e){var t=this.hls,n=e.errorAction;if(n){var r=n.flags,i=n.hdcpLevel,a=n.nextAutoLevel;switch(r){case TE:this.switchLevel(e,a);break;case CE:n.resolved||(n.resolved=this.redundantFailover(e));break;case LE:i&&(t.maxHdcpLevel=Jx[Jx.indexOf(i)-1],n.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'.concat(t.maxHdcpLevel,'" or lower'))}n.resolved||this.switchLevel(e,a)}}},{key:"switchLevel",value:function(e,t){void 0!==t&&e.errorAction&&(this.warn("switching to level ".concat(t," after ").concat(e.details)),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},{key:"redundantFailover",value:function(e){var t=this,n=this.hls,r=this.penalizedRenditions,i=e.parent===Nx?e.level:n.loadLevel,a=n.levels[i],o=a.url.length,s=e.frag?e.frag.urlId:a.urlId;a.urlId!==s||e.frag&&!a.details||this.penalizeRendition(a,e);for(var l=function(){var l=(s+u)%o,c=r[l];if(!c||function(e,t,n){if(performance.now()-e.lastErrorPerfMs>wE)return!0;var r=e.details;if(t.details===qk.FRAG_GAP&&r&&t.frag){var i=t.frag.start,a=yE(null,r.fragments,i);if(a&&!a.gap)return!0}if(n&&e.errors.length<n.errors.length){var o=e.errors[e.errors.length-1];if(r&&o.frag&&t.frag&&Math.abs(o.frag.start-t.frag.start)>3*r.targetduration)return!0}return!1}(c,e,r[s]))return t.warn("Switching to Redundant Stream ".concat(l+1,"/").concat(o,': "').concat(a.url[l],'" after ').concat(e.details)),t.playlistError=0,n.levels.forEach((function(e){e.urlId=l})),n.nextLoadLevel=i,{v:!0}},u=1;u<o;u++){var c=l();if("object"===typeof c)return c.v}return!1}},{key:"penalizeRendition",value:function(e,t){var n=this.penalizedRenditions,r=n[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};r.lastErrorPerfMs=performance.now(),r.errors.push(t),r.details=e.details,n[e.urlId]=r}}]),e}();var RE,PE=function(){function e(t,n){f(this,e),this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Xk.log.bind(Xk,"".concat(n,":")),this.warn=Xk.warn.bind(Xk,"".concat(n,":")),this.hls=t}return g(e,[{key:"destroy",value:function(){this.clearTimer(),this.hls=this.log=this.warn=null}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=-1}},{key:"startLoad",value:function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}},{key:"stopLoad",value:function(){this.canLoad=!1,this.clearTimer()}},{key:"switchParams",value:function(e,t){var n=null==t?void 0:t.renditionReports;if(n){for(var r=-1,i=0;i<n.length;i++){var a=n[i],o=void 0;try{o=new self.URL(a.URI,t.url).href}catch(d){Xk.warn("Could not construct new URL for Rendition Report: ".concat(d)),o=a.URI||""}if(o===e){r=i;break}o===e.substring(0,o.length)&&(r=i)}if(-1!==r){var s=n[r],l=parseInt(s["LAST-MSN"])||(null==t?void 0:t.lastPartSn),u=parseInt(s["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);u>=0&&c>t.partTarget&&(u+=1)}return new rE(l,u>=0?u:void 0,eE)}}}},{key:"loadPlaylist",value:function(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}},{key:"shouldLoadPlaylist",value:function(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}},{key:"shouldReloadPlaylist",value:function(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}},{key:"playlistLoaded",value:function(e,t,n){var r=this,i=t.details,a=t.stats,o=self.performance.now(),s=a.loading.first?Math.max(0,o-a.loading.first):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist ".concat(e," ").concat(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&sE(n,i),!this.canLoad||!i.live)return;var l,u=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,f=i.lastPartSn,h=i.endSN,p=i.lastPartIndex,m=f===h;-1!==p?(u=m?h+1:f,c=m?d?0:p:p+1):u=h+1;var g=i.age,v=g+i.ageHeader,y=Math.min(v-i.partTarget,1.5*i.targetduration);if(y>0){if(n&&y>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: ".concat(n.tuneInGoal," to: ").concat(y," with playlist age: ").concat(i.age)),y=0;else{var b=Math.floor(y/i.targetduration);if(u+=b,void 0!==c)c+=Math.round(y%i.targetduration/i.partTarget);this.log("CDN Tune-in age: ".concat(i.ageHeader,"s last advanced ").concat(g.toFixed(2),"s goal: ").concat(y," skip sn ").concat(b," to part ").concat(c))}i.tuneInGoal=y}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c),d||!m)return void this.loadPlaylist(l)}else i.canBlockReload&&(l=this.getDeliveryDirectives(i,t.deliveryDirectives,u,c));var k=this.hls.mainForwardBufferInfo,w=k?k.end-k.len:0,x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=1e3*e.targetduration;if(e.updated){var r=e.fragments;if(r.length&&4*n>t){var i=1e3*r[r.length-1].duration;i<n&&(n=i)}}else n/=2;return Math.round(n)}(i,1e3*(i.edge-w));i.updated&&o>this.requestScheduled+x&&(this.requestScheduled=a.loading.start),void 0!==u&&i.canBlockReload?this.requestScheduled=a.loading.first+x-(1e3*i.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+x<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=x);var E=this.requestScheduled-o;E=Math.max(0,E),this.log("reload live playlist ".concat(e," in ").concat(Math.round(E)," ms")),this.timer=self.setTimeout((function(){return r.loadPlaylist(l)}),E)}else this.clearTimer()}},{key:"getDeliveryDirectives",value:function(e,t,n,r){var i=function(e,t){var n=e.canSkipUntil,r=e.canSkipDateRanges,i=e.endSN;return n&&(void 0!==t?t-i:0)<n?r?nE:tE:eE}(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,i=eE),new rE(n,r,i)}},{key:"checkRetry",value:function(e){var t=this,n=e.details,r=fE(e),i=e.errorAction,a=i||{},o=a.action,s=a.retryCount,l=void 0===s?0:s,u=a.retryConfig,c=!!i&&!!u&&(o===SE||!i.resolved&&o===EE);if(c){var d;if(this.requestScheduled=-1,l>=u.maxNumRetry)return!1;if(r&&null!=(d=e.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(n,'" without delivery-directives')),this.loadPlaylist();else{var f=pE(u,l);this.timer=self.setTimeout((function(){return t.loadPlaylist()}),f),this.warn("Retrying playlist loading ".concat(l+1,"/").concat(u.maxNumRetry,' after "').concat(n,'" in ').concat(f,"ms"))}e.levelRetry=!0,i.resolved=!0}return c}}]),e}(),OE=function(e){y(n,e);var t=E(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"[level-controller]"))._levels=[],i._firstLevel=-1,i._startLevel=void 0,i.currentLevel=null,i.currentLevelIndex=-1,i.manualLevelIndex=-1,i.steering=void 0,i.onParsedComplete=void 0,i.steering=r,i._registerListeners(),i}return g(n,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.on(zk.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(zk.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(zk.FRAG_LOADED,this.onFragLoaded,this),e.on(zk.ERROR,this.onError,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.off(zk.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(zk.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(zk.FRAG_LOADED,this.onFragLoaded,this),e.off(zk.ERROR,this.onError,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),Sp(b(n.prototype),"destroy",this).call(this)}},{key:"startLoad",value:function(){this._levels.forEach((function(e){e.loadError=0,e.fragmentError=0})),Sp(b(n.prototype),"startLoad",this).call(this)}},{key:"resetLevels",value:function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}},{key:"onManifestLoading",value:function(e,t){this.resetLevels()}},{key:"onManifestLoaded",value:function(e,t){var n,r=[],i={};t.levels.forEach((function(e){var t,a=e.attrs;-1!==(null==(t=e.audioCodec)?void 0:t.indexOf("mp4a.40.34"))&&(RE||(RE=/chrome|firefox/i.test(navigator.userAgent)),RE&&(e.audioCodec=void 0));var o=a.AUDIO,s=a.CODECS,l=a["FRAME-RATE"],u=a["PATHWAY-ID"],c=a.RESOLUTION,d=a.SUBTITLES,f="".concat(u||".","-"),h="".concat(f).concat(e.bitrate,"-").concat(c,"-").concat(l,"-").concat(s);(n=i[h])?n.addFallback(e):(n=new iE(e),i[h]=n,r.push(n)),_E(n,"audio",o),_E(n,"text",d)})),this.filterAndSortMediaOptions(r,t)}},{key:"filterAndSortMediaOptions",value:function(e,t){var n=this,r=[],i=[],a=!1,o=!1,s=!1,l=e.filter((function(e){var t=e.audioCodec,n=e.videoCodec,r=e.width,i=e.height,l=e.unknownCodecs;return a||(a=!(!r||!i)),o||(o=!!n),s||(s=!!t),!(null!=l&&l.length)&&(!t||vx(t,"audio"))&&(!n||vx(n,"video"))}));if((a||o)&&s&&(l=l.filter((function(e){var t=e.videoCodec,n=e.width,r=e.height;return!!t||!(!n||!r)}))),0!==l.length){t.audioTracks&&IE(r=t.audioTracks.filter((function(e){return!e.audioCodec||vx(e.audioCodec,"audio")}))),t.subtitles&&IE(i=t.subtitles);var u=l.slice(0);l.sort((function(e,t){return e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"]?(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1:e.bitrate!==t.bitrate?e.bitrate-t.bitrate:e.attrs["FRAME-RATE"]!==t.attrs["FRAME-RATE"]?e.attrs.decimalFloatingPoint("FRAME-RATE")-t.attrs.decimalFloatingPoint("FRAME-RATE"):e.attrs.SCORE!==t.attrs.SCORE?e.attrs.decimalFloatingPoint("SCORE")-t.attrs.decimalFloatingPoint("SCORE"):a&&e.height!==t.height?e.height-t.height:0}));var c=u[0];if(this.steering&&(l=this.steering.filterParsedLevels(l)).length!==u.length)for(var d=0;d<u.length;d++)if(u[d].pathwayId===l[0].pathwayId){c=u[d];break}this._levels=l;for(var f=0;f<l.length;f++)if(l[f]===c){this._firstLevel=f,this.log("manifest loaded, ".concat(l.length," level(s) found, first bitrate: ").concat(c.bitrate));break}var h=s&&!o,p={levels:l,audioTracks:r,subtitleTracks:i,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:o,altAudio:!h&&r.some((function(e){return!!e.url}))};this.hls.trigger(zk.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(n.hls){var e=new Error("no level with compatible codecs found in manifest");n.hls.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}))}},{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;if(0!==t.length){if(e<0||e>=t.length){var n=new Error("invalid level idx"),r=e<0;if(this.hls.trigger(zk.ERROR,{type:Gk.OTHER_ERROR,details:qk.LEVEL_SWITCH_ERROR,level:e,fatal:r,error:n,reason:n.message}),r)return;e=Math.min(e,t.length-1)}var i=this.currentLevelIndex,a=this.currentLevel,o=a?a.attrs["PATHWAY-ID"]:void 0,s=t[e],l=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,i!==e||!s.details||!a||o!==l){this.log("Switching to level ".concat(e).concat(l?" with Pathway "+l:""," from level ").concat(i).concat(o?" with Pathway "+o:""));var u=Vk({},s,{level:e,maxBitrate:s.maxBitrate,attrs:s.attrs,uri:s.uri,urlId:s.urlId});delete u._attrs,delete u._urlId,this.hls.trigger(zk.LEVEL_SWITCHING,u);var c=s.details;if(!c||c.live){var d=this.switchParams(s.uri,null==a?void 0:a.details);this.loadPlaylist(d)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===_x&&t.context.level===this.level&&this.checkRetry(t)}},{key:"onFragLoaded",value:function(e,t){var n=t.frag;if(void 0!==n&&n.type===Nx){var r=this._levels[n.level];void 0!==r&&(r.loadError=0)}}},{key:"onLevelLoaded",value:function(e,t){var n,r,i=t.level,a=t.details,o=this._levels[i];if(!o)return this.warn("Invalid level index ".concat(i)),void(null!=(r=t.deliveryDirectives)&&r.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(i,t,o.details)):null!=(n=t.deliveryDirectives)&&n.skip&&(a.deltaUpdateFailed=!0)}},{key:"onAudioTrackSwitched",value:function(e,t){var n=this.currentLevel;if(n){var r=this.hls.audioTracks[t.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==r){for(var i=-1,a=0;a<n.audioGroupIds.length;a++)if(n.audioGroupIds[a]===r){i=a;break}-1!==i&&i!==n.urlId&&(n.urlId=i,this.canLoad&&this.startLoad())}}}},{key:"loadPlaylist",value:function(e){Sp(b(n.prototype),"loadPlaylist",this).call(this);var t=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){var i=r.urlId,a=r.uri;if(e)try{a=e.addDirectives(a)}catch(s){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(s))}var o=r.attrs["PATHWAY-ID"];this.log("Loading level index ".concat(t).concat(void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""," with").concat(o?" Pathway "+o:""," URI ").concat(i+1,"/").concat(r.url.length," ").concat(a)),this.clearTimer(),this.hls.trigger(zk.LEVEL_LOADING,{url:a,level:t,id:i,deliveryDirectives:e||null})}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}},{key:"removeLevel",value:function(e,t){var n=this,r=function(e,n){return n!==t},i=this._levels.filter((function(i,a){return a!==e||(i.url.length>1&&void 0!==t?(i.url=i.url.filter(r),i.audioGroupIds&&(i.audioGroupIds=i.audioGroupIds.filter(r)),i.textGroupIds&&(i.textGroupIds=i.textGroupIds.filter(r)),i.urlId=0,!0):(n.steering&&n.steering.removeLevel(i),!1))}));this.hls.trigger(zk.LEVELS_UPDATED,{levels:i})}},{key:"onLevelsUpdated",value:function(e,t){var n=t.levels;n.forEach((function(e,t){var n=e.details;null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t}))})),this._levels=n}}]),n}(PE);function _E(e,t,n){n&&("audio"===t?(e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds[e.url.length-1]=n):"text"===t&&(e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds[e.url.length-1]=n))}function IE(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}var DE="NOT_LOADED",NE="APPENDING",ME="PARTIAL",FE="OK",jE=function(){function e(t){f(this,e),this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}return g(e,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(zk.BUFFER_APPENDED,this.onBufferAppended,this),e.on(zk.FRAG_BUFFERED,this.onFragBuffered,this),e.on(zk.FRAG_LOADED,this.onFragLoaded,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(zk.BUFFER_APPENDED,this.onBufferAppended,this),e.off(zk.FRAG_BUFFERED,this.onFragBuffered,this),e.off(zk.FRAG_LOADED,this.onFragLoaded,this)}},{key:"destroy",value:function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}},{key:"getAppendedFrag",value:function(e,t){var n=this.activePartLists[t];if(n)for(var r=n.length;r--;){var i=n[r];if(!i)break;var a=i.end;if(i.start<=e&&null!==a&&e<=a)return i}return this.getBufferedFrag(e,t)}},{key:"getBufferedFrag",value:function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var a=n[r[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var o=a.body;if(o.start<=e&&e<=o.end)return o}}return null}},{key:"detectEvictedFragments",value:function(e,t,n,r){var i=this;this.timeRanges&&(this.timeRanges[e]=t);var a=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(r){var o=i.fragments[r];if(o&&!(a>=o.body.sn))if(o.buffered||o.loaded){var s=o.range[e];s&&s.time.some((function(e){var n=!i.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&i.removeFragment(o.body),n}))}else o.body.type===n&&i.removeFragment(o.body)}))}},{key:"detectPartialFragments",value:function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var a=BE(r),o=this.fragments[a];if(!(!o||o.buffered&&r.gap)){var s=!r.relurl;Object.keys(n).forEach((function(e){var a=r.elementaryStreams[e];if(a){var l=n[e],u=s||!0===a.partial;o.range[e]=t.getBufferedTimes(r,i,u,l)}})),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,o.body.endList&&(this.endListFragments[o.body.type]=o),UE(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}}}},{key:"removeParts",value:function(e,t){var n=this.activePartLists[t];n&&(this.activePartLists[t]=n.filter((function(t){return t.fragment.sn>=e})))}},{key:"fragBuffered",value:function(e,t){var n=BE(e),r=this.fragments[n];!r&&t&&(r=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}},{key:"getBufferedTimes",value:function(e,t,n,r){for(var i={time:[],partial:n},a=e.start,o=e.end,s=e.minEndPTS||o,l=e.maxStartPTS||a,u=0;u<r.length;u++){var c=r.start(u)-this.bufferPadding,d=r.end(u)+this.bufferPadding;if(l>=c&&s<=d){i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(o,r.end(u))});break}if(a<d&&o>c)i.partial=!0,i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(o,r.end(u))});else if(o<=c)break}return i}},{key:"getPartialFragment",value:function(e){var t,n,r,i=null,a=0,o=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(l){var u=s[l];u&&UE(u)&&(n=u.body.start-o,r=u.body.end+o,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=u.body,a=t)))})),i}},{key:"isEndListAppended",value:function(e){var t=this.endListFragments[e];return void 0!==t&&(t.buffered||UE(t))}},{key:"getState",value:function(e){var t=BE(e),n=this.fragments[t];return n?n.buffered?UE(n)?ME:FE:NE:DE}},{key:"isTimeBuffered",value:function(e,t,n){for(var r,i,a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1}},{key:"onFragLoaded",value:function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest){var i=r?null:t,a=BE(n);this.fragments[a]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}}},{key:"onBufferAppended",value:function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if("initSegment"!==r.sn){var o=r.type;if(i){var s=this.activePartLists[o];s||(this.activePartLists[o]=s=[]),s.push(i)}this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];n.detectEvictedFragments(e,t,o,i)}))}}},{key:"onFragBuffered",value:function(e,t){this.detectPartialFragments(t)}},{key:"hasFragment",value:function(e){var t=BE(e);return!!this.fragments[t]}},{key:"hasParts",value:function(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}},{key:"removeFragmentsInRange",value:function(e,t,n,r,i){var a=this;r&&!this.hasGaps||Object.keys(this.fragments).forEach((function(o){var s=a.fragments[o];if(s){var l=s.body;l.type!==n||r&&!l.gap||l.start<t&&l.end>e&&(s.buffered||i)&&a.removeFragment(l)}}))}},{key:"removeFragment",value:function(e){var t=BE(e);e.stats.loaded=0,e.clearElementaryStreamInfo();var n=this.activePartLists[e.type];if(n){var r=e.sn;this.activePartLists[e.type]=n.filter((function(e){return e.fragment.sn!==r}))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}},{key:"removeAllFragments",value:function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}]),e}();function UE(e){var t,n,r;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(n=e.range.audio)?void 0:n.partial)||(null==(r=e.range.audiovideo)?void 0:r.partial))}function BE(e){return"".concat(e.type,"_").concat(e.level,"_").concat(e.urlId,"_").concat(e.sn)}var VE=Math.pow(2,17),HE=function(){function e(t){f(this,e),this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}return g(e,[{key:"destroy",value:function(){this.loader&&(this.loader.destroy(),this.loader=null)}},{key:"abort",value:function(){this.loader&&this.loader.abort()}},{key:"load",value:function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new qE({type:Gk.NETWORK_ERROR,details:qk.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a ".concat(r?"part list":"url")),networkDetails:null}));this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise((function(s,l){if(n.loader&&n.loader.destroy(),e.gap){if(e.tagList.some((function(e){return"GAP"===e[0]})))return void l(GE(e));e.gap=!1}var u=n.loader=e.loader=a?new a(i):new o(i),c=zE(e),d=mE(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:VE};e.stats=u.stats,u.load(c,f,{onSuccess:function(t,r,i,a){n.resetLoader(e,u);var o=t.data;i.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),s({frag:e,part:null,payload:o,networkDetails:a})},onError:function(t,i,a,o){n.resetLoader(e,u),l(new qE({type:Gk.NETWORK_ERROR,details:qk.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Uk({url:r,data:void 0},t),error:new Error("HTTP Error ".concat(t.code," ").concat(t.text)),networkDetails:a,stats:o}))},onAbort:function(t,r,i){n.resetLoader(e,u),l(new qE({type:Gk.NETWORK_ERROR,details:qk.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:i,stats:t}))},onTimeout:function(t,r,i){n.resetLoader(e,u),l(new qE({type:Gk.NETWORK_ERROR,details:qk.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:i,stats:t}))},onProgress:function(n,r,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))}},{key:"loadPart",value:function(e,t,n){var r=this;this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise((function(s,l){if(r.loader&&r.loader.destroy(),e.gap||t.gap)l(GE(e,t));else{var u=r.loader=e.loader=a?new a(i):new o(i),c=zE(e,t),d=mE(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:VE};t.stats=u.stats,u.load(c,f,{onSuccess:function(i,a,o,l){r.resetLoader(e,u),r.updateStatsFromPart(e,t);var c={frag:e,part:t,payload:i.data,networkDetails:l};n(c),s(c)},onError:function(n,i,a,o){r.resetLoader(e,u),l(new qE({type:Gk.NETWORK_ERROR,details:qk.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:Uk({url:c.url,data:void 0},n),error:new Error("HTTP Error ".concat(n.code," ").concat(n.text)),networkDetails:a,stats:o}))},onAbort:function(n,i,a){e.stats.aborted=t.stats.aborted,r.resetLoader(e,u),l(new qE({type:Gk.NETWORK_ERROR,details:qk.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:a,stats:n}))},onTimeout:function(n,i,a){r.resetLoader(e,u),l(new qE({type:Gk.NETWORK_ERROR,details:qk.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after ".concat(f.timeout,"ms")),networkDetails:a,stats:n}))}})}}))}},{key:"updateStatsFromPart",value:function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var a=Math.round(e.duration/t.duration),o=Math.min(Math.round(n.loaded/i),a),s=(a-o)*Math.round(n.loaded/o);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var l=n.loading,u=r.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end}},{key:"resetLoader",value:function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}]),e}();function zE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,a=n.byteRangeEndOffset;if(Hk(i)&&Hk(a)){var o,s=i,l=a;if("initSegment"===e.sn&&"AES-128"===(null==(o=e.decryptdata)?void 0:o.method)){var u=a-i;u%16&&(l=a+(16-u%16)),0!==i&&(r.resetIV=!0,s=i-16)}r.rangeStart=s,r.rangeEnd=l}return r}function GE(e,t){var n=new Error("GAP ".concat(e.gap?"tag":"attribute"," found")),r={type:Gk.MEDIA_ERROR,details:qk.FRAG_GAP,fatal:!1,frag:e,error:n,networkDetails:null};return t&&(r.part=t),(t||e).stats.aborted=!0,new qE(r)}var qE=function(e){y(n,e);var t=E(n);function n(e){var r;return f(this,n),(r=t.call(this,e.error.message)).data=void 0,r.data=e,r}return g(n)}(T(Error)),KE=function(){function e(t){f(this,e),this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}return g(e,[{key:"abort",value:function(e){for(var t in this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[t].loader;if(n){if(e&&e!==n.context.frag.type)return;n.abort()}}}},{key:"detach",value:function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}},{key:"destroy",value:function(){for(var e in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}},{key:"createKeyLoadError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qk.KEY_LOAD_ERROR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return new qE({type:Gk.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:n,networkDetails:r})}},{key:"loadClear",value:function(e,t){var n=this;if(this.emeController&&this.config.emeEnabled)for(var r=e.sn,i=e.cc,a=function(){var e=t[o];if(i<=e.cc&&("initSegment"===r||"initSegment"===e.sn||r<e.sn))return n.emeController.selectKeySystemFormat(e).then((function(t){e.setKeyFormat(t)})),"break"},o=0;o<t.length;o++){if("break"===a())break}}},{key:"load",value:function(e){var t=this;return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((function(n){return t.loadInternal(e,n)})):this.loadInternal(e)}},{key:"loadInternal",value:function(e,t){var n,r;t&&e.setKeyFormat(t);var i=e.decryptdata;if(!i){var a=new Error(t?"Expected frag.decryptdata to be defined after setting format ".concat(t):"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,qk.KEY_LOAD_ERROR,a))}var o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,qk.KEY_LOAD_ERROR,new Error('Invalid key URI: "'.concat(o,'"'))));var s,l=this.keyUriToKeyInfo[o];if(null!=(n=l)&&n.decryptdata.key)return i.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(null!=(r=l)&&r.keyLoadPromise)switch(null==(s=l.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(t){return i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,qk.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'.concat(i.method,'"'))))}}},{key:"loadKeyEME",value:function(e,t){var n={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var r=this.emeController.loadKey(n);if(r)return(e.keyLoadPromise=r.then((function(t){return e.mediaKeySessionContext=t,n}))).catch((function(t){throw e.keyLoadPromise=null,t}))}return Promise.resolve(n)}},{key:"loadKeyHTTP",value:function(e,t){var n=this,r=this.config,i=new(0,r.loader)(r);return t.keyLoader=e.loader=i,e.keyLoadPromise=new Promise((function(a,o){var s={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},l=r.keyLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:function(e,t,r,i){var s=r.frag,l=r.keyInfo,u=r.url;if(!s.decryptdata||l!==n.keyUriToKeyInfo[u])return o(n.createKeyLoadError(s,qk.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));l.decryptdata.key=s.decryptdata.key=new Uint8Array(e.data),s.keyLoader=null,l.loader=null,a({frag:s,keyInfo:l})},onError:function(e,r,i,a){n.resetLoader(r),o(n.createKeyLoadError(t,qk.KEY_LOAD_ERROR,new Error("HTTP Error ".concat(e.code," loading key ").concat(e.text)),i,Uk({url:s.url,data:void 0},e)))},onTimeout:function(e,r,i){n.resetLoader(r),o(n.createKeyLoadError(t,qk.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:function(e,r,i){n.resetLoader(r),o(n.createKeyLoadError(t,qk.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};i.load(s,u,c)}))}},{key:"resetLoader",value:function(e){var t=e.frag,n=e.keyInfo,r=e.url,i=n.loader;t.keyLoader===i&&(t.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}]),e}(),WE=function(){function e(){f(this,e),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}return g(e,[{key:"destroy",value:function(){this.onHandlerDestroying(),this.onHandlerDestroyed()}},{key:"onHandlerDestroying",value:function(){this.clearNextTick(),this.clearInterval()}},{key:"onHandlerDestroyed",value:function(){}},{key:"hasInterval",value:function(){return!!this._tickInterval}},{key:"hasNextTick",value:function(){return!!this._tickTimer}},{key:"setInterval",value:function(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}},{key:"clearInterval",value:function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}},{key:"clearNextTick",value:function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}},{key:"tick",value:function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}},{key:"tickImmediate",value:function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}},{key:"doTick",value:function(){}}]),e}(),YE={length:0,start:function(){return 0},end:function(){return 0}},$E=function(){function e(){f(this,e)}return g(e,null,[{key:"isBuffered",value:function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(a){}return!1}},{key:"bufferInfo",value:function(t,n,r){try{if(t){var i,a=e.getBuffered(t),o=[];for(i=0;i<a.length;i++)o.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(o,n,r)}}catch(s){}return{len:0,start:n,end:n,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var a=r.length;if(a){var o=r[a-1].end;e[i].start-o<n?e[i].end>o&&(r[a-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,l=0,u=t,c=t,d=0;d<r.length;d++){var f=r[d].start,h=r[d].end;if(t+n>=f&&t<h)u=f,l=(c=h)-t;else if(t+n<f){s=f;break}}return{len:l,start:u||0,end:c||0,nextStart:s}}},{key:"getBuffered",value:function(e){try{return e.buffered}catch(t){return Xk.log("failed to get media.buffered",t),YE}}}]),e}(),XE=g((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];f(this,e),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=n,this.id=r,this.size=i,this.part=a,this.partial=o}));function QE(e,t){for(var n=null,r=0,i=e.length;r<i;r++){var a=e[r];if(a&&a.cc===t){n=a;break}}return n}function ZE(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function JE(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)ZE(n[r],e);t.fragmentHint&&ZE(t.fragmentHint,e),t.alignedSliding=!0}function eS(e,t,n){t&&(!function(e,t,n){if(function(e,t,n){return!(!t.details||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}(e,n,t)){var r=function(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var i=QE(n,r[0].cc);if(i&&(!i||i.startPTS))return i;Xk.log("No frag in previous level to align on")}else Xk.log("No fragments to align")}(n.details,t);r&&Hk(r.start)&&(Xk.log("Adjusting PTS using last level due to CC increase within current level ".concat(t.url)),JE(r.start,t))}}(e,n,t),!n.alignedSliding&&t.details&&function(e,t){if(!t.fragments.length||!e.hasProgramDateTime||!t.hasProgramDateTime)return;var n=t.fragments[0].programDateTime,r=e.fragments[0].programDateTime,i=(r-n)/1e3+t.fragments[0].start;i&&Hk(i)&&(Xk.log("Adjusting PTS using programDateTime delta ".concat(r-n,"ms, sliding:").concat(i.toFixed(3)," ").concat(e.url," ")),JE(i,e))}(n,t.details),n.alignedSliding||!t.details||n.skippedSegments||lE(t.details,n))}function tS(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var n=e.fragments,r=t.fragments;if(n.length&&r.length){var i=r[Math.round(r.length/2)-1],a=QE(n,i.cc)||n[Math.round(n.length/2)-1],o=i.programDateTime,s=a.programDateTime;if(null!==o&&null!==s)JE((s-o)/1e3-(a.start-i.start),e)}}}var nS=function(){function e(t,n){f(this,e),this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=n}return g(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}(),rS=function(){function e(t,n){f(this,e),this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=n}return g(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();var iS=function(){function e(){f(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}return g(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],f=new Uint32Array(256),h=0,p=0,m=0;for(m=0;m<256;m++)f[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var v=f[h],y=f[v],b=f[y],k=257*f[g]^16843008*g;r[h]=k<<24|k>>>8,i[h]=k<<16|k>>>16,a[h]=k<<8|k>>>24,o[h]=k,k=16843009*b^65537*y^257*v^16843008*h,l[g]=k<<24|k>>>8,u[g]=k<<16|k>>>16,c[g]=k<<8|k>>>24,d[g]=k,h?(h=v^f[f[f[b^v]]],p^=f[f[p]]):h=p=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,m=p[0],g=p[1],v=p[2],y=p[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i===0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[a/i|0]<<24):i>6&&a%i===4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],d[o]=o<4||a<=4?l:m[f[l>>>24]]^g[f[l>>>16&255]]^v[f[l>>>8&255]]^y[f[255&l]],d[o]=d[o]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,a,o,s,l,u,c,d,f,h,p,m,g,v=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,k=this.invSubMix,w=k[0],x=k[1],E=k[2],S=k[3],T=this.uint8ArrayToUint32Array_(n),C=T[0],L=T[1],A=T[2],R=T[3],P=new Int32Array(e),O=new Int32Array(P.length),_=this.networkToHostOrderSwap;t<P.length;){for(d=_(P[t]),f=_(P[t+1]),h=_(P[t+2]),p=_(P[t+3]),s=d^y[0],l=p^y[1],u=h^y[2],c=f^y[3],m=4,g=1;g<v;g++)r=w[s>>>24]^x[l>>16&255]^E[u>>8&255]^S[255&c]^y[m],i=w[l>>>24]^x[u>>16&255]^E[c>>8&255]^S[255&s]^y[m+1],a=w[u>>>24]^x[c>>16&255]^E[s>>8&255]^S[255&l]^y[m+2],o=w[c>>>24]^x[s>>16&255]^E[l>>8&255]^S[255&u]^y[m+3],s=r,l=i,u=a,c=o,m+=4;r=b[s>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^y[m],i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[m+1],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&l]^y[m+2],o=b[c>>>24]<<24^b[s>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^y[m+3],O[t]=_(r^C),O[t+1]=_(o^L),O[t+2]=_(a^A),O[t+3]=_(i^R),C=d,L=f,A=h,R=p,t+=4}return O.buffer}}]),e}(),aS=function(){function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).removePKCS7Padding,r=void 0===n||n;if(f(this,e),this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=r,r)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(a){}null===this.subtle&&(this.useSoftware=!0)}return g(e,[{key:"destroy",value:function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}},{key:"isSync",value:function(){return this.useSoftware}},{key:"flush",value:function(){var e=this.currentResult,t=this.remainderData;if(!e||t)return this.reset(),null;var n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){var t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?Ew(e,0,t-n):e}(n):n}},{key:"reset",value:function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}},{key:"decrypt",value:function(e,t,n){var r=this;return this.useSoftware?new Promise((function(i,a){r.softwareDecrypt(new Uint8Array(e),t,n);var o=r.flush();o?i(o.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,n)}},{key:"softwareDecrypt",value:function(e,t,n){var r=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=ex(a,e),this.remainderData=null);var o=this.getValidChunk(e);if(!o.length)return null;r&&(n=r);var s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new iS),s.expandKey(t);var l=i;return this.currentResult=s.decrypt(o.buffer,0,n),this.currentIV=Ew(o,-16).buffer,l||null}},{key:"webCryptoDecrypt",value:function(e,t,n){var r=this,i=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new rS(i,t)),this.fastAesKey.expandKey().then((function(t){return i?(r.logOnce("WebCrypto AES decrypt"),new nS(i,new Uint8Array(n)).decrypt(e.buffer,t)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(i){return Xk.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, ".concat(i.name,": ").concat(i.message)),r.onWebCryptoError(e,t,n)}))}},{key:"onWebCryptoError",value:function(e,t,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,n);var r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}},{key:"getValidChunk",value:function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Ew(e,0,n),this.remainderData=Ew(e,n)),t}},{key:"logOnce",value:function(e){this.logEnabled&&(Xk.log("[decrypter]: ".concat(e)),this.logEnabled=!1)}}]),e}(),oS=function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="[".concat(e.start(r).toFixed(3),"-").concat(e.end(r).toFixed(3),"]");return t},sS="STOPPED",lS="IDLE",uS="KEY_LOADING",cS="FRAG_LOADING",dS="FRAG_LOADING_WAITING_RETRY",fS="WAITING_TRACK",hS="PARSING",pS="PARSED",mS="ENDED",gS="ERROR",vS="WAITING_INIT_PTS",yS="WAITING_LEVEL",bS=function(e){y(n,e);var t=E(n);function n(e,r,i,a,o){var s;return f(this,n),(s=t.call(this)).hls=void 0,s.fragPrevious=null,s.fragCurrent=null,s.fragmentTracker=void 0,s.transmuxer=null,s._state=sS,s.playlistType=void 0,s.media=null,s.mediaBuffer=null,s.config=void 0,s.bitrateTest=!1,s.lastCurrentTime=0,s.nextLoadPosition=0,s.startPosition=0,s.startTimeOffset=null,s.loadedmetadata=!1,s.retryDate=0,s.levels=null,s.fragmentLoader=void 0,s.keyLoader=void 0,s.levelLastLoaded=null,s.startFragRequested=!1,s.decrypter=void 0,s.initPTS=[],s.onvseeking=null,s.onvended=null,s.logPrefix="",s.log=void 0,s.warn=void 0,s.playlistType=o,s.logPrefix=a,s.log=Xk.log.bind(Xk,"".concat(a,":")),s.warn=Xk.warn.bind(Xk,"".concat(a,":")),s.hls=e,s.fragmentLoader=new HE(e.config),s.keyLoader=i,s.fragmentTracker=r,s.config=e.config,s.decrypter=new aS(e.config),e.on(zk.MANIFEST_LOADED,s.onManifestLoaded,w(s)),s}return g(n,[{key:"doTick",value:function(){this.onTickEnd()}},{key:"onTickEnd",value:function(){}},{key:"startLoad",value:function(e){}},{key:"stopLoad",value:function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=sS}},{key:"_streamEnded",value:function(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;var n=t.partList;if(null!=n&&n.length){var r=n[n.length-1];return $E.isBuffered(this.media,r.start+r.duration/2)}var i=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}},{key:"getLevelDetails",value:function(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levels[this.levelLastLoaded])?void 0:e.details}},{key:"onMediaAttached",value:function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===sS&&this.startLoad(r.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.config,t=this.fragCurrent,n=this.media,r=this.mediaBuffer,i=this.state,a=n?n.currentTime:0,o=$E.bufferInfo(r||n,a,e.maxBufferHole);if(this.log("media seeking to ".concat(Hk(a)?a.toFixed(3):a,", state: ").concat(i)),this.state===mS)this.resetLoadingState();else if(t){var s=e.maxFragLookUpTolerance,l=t.start-s,u=t.start+t.duration+s;if(!o.len||u<o.start||l>o.end){var c=a>u;(a<l||c)&&(c&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||o.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoaded",value:function(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}},{key:"onHandlerDestroying",value:function(){this.stopLoad(),Sp(b(n.prototype),"onHandlerDestroying",this).call(this)}},{key:"onHandlerDestroyed",value:function(){this.state=sS,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,Sp(b(n.prototype),"onHandlerDestroyed",this).call(this)}},{key:"loadFragment",value:function(e,t,n){this._loadFragForPlayback(e,t,n)}},{key:"_loadFragForPlayback",value:function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment ".concat(e.sn).concat(t.part?" p: "+t.part.index:""," of level ").concat(e.level," was dropped during download.")),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){var n=r.state;r.fragContextChanged(e)?(n===cS||!r.fragCurrent&&n===hS)&&(r.fragmentTracker.removeFragment(e),r.state=lS):("payload"in t&&(r.log("Loaded fragment ".concat(e.sn," of level ").concat(e.level)),r.hls.trigger(zk.FRAG_LOADED,t)),r._handleFragmentLoadComplete(t))}})).catch((function(t){r.state!==sS&&r.state!==gS&&(r.warn(t),r.resetFragmentLoading(e))}))}},{key:"clearTrackerIfNeeded",value:function(e){var t,n=this.fragmentTracker;if(n.getState(e)===NE){var r=e.type,i=this.getFwdBufferInfo(this.mediaBuffer,r),a=Math.max(e.duration,i?i.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&n.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===ME&&n.removeFragment(e))}},{key:"flushMainBuffer",value:function(e,t){if(e-t){var n={startOffset:e,endOffset:t,type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null};this.hls.trigger(zk.BUFFER_FLUSHING,n)}}},{key:"_loadInitSegment",value:function(e,t){var n=this;this._doFragLoad(e,t).then((function(t){if(!t||n.fragContextChanged(e)||!n.levels)throw new Error("init load aborted");return t})).then((function(t){var r=n.hls,i=t.payload,a=e.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var o=self.performance.now();return n.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).catch((function(t){throw r.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((function(n){var i=self.performance.now();return r.trigger(zk.FRAG_DECRYPTED,{frag:e,payload:n,stats:{tstart:o,tdecrypt:i}}),t.payload=n,t}))}return t})).then((function(r){var i=n.fragCurrent,a=n.hls;if(!n.levels)throw new Error("init load aborted, missing levels");var o=e.stats;n.state=lS,t.fragmentError=0,e.data=new Uint8Array(r.payload),o.parsing.start=o.buffering.start=self.performance.now(),o.parsing.end=o.buffering.end=self.performance.now(),r.frag===i&&a.trigger(zk.FRAG_BUFFERED,{stats:o,frag:i,part:null,id:e.type}),n.tick()})).catch((function(t){n.state!==sS&&n.state!==gS&&(n.warn(t),n.resetFragmentLoading(e))}))}},{key:"fragContextChanged",value:function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId}},{key:"fragBufferedComplete",value:function(e,t){var n,r,i,a,o=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered ".concat(e.type," sn: ").concat(e.sn).concat(t?" part: "+t.index:""," of ").concat(this.playlistType===Nx?"level":"track"," ").concat(e.level," (frag:[").concat((null!=(n=e.startPTS)?n:NaN).toFixed(3),"-").concat((null!=(r=e.endPTS)?r:NaN).toFixed(3),"] > buffer:").concat(o?oS($E.getBuffered(o)):"(detached)",")")),this.state=lS,o&&(!this.loadedmetadata&&e.type==Nx&&o.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}},{key:"seekToStartPos",value:function(){}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),o=new XE(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!a);t.flush(o)}}},{key:"_handleFragmentLoadProgress",value:function(e){}},{key:"_doFragLoad",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,o=null==t?void 0:t.details;if(!this.levels||!o)throw new Error("frag load aborted, missing level".concat(o?"":" detail","s"));var s=null;if(!e.encrypted||null!=(n=e.decryptdata)&&n.key?!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments):(this.log("Loading key for ".concat(e.sn," of [").concat(o.startSN,"-").concat(o.endSN,"], ").concat("[stream-controller]"===this.logPrefix?"level":"track"," ").concat(e.level)),this.state=uS,this.fragCurrent=e,s=this.keyLoader.load(e).then((function(e){if(!r.fragContextChanged(e.frag))return r.hls.trigger(zk.KEY_LOADED,e),r.state===uS&&(r.state=lS),e})),this.hls.trigger(zk.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(s=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){var l=o.partList;if(l&&a){i>e.end&&o.fragmentHint&&(e=o.fragmentHint);var c=this.getNextPart(l,e,i);if(c>-1){var d,f=l[c];return this.log("Loading part sn: ".concat(e.sn," p: ").concat(f.index," cc: ").concat(e.cc," of playlist [").concat(o.startSN,"-").concat(o.endSN,"] parts [0-").concat(c,"-").concat(l.length-1,"] ").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(i.toFixed(3)))),this.nextLoadPosition=f.start+f.duration,this.state=cS,d=s?s.then((function(n){return!n||r.fragContextChanged(n.frag)?null:r.doFragPartsLoad(e,f,t,a)})).catch((function(e){return r.handleFragLoadError(e)})):this.doFragPartsLoad(e,f,t,a).catch((function(e){return r.handleFragLoadError(e)})),this.hls.trigger(zk.FRAG_LOADING,{frag:e,part:f,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):d}if(!e.url||this.loadedEndOfParts(l,i))return Promise.resolve(null)}}this.log("Loading fragment ".concat(e.sn," cc: ").concat(e.cc," ").concat(o?"of ["+o.startSN+"-"+o.endSN+"] ":"").concat("[stream-controller]"===this.logPrefix?"level":"track",": ").concat(e.level,", target: ").concat(parseFloat(i.toFixed(3)))),Hk(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=cS;var h,p=this.config.progressive;return h=p&&s?s.then((function(t){return!t||r.fragContextChanged(null==t?void 0:t.frag)?null:r.fragmentLoader.load(e,a)})).catch((function(e){return r.handleFragLoadError(e)})):Promise.all([this.fragmentLoader.load(e,p?a:void 0),s]).then((function(e){var t=u(e,1)[0];return!p&&t&&a&&a(t),t})).catch((function(e){return r.handleFragLoadError(e)})),this.hls.trigger(zk.FRAG_LOADING,{frag:e,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}},{key:"doFragPartsLoad",value:function(e,t,n,r){var i=this;return new Promise((function(a,o){var s,l=[],u=null==(s=n.details)?void 0:s.partList;!function t(s){i.fragmentLoader.loadPart(e,s,r).then((function(r){l[s.index]=r;var o=r.part;i.hls.trigger(zk.FRAG_LOADED,r);var c=cE(n,e.sn,s.index+1)||dE(u,e.sn,s.index+1);if(!c)return a({frag:e,part:o,partsLoaded:l});t(c)})).catch(o)}(t)}))}},{key:"handleFragLoadError",value:function(e){if("data"in e){var t=e.data;e.data&&t.details===qk.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(zk.ERROR,t)}else this.hls.trigger(zk.ERROR,{type:Gk.OTHER_ERROR,details:qk.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}},{key:"_handleTransmuxerFlush",value:function(e){var t=this.getCurrentContext(e);if(t&&this.state===hS){var n=t.frag,r=t.part,i=t.level,a=self.performance.now();n.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||this.state===sS||this.state===gS||(this.state=lS)}},{key:"getCurrentContext",value:function(e){var t=this.levels,n=this.fragCurrent,r=e.level,i=e.sn,a=e.part;if(null==t||!t[r])return this.warn("Levels object was unset while buffering fragment ".concat(i," of level ").concat(r,". The current chunk will not be buffered.")),null;var o=t[r],s=a>-1?cE(o,i,a):null,l=s?s.fragment:function(e,t,n){if(null==e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}(o,i,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:s,level:o}):null}},{key:"bufferFragmentData",value:function(e,t,n,r,i){var a;if(e&&this.state===hS){var o=e.data1,s=e.data2,l=o;if(o&&s&&(l=ex(o,s)),null!=(a=l)&&a.length){var u={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:l};if(this.hls.trigger(zk.BUFFER_APPENDING,u),e.dropped&&e.independent&&!n){if(i)return;this.flushBufferGap(t)}}}}},{key:"flushBufferGap",value:function(e){var t=this.media;if(t)if($E.isBuffered(t,t.currentTime)){var n=t.currentTime,r=$E.bufferInfo(t,n,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),o=Math.max(Math.min(e.start-a,r.end-a),n+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}else this.flushMainBuffer(0,e.start)}},{key:"getFwdBufferInfo",value:function(e,t){var n=this.getLoadPosition();return Hk(n)?this.getFwdBufferInfoAtPos(e,n,t):null}},{key:"getFwdBufferInfoAtPos",value:function(e,t,n){var r=this.config.maxBufferHole,i=$E.bufferInfo(e,t,r);if(0===i.len&&void 0!==i.nextStart){var a=this.fragmentTracker.getBufferedFrag(t,n);if(a&&i.nextStart<a.end)return $E.bufferInfo(e,t,Math.max(i.nextStart,r))}return i}},{key:"getMaxBufferLength",value:function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)}},{key:"reduceMaxBufferLength",value:function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to ".concat(t.maxMaxBufferLength,"s")),!0)}},{key:"getAppendedFrag",value:function(e){var t=this.fragmentTracker.getAppendedFrag(e,Nx);return t&&"fragment"in t?t.fragment:t}},{key:"getNextFragment",value:function(e,t){var n=t.fragments,r=n.length;if(!r)return null;var i,a=this.config,o=n[0].start;if(t.live){var s=a.initialLiveManifestSize;if(r<s)return this.warn("Not enough fragments to start playback (have: ".concat(r,", need: ").concat(s,")")),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(i=this.getInitialLiveFragment(t,n),this.startPosition=i?this.hls.liveSyncPosition||i.start:e)}else e<=o&&(i=n[0]);if(!i){var l=a.lowLatencyMode?t.partEnd:t.fragmentEnd;i=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(i)}},{key:"isLoopLoading",value:function(e,t){var n=this.fragmentTracker.getState(e);return(n===FE||n===ME&&!!e.gap)&&this.nextLoadPosition>t}},{key:"getNextFragmentLoopLoading",value:function(e,t,n,r,i){var a=e.gap,o=this.getNextFragment(this.nextLoadPosition,t);if(null===o)return o;if(e=o,a&&e&&!e.gap&&n.nextStart){var s=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==s&&n.len+s.len>=i)return this.log('buffer full after gaps in "'.concat(r,'" playlist starting at sn: ').concat(e.sn)),null}return e}},{key:"mapToInitFragWhenRequired",value:function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}},{key:"getNextPart",value:function(e,t,n){for(var r=-1,i=!1,a=!0,o=0,s=e.length;o<s;o++){var l=e[o];if(a=a&&!l.independent,r>-1&&n<l.start)break;var u=l.loaded;u?r=-1:(i||l.independent||a)&&l.fragment===t&&(r=o),i=u}return r}},{key:"loadedEndOfParts",value:function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded}},{key:"getInitialLiveFragment",value:function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: ".concat(n.programDateTime)),r=function(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Hk(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var r=0;r<e.length;++r){var i=e[r];if(kE(t,n,i))return i}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];n.cc===a.cc&&(r=a,this.log("Live playlist, switching playlist, load frag with next SN: ".concat(r.sn)))}r||(r=function(e,t){return vE.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(t,n.cc),r&&this.log("Live playlist, switching playlist, load frag with same CC: ".concat(r.sn)))}}else{var o=this.hls.liveSyncPosition;null!==o&&(r=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}},{key:"getFragmentAtPosition",value:function(e,t,n){var r,i=this.config,a=this.fragPrevious,o=n.fragments,s=n.endSN,l=n.fragmentHint,u=i.maxFragLookUpTolerance,c=n.partList,d=!!(i.lowLatencyMode&&null!=c&&c.length&&l);(d&&l&&!this.bitrateTest&&(o=o.concat(l),s=l.sn),e<t)?r=yE(a,o,e,e>t-u?0:u):r=o[o.length-1];if(r){var f=r.sn-n.startSN,h=this.fragmentTracker.getState(r);if((h===FE||h===ME&&r.gap)&&(a=r),a&&r.sn===a.sn&&(!d||c[0].fragment.sn>r.sn))if(a&&r.level===a.level){var p=o[f+1];r=r.sn<s&&this.fragmentTracker.getState(p)!==FE?p:null}}return r}},{key:"synchronizeToLiveEdge",value:function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,a=e.fragments[0].start,o=e.edge,s=i>=a-t.maxFragLookUpTolerance&&i<=o;if(null!==r&&n.duration>r&&(i<r||!s)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: ".concat(i.toFixed(3)," is located too far from the end of live sliding playlist: ").concat(o,", reset currentTime to : ").concat(r.toFixed(3))),n.currentTime=r))}}}},{key:"alignPlaylists",value:function(e,t){var n=this.levels,r=this.levelLastLoaded,i=this.fragPrevious,a=null!==r?n[r]:null,o=e.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;var s=e.fragments[0].start,l=!t,u=e.alignedSliding&&Hk(s);if(l||!u&&!s){eS(i,a,e);var c=e.fragments[0].start;return this.log("Live playlist sliding: ".concat(c.toFixed(2)," start-sn: ").concat(t?t.startSN:"na","->").concat(e.startSN," prev-sn: ").concat(i?i.sn:"na"," fragments: ").concat(o)),c}return s}},{key:"waitForCdnTuneIn",value:function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}},{key:"setStartPosition",value:function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var r=null!==this.startTimeOffset,i=r?this.startTimeOffset:e.startTimeOffset;null!==i&&Hk(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset ".concat(i," found in ").concat(r?"multivariant":"media"," playlist, adjust startPosition to ").concat(n)),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}},{key:"getLoadPosition",value:function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}},{key:"handleFragLoadAborted",value:function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," was aborted")),this.resetFragmentLoading(e))}},{key:"resetFragmentLoading",value:function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===dS)||(this.state=lS)}},{key:"onFragmentOrKeyLoadError",value:function(e,t){if(t.chunkMeta&&!t.frag){var n=this.getCurrentContext(t.chunkMeta);n&&(t.frag=n.frag)}var r=t.frag;if(r&&r.type===e&&this.levels)if(this.fragContextChanged(r)){var i;this.warn("Frag load error must match current frag to retry ".concat(r.url," > ").concat(null==(i=this.fragCurrent)?void 0:i.url))}else{var a=t.details===qk.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(r,!0);var o=t.errorAction,s=o||{},l=s.action,u=s.retryCount,c=void 0===u?0:u,d=s.retryConfig;if(o&&l===SE&&d){var f;this.resetStartWhenNotLoaded(null!=(f=this.levelLastLoaded)?f:r.level);var h=pE(d,c);this.warn("Fragment ".concat(r.sn," of ").concat(e," ").concat(r.level," errored with ").concat(t.details,", retrying loading ").concat(c+1,"/").concat(d.maxNumRetry," in ").concat(h,"ms")),o.resolved=!0,this.retryDate=self.performance.now()+h,this.state=dS}else d&&o?(this.resetFragmentErrors(e),c<d.maxNumRetry?a||(o.resolved=!0):Xk.warn("".concat(t.details," reached or exceeded max retry (").concat(c,")"))):(null==o?void 0:o.action)===EE?this.state=yS:this.state=gS;this.tickImmediate()}}},{key:"reduceLengthAndFlushBuffer",value:function(e){if(this.state===hS||this.state===pS){var t=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,t),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);var i=!r;return i&&this.warn("Buffer full error while media.currentTime is not buffered, flush ".concat(t," buffer")),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),i}return!1}},{key:"resetFragmentErrors",value:function(e){e===Mx&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==sS&&(this.state=lS)}},{key:"afterBufferFlushed",value:function(e,t,n){if(e){var r=$E.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===mS&&this.resetLoadingState()}}},{key:"resetLoadingState",value:function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=lS}},{key:"resetStartWhenNotLoaded",value:function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}},{key:"resetWhenMissingContext",value:function(e){var t;this.warn("The loading context changed while buffering fragment ".concat(e.sn," of level ").concat(e.level,". This chunk will not be buffered.")),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(t=this.levelLastLoaded)?t:e.level),this.resetLoadingState()}},{key:"removeUnbufferedFrags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}},{key:"updateLevelTiming",value:function(e,t,n,r){var i,a=this,o=n.details;if(o){if(Object.keys(e.elementaryStreams).reduce((function(t,i){var s=e.elementaryStreams[i];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return a.warn("Could not parse fragment ".concat(e.sn," ").concat(i," duration reliably (").concat(l,")")),t||!1;var u=r?0:oE(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return a.hls.trigger(zk.LEVEL_PTS_UPDATED,{details:o,level:n,drift:u,type:i,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1))n.fragmentError=0;else if(null===(null==(i=this.transmuxer)?void 0:i.error)){var s=new Error("Found no media in fragment ".concat(e.sn," of level ").concat(e.level," resetting transmuxer to fallback to playlist timing"));if(0===n.fragmentError&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(s.message),this.hls.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_PARSING_ERROR,fatal:!1,error:s,frag:e,reason:"Found no media in msn ".concat(e.sn,' of level "').concat(n.url,'"')}),!this.hls)return;this.resetTransmuxer()}this.state=pS,this.hls.trigger(zk.FRAG_PARSED,{frag:e,part:t})}else this.warn("level.details undefined")}},{key:"resetTransmuxer",value:function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}},{key:"recoverWorkerError",value:function(e){var t,n,r;"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(t=null!=(n=this.levelLastLoaded)?n:null==(r=this.fragCurrent)?void 0:r.level)?t:0),this.resetLoadingState())}},{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log("".concat(t,"->").concat(e)))}}]),n}(WE);function kS(){return self.SourceBuffer||self.WebKitSourceBuffer}function wS(){return{type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",id:-1,pid:-1,inputTimeScale:arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4,sequenceNumber:-1,samples:[],dropped:0}}var xS=function(){function e(){f(this,e),this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}return g(e,[{key:"resetInitSegment",value:function(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.resetContiguity()}},{key:"resetContiguity",value:function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}},{key:"canParse",value:function(e,t){return!1}},{key:"appendFrame",value:function(e,t,n){}},{key:"demux",value:function(e,t){this.cachedData&&(e=ex(this.cachedData,e),this.cachedData=null);var n,r=Lw(e,0),i=r?r.length:0,a=this._audioTrack,o=this._id3Track,s=r?function(e){for(var t=_w(e),n=0;n<t.length;n++){var r=t[n];if(Pw(r))return Fw(r)}}(r):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&Hk(s))&&(this.basePTS=ES(s,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:qx,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){var u=this.appendFrame(a,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,n=i+=u.length):i=l}else Rw(e,i)?(r=Lw(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:qx,duration:Number.POSITIVE_INFINITY}),n=i+=r.length):i++;if(i===l&&n!==l){var c=Ew(e,n);this.cachedData?this.cachedData=ex(this.cachedData,c):this.cachedData=c}}return{audioTrack:a,videoTrack:wS(),id3Track:o,textTrack:wS()}}},{key:"demuxSampleAes",value:function(e,t,n){return Promise.reject(new Error("[".concat(this,"] This demuxer does not support Sample-AES decryption")))}},{key:"flush",value:function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:wS(),id3Track:this._id3Track,textTrack:wS()}}},{key:"destroy",value:function(){}}]),e}(),ES=function(e,t,n){return Hk(e)?90*e:9e4*t+(n?9e4*n.baseTime/n.timescale:0)};function SS(e,t){return 255===e[t]&&240===(246&e[t+1])}function TS(e,t){return 1&e[t+1]?7:9}function CS(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function LS(e,t){return t+1<e.length&&SS(e,t)}function AS(e,t){if(LS(e,t)){var n=TS(e,t);if(t+n>=e.length)return!1;var r=CS(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||LS(e,i)}return!1}function RS(e,t,n,r,i){if(!e.samplerate){var a=function(e,t,n,r){var i,a,o,s,l=navigator.userAgent.toLowerCase(),u=r,c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&t[n+2])>>>6);var d=(60&t[n+2])>>>2;if(!(d>c.length-1))return o=(1&t[n+2])<<2,o|=(192&t[n+3])>>>6,Xk.log("manifest codec:".concat(r,", ADTS type:").concat(i,", samplingIndex:").concat(d)),/firefox/i.test(l)?d>=6?(i=5,s=new Array(4),a=d-3):(i=2,s=new Array(2),a=d):-1!==l.indexOf("android")?(i=2,s=new Array(2),a=d):(i=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?a=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===o||/vivaldi/i.test(l))||!r&&1===o)&&(i=2,s=new Array(2)),a=d)),s[0]=i<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=o<<3,5===i&&(s[1]|=(14&a)>>1,s[2]=(1&a)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:c[d],channelCount:o,codec:"mp4a.40."+i,manifestCodec:u};e.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:".concat(d)})}(t,n,r,i);if(!a)return;e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,Xk.log("parsed codec:".concat(e.codec,", rate:").concat(a.samplerate,", channels:").concat(a.channelCount))}}function PS(e){return 9216e4/e}function OS(e,t,n,r,i){var a,o=r+i*PS(e.samplerate),s=function(e,t){var n=TS(e,t);if(t+n<=e.length){var r=CS(e,t)-n;if(r>0)return{headerLength:n,frameLength:r}}}(t,n);if(s){var l=s.frameLength,u=s.headerLength,c=u+l,d=Math.max(0,n+c-t.length);d?(a=new Uint8Array(c-u)).set(t.subarray(n+u,t.length),0):a=t.subarray(n+u,n+c);var f={unit:a,pts:o};return d||e.samples.push(f),{sample:f,length:c,missing:d}}var h=t.length-n;return(a=new Uint8Array(h)).set(t.subarray(n,t.length),0),{sample:{unit:a,pts:o},length:h,missing:-1}}var _S=function(e){y(n,e);var t=E(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).observer=void 0,i.config=void 0,i.observer=e,i.config=r,i}return g(n,[{key:"resetInitSegment",value:function(e,t,r,i){Sp(b(n.prototype),"resetInitSegment",this).call(this,e,t,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&SS(e,t)&&CS(e,t)<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,n){RS(e,this.observer,t,n,e.manifestCodec);var r=OS(e,t,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}}],[{key:"probe",value:function(e){if(!e)return!1;for(var t=(Lw(e,0)||[]).length,n=e.length;t<n;t++)if(AS(e,t))return Xk.log("ADTS sync word found !"),!0;return!1}}]),n}(xS),IS=/\/emsg[-/]ID3/i,DS=function(){function e(t,n){f(this,e),this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}return g(e,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(e,t,n,r){var i=this.videoTrack=wS("video",1),a=this.audioTrack=wS("audio",1),o=this.txtTrack=wS("text",1);if(this.id3Track=wS("id3",1),this.timeOffset=0,null!=e&&e.byteLength){var s=Qw(e);if(s.video){var l=s.video,u=l.id,c=l.timescale,d=l.codec;i.id=u,i.timescale=o.timescale=c,i.codec=d}if(s.audio){var f=s.audio,h=f.id,p=f.timescale,m=f.codec;a.id=h,a.timescale=p,a.codec=m}o.id=zw.text,i.sampleDuration=0,i.duration=a.duration=r}}},{key:"resetContiguity",value:function(){this.remainderData=null}},{key:"demux",value:function(e,t){this.timeOffset=t;var n=e,r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=ex(this.remainderData,e));var a=function(e){var t={valid:null,remainder:null},n=$w(e,["moof"]);if(!n)return t;if(n.length<2)return t.remainder=e,t;var r=n[n.length-1];return t.valid=Ew(e,0,r.byteOffset-8),t.remainder=Ew(e,r.byteOffset-8),t}(n);this.remainderData=a.remainder,r.samples=a.valid||new Uint8Array}else r.samples=n;var o=this.extractID3Track(r,t);return i.samples=tx(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}},{key:"flush",value:function(){var e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var r=this.extractID3Track(t,this.timeOffset);return n.samples=tx(e,t),{videoTrack:t,audioTrack:wS(),id3Track:r,textTrack:wS()}}},{key:"extractID3Track",value:function(e,t){var n=this.id3Track;if(e.samples.length){var r=$w(e.samples,["emsg"]);r&&r.forEach((function(e){var r=function(e){var t=e[0],n="",r="",i=0,a=0,o=0,s=0,l=0,u=0;if(0===t){for(;"\0"!==Gw(e.subarray(u,u+1));)n+=Gw(e.subarray(u,u+1)),u+=1;for(n+=Gw(e.subarray(u,u+1)),u+=1;"\0"!==Gw(e.subarray(u,u+1));)r+=Gw(e.subarray(u,u+1)),u+=1;r+=Gw(e.subarray(u,u+1)),u+=1,i=Kw(e,12),a=Kw(e,16),s=Kw(e,20),l=Kw(e,24),u=28}else if(1===t){i=Kw(e,u+=4);var c=Kw(e,u+=4),d=Kw(e,u+=4);for(u+=4,o=Math.pow(2,32)*c+d,Number.isSafeInteger(o)||(o=Number.MAX_SAFE_INTEGER,Xk.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=Kw(e,u),l=Kw(e,u+=4),u+=4;"\0"!==Gw(e.subarray(u,u+1));)n+=Gw(e.subarray(u,u+1)),u+=1;for(n+=Gw(e.subarray(u,u+1)),u+=1;"\0"!==Gw(e.subarray(u,u+1));)r+=Gw(e.subarray(u,u+1)),u+=1;r+=Gw(e.subarray(u,u+1)),u+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:a,eventDuration:s,id:l,payload:e.subarray(u,e.byteLength)}}(e);if(IS.test(r.schemeIdUri)){var i=Hk(r.presentationTime)?r.presentationTime/r.timeScale:t+r.presentationTimeDelta/r.timeScale,a=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var o=r.payload;n.samples.push({data:o,len:o.byteLength,dts:i,pts:i,type:Wx,duration:a})}}))}return n}},{key:"demuxSampleAes",value:function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){return $w(e=e.length>16384?e.subarray(0,16384):e,["moof"]).length>0}}]),e}(),NS=null,MS=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],FS=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],jS=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],US=[0,1,1,4];function BS(e,t,n,r,i){if(!(n+24>t.length)){var a=VS(t,n);if(a&&n+a.frameLength<=t.length){var o=r+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(n,n+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),{sample:s,length:a.frameLength,missing:0}}}}function VS(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=e[t+2]>>1&1,s=e[t+3]>>6,l=1e3*MS[14*(3===n?3-r:3===r?3:4)+i-1],u=FS[3*(3===n?0:2===n?1:2)+a],c=3===s?1:2,d=jS[n][r],f=US[r],h=8*d*f,p=Math.floor(d*l/u+o)*f;if(null===NS){var m=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);NS=m?parseInt(m[1]):0}return!!NS&&NS<=87&&2===r&&l>=224e3&&0===s&&(e[t+3]=128|e[t+3]),{sampleRate:u,channelCount:c,frameLength:p,samplesPerFrame:h}}}function HS(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function zS(e,t){return t+1<e.length&&HS(e,t)}function GS(e,t){if(t+1<e.length&&HS(e,t)){var n=VS(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||zS(e,i)}return!1}var qS=function(){function e(t){f(this,e),this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return g(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;if(e>32&&Xk.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n}},{key:"readSPS",value:function(){var e,t,n,r=0,i=0,a=0,o=0,s=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var m=s();if(l(5),d(3),s(),h(),100===m||110===m||122===m||244===m||44===m||83===m||86===m||118===m||128===m){var g=u();if(3===g&&d(1),h(),h(),d(1),c())for(t=3!==g?8:12,n=0;n<t;n++)c()&&p(n<6?16:64)}h();var v=u();if(0===v)u();else if(1===v)for(d(1),f(),f(),e=u(),n=0;n<e;n++)f();h(),d(1);var y=u(),b=u(),k=l(1);0===k&&d(1),d(1),c()&&(r=u(),i=u(),a=u(),o=u());var w=[1,1];if(c()&&c())switch(s()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-k)*(b+1)*16-(k?2:4)*(a+o),pixelRatio:w}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}(),KS=function(){function e(t,n,r){f(this,e),this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new aS(n,{removePKCS7Padding:!1})}return g(e,[{key:"decryptBuffer",value:function(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}},{key:"decryptAacSample",value:function(e,t,n){var r=this,i=e[t].unit;if(!(i.length<=16)){var a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(o).then((function(a){var o=new Uint8Array(a);i.set(o,16),r.decrypter.isSync()||r.decryptAacSamples(e,t+1,n)}))}}},{key:"decryptAacSamples",value:function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,n),!this.decrypter.isSync()))return}}},{key:"getAvcEncryptedData",value:function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n}},{key:"getAvcDecryptedUnit",value:function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e}},{key:"decryptAvcSample",value:function(e,t,n,r,i){var a=this,o=ix(i.data),s=this.getAvcEncryptedData(o);this.decryptBuffer(s.buffer).then((function(s){i.data=a.getAvcDecryptedUnit(o,s),a.decrypter.isSync()||a.decryptAvcSamples(e,t,n+1,r)}))}},{key:"decryptAvcSamples",value:function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type)&&(this.decryptAvcSample(e,t,n,r,a),!this.decrypter.isSync()))return}}}}]),e}(),WS=188,YS=function(){function e(t,n,r){f(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=n,this.typeSupported=r}return g(e,[{key:"resetInitSegment",value:function(t,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}},{key:"resetTimeStamp",value:function(){}},{key:"resetContiguity",value:function(){var e=this._audioTrack,t=this._avcTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}},{key:"demux",value:function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i||(this.sampleAes=null);var o=this._avcTrack,s=this._audioTrack,l=this._id3Track,u=this._txtTrack,c=o.pid,d=o.pesData,f=s.pid,h=l.pid,p=s.pesData,m=l.pesData,g=null,v=this.pmtParsed,y=this._pmtId,b=t.length;if(this.remainderData&&(b=(t=ex(this.remainderData,t)).length,this.remainderData=null),b<WS&&!a)return this.remainderData=t,{audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};var k=Math.max(0,e.syncOffset(t));(b-=(b-k)%WS)<t.byteLength&&!a&&(this.remainderData=new Uint8Array(t.buffer,b,t.buffer.byteLength-b));for(var w=0,x=k;x<b;x+=WS)if(71===t[x]){var E=!!(64&t[x+1]),S=XS(t,x),T=void 0;if((48&t[x+3])>>4>1){if((T=x+5+t[x+4])===x+WS)continue}else T=x+4;switch(S){case c:E&&(d&&(r=JS(d))&&this.parseAVCPES(o,u,r,!1),d={data:[],size:0}),d&&(d.data.push(t.subarray(T,x+WS)),d.size+=x+WS-T);break;case f:if(E){if(p&&(r=JS(p)))switch(s.segmentCodec){case"aac":this.parseAACPES(s,r);break;case"mp3":this.parseMPEGPES(s,r)}p={data:[],size:0}}p&&(p.data.push(t.subarray(T,x+WS)),p.size+=x+WS-T);break;case h:E&&(m&&(r=JS(m))&&this.parseID3PES(l,r),m={data:[],size:0}),m&&(m.data.push(t.subarray(T,x+WS)),m.size+=x+WS-T);break;case 0:E&&(T+=t[T]+1),y=this._pmtId=QS(t,T);break;case y:E&&(T+=t[T]+1);var C=ZS(t,T,this.typeSupported,i);(c=C.avc)>0&&(o.pid=c),(f=C.audio)>0&&(s.pid=f,s.segmentCodec=C.segmentCodec),(h=C.id3)>0&&(l.pid=h),null===g||v||(Xk.warn("MPEG-TS PMT found at ".concat(x," after unknown PID '").concat(g,"'. Backtracking to sync byte @").concat(k," to parse all TS packets.")),g=null,x=k-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=S}}else w++;if(w>0){var L=new Error("Found ".concat(w," TS packet/s that do not start with 0x47"));this.observer.emit(zk.ERROR,zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_PARSING_ERROR,fatal:!1,error:L,reason:L.message})}o.pesData=d,s.pesData=p,l.pesData=m;var A={audioTrack:s,videoTrack:o,id3Track:l,textTrack:u};return a&&this.extractRemainingSamples(A),A}},{key:"flush",value:function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}},{key:"extractRemainingSamples",value:function(e){var t,n=e.audioTrack,r=e.videoTrack,i=e.id3Track,a=e.textTrack,o=r.pesData,s=n.pesData,l=i.pesData;if(o&&(t=JS(o))?(this.parseAVCPES(r,a,t,!0),r.pesData=null):r.pesData=o,s&&(t=JS(s))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,t);break;case"mp3":this.parseMPEGPES(n,t)}n.pesData=null}else null!=s&&s.size&&Xk.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=s;l&&(t=JS(l))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=l}},{key:"demuxSampleAes",value:function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new KS(this.observer,this.config,t);return this.decrypt(r,i)}},{key:"decrypt",value:function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.videoTrack;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))}},{key:"destroy",value:function(){this._duration=0}},{key:"parseAVCPES",value:function(e,t,n,r){var i,a=this,o=this.parseAVCNALu(e,n.data),s=this.avcSample,l=!1;n.data=null,s&&o.length&&!e.audFound&&(eT(s,e),s=this.avcSample=$S(!1,n.pts,n.dts,"")),o.forEach((function(r){var o;switch(r.type){case 1:var u=!1;i=!0;var c,d=r.data;if(l&&d.length>4){var f=new qS(d).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(u=!0)}if(u)null!=(c=s)&&c.frame&&!s.key&&(eT(s,e),s=a.avcSample=null);s||(s=a.avcSample=$S(!0,n.pts,n.dts,"")),s.frame=!0,s.key=u;break;case 5:i=!0,null!=(o=s)&&o.frame&&!s.key&&(eT(s,e),s=a.avcSample=null),s||(s=a.avcSample=$S(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:i=!0,rx(r.data,1,n.pts,t.samples);break;case 7:if(i=!0,l=!0,!e.sps){var h=r.data,p=new qS(h).readSPS();e.width=p.width,e.height=p.height,e.pixelRatio=p.pixelRatio,e.sps=[h],e.duration=a._duration;for(var m=h.subarray(1,4),g="avc1.",v=0;v<3;v++){var y=m[v].toString(16);y.length<2&&(y="0"+y),g+=y}e.codec=g}break;case 8:i=!0,e.pps||(e.pps=[r.data]);break;case 9:i=!1,e.audFound=!0,s&&eT(s,e),s=a.avcSample=$S(!1,n.pts,n.dts,"");break;case 12:i=!0;break;default:i=!1,s&&(s.debug+="unknown NAL "+r.type+" ")}s&&i&&s.units.push(r)})),r&&s&&(eT(s,e),this.avcSample=null)}},{key:"getLastNalUnit",value:function(e){var t,n,r=this.avcSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!=(t=r)&&t.units){var i=r.units;n=i[i.length-1]}return n}},{key:"parseAVCNALu",value:function(e,t){var n,r,i=t.byteLength,a=e.naluState||0,o=a,s=[],l=0,u=-1,c=0;for(-1===a&&(u=0,c=31&t[0],a=0,l=1);l<i;)if(n=t[l++],a)if(1!==a)if(n)if(1===n){if(u>=0){var d={data:t.subarray(u,l-a-1),type:c};s.push(d)}else{var f=this.getLastNalUnit(e.samples);if(f&&(o&&l<=4-o&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-o)),(r=l-a-1)>0)){var h=new Uint8Array(f.data.byteLength+r);h.set(f.data,0),h.set(t.subarray(0,r),f.data.byteLength),f.data=h,f.state=0}}l<i?(u=l,c=31&t[l],a=0):a=-1}else a=0;else a=3;else a=n?0:2;else a=n?0:1;if(u>=0&&a>=0){var p={data:t.subarray(u,i),type:c,state:a};s.push(p)}if(0===s.length){var m=this.getLastNalUnit(e.samples);if(m){var g=new Uint8Array(m.data.byteLength+t.byteLength);g.set(m.data,0),g.set(t,m.data.byteLength),m.data=g}}return e.naluState=a,s}},{key:"parseAACPES",value:function(e,t){var n,r,i,a=0,o=this.aacOverFlow,s=t.data;if(o){this.aacOverFlow=null;var l=o.missing,u=o.sample.unit.byteLength;if(-1===l){var c=new Uint8Array(u+s.byteLength);c.set(o.sample.unit,0),c.set(s,u),s=c}else{var d=u-l;o.sample.unit.set(s.subarray(0,l),d),e.samples.push(o.sample),a=o.missing}}for(n=a,r=s.length;n<r-1&&!LS(s,n);n++);if(n!==a){var f,h=n<r-1;f=h?"AAC PES did not start with ADTS header,offset:".concat(n):"No ADTS header found in AAC PES";var p=new Error(f);if(Xk.warn("parsing error: ".concat(f)),this.observer.emit(zk.ERROR,zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_PARSING_ERROR,fatal:!1,levelRetry:h,error:p,reason:f}),!h)return}if(RS(e,this.observer,s,n,this.audioCodec),void 0!==t.pts)i=t.pts;else{if(!o)return void Xk.warn("[tsdemuxer]: AAC PES unknown PTS");var m=PS(e.samplerate);i=o.sample.pts+m}for(var g,v=0;n<r;){if(n+=(g=OS(e,s,n,i,v)).length,g.missing){this.aacOverFlow=g;break}for(v++;n<r-1&&!LS(s,n);n++);}}},{key:"parseMPEGPES",value:function(e,t){var n=t.data,r=n.length,i=0,a=0,o=t.pts;if(void 0!==o)for(;a<r;)if(zS(n,a)){var s=BS(e,n,a,o,i);if(!s)break;a+=s.length,i++}else a++;else Xk.warn("[tsdemuxer]: MPEG PES unknown PTS")}},{key:"parseID3PES",value:function(e,t){if(void 0!==t.pts){var n=Vk({},t,{type:this._avcTrack?Wx:qx,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}else Xk.warn("[tsdemuxer]: ID3 PES unknown PTS")}}],[{key:"probe",value:function(t){var n=e.syncOffset(t);return n>0&&Xk.warn("MPEG2-TS detected but first sync word found @ offset ".concat(n)),-1!==n}},{key:"syncOffset",value:function(e){for(var t=e.length,n=Math.min(940,e.length-WS)+1,r=0;r<n;){for(var i=!1,a=-1,o=0,s=r;s<t;s+=WS){if(71!==e[s]){if(o)return-1;break}if(o++,-1===a&&0!==(a=s)&&(n=Math.min(a+18612,e.length-WS)+1),i||(i=0===XS(e,s)),i&&o>1&&(0===a&&o>2||s+WS>n))return a}r++}return-1}},{key:"createTrack",value:function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:zw[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}}]),e}();function $S(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}function XS(e,t){return((31&e[t+1])<<8)+e[t+2]}function QS(e,t){return(31&e[t+10])<<8|e[t+11]}function ZS(e,t,n,r){var i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var o=XS(e,t);switch(e[t]){case 207:if(!r){Xk.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=o);break;case 21:-1===i.id3&&(i.id3=o);break;case 219:if(!r){Xk.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=o);break;case 3:case 4:!0!==n.mpeg&&!0!==n.mp3?Xk.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=o,i.segmentCodec="mp3");break;case 36:Xk.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function JS(e){var t,n,r,i,a,o=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var l=new Uint8Array(s[0].length+s[1].length);l.set(s[0]),l.set(s[1],s[0].length),s[0]=l,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var u=t[7];192&u&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&u?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(Xk.warn("".concat(Math.round((i-a)/9e4),"s delta between PTS and DTS, align them")),i=a):a=i);var c=(r=t[8])+9;if(e.size<=c)return null;e.size-=c;for(var d=new Uint8Array(e.size),f=0,h=s.length;f<h;f++){var p=(t=s[f]).byteLength;if(c){if(c>p){c-=p;continue}t=t.subarray(c),p-=c,c=0}d.set(t,o),o+=p}return n&&(n-=r+3),{data:d,pts:i,dts:a,len:n}}return null}function eT(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&Xk.log(e.pts+"/"+e.dts+":"+e.debug)}var tT=function(e){y(n,e);var t=E(n);function n(){return f(this,n),t.apply(this,arguments)}return g(n,[{key:"resetInitSegment",value:function(e,t,r,i){Sp(b(n.prototype),"resetInitSegment",this).call(this,e,t,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}},{key:"canParse",value:function(e,t){return function(e,t){return HS(e,t)&&4<=e.length-t}(e,t)}},{key:"appendFrame",value:function(e,t,n){if(null!==this.basePTS)return BS(e,t,n,this.basePTS,this.frameIndex)}}],[{key:"probe",value:function(e){if(!e)return!1;for(var t=(Lw(e,0)||[]).length,n=e.length;t<n;t++)if(GS(e,t))return Xk.log("MPEG Audio sync word found !"),!0;return!1}}]),n}(xS),nT=function(){function e(){f(this,e)}return g(e,null,[{key:"getSilentFrame",value:function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}]),e}(),rT=Math.pow(2,32)-1,iT=function(){function e(){f(this,e)}return g(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=r.length,o=a;a--;)t+=r[a].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),a=0,t=8;a<o;a++)s.set(r[a],t),t+=r[a].byteLength;return s}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,n){n*=t;var r=Math.floor(n/(rT+1)),i=Math.floor(n%(rT+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))}},{key:"moov",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))}},{key:"mvhd",value:function(t,n){n*=t;var r=Math.floor(n/(rT+1)),i=Math.floor(n%(rT+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)}},{key:"sdtp",value:function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var n,r,i,a=[],o=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height,o=Math.floor(r/(rT+1)),s=Math.floor(r%(rT+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(t,n){var r=e.sdtp(t),i=t.id,a=Math.floor(n/(rT+1)),o=Math.floor(n%(rT+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,r.length+16+20+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,n){var r,i,a,o,s,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(n+=8+d,f.set(["video"===t.type?1:0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)a=(i=u[r]).duration,o=i.size,s=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,f)}},{key:"initSegment",value:function(t){e.types||e.init();var n=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+n.byteLength);return r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r}}]),e}();iT.types=void 0,iT.HDLR_TYPES=void 0,iT.STTS=void 0,iT.STSC=void 0,iT.STCO=void 0,iT.STSZ=void 0,iT.VMHD=void 0,iT.SMHD=void 0,iT.STSD=void 0,iT.FTYP=void 0,iT.DINF=void 0;var aT=9e4;function oT(e,t){var n=e*t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?Math.round(n):n}function sT(e){return oT(e,1e3,1/aT,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}var lT=null,uT=null,cT=function(){function e(t,n,r){if(f(this,e),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=n,this.typeSupported=r,this.ISGenerated=!1,null===lT){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);lT=i?parseInt(i[1]):0}if(null===uT){var a=navigator.userAgent.match(/Safari\/(\d+)/i);uT=a?parseInt(a[1]):0}}return g(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){Xk.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}},{key:"resetNextTimestamp",value:function(){Xk.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}},{key:"resetInitSegment",value:function(){Xk.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}},{key:"getVideoStartPts",value:function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,dT(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&Xk.debug("PTS rollover detected"),n}},{key:"remux",value:function(e,t,n,r,i,a,o,s){var l,u,c,d,f,h,p=i,m=i,g=e.pid>-1,v=t.pid>-1,y=t.samples.length,b=e.samples.length>0,k=o&&y>0||y>1;if((!g||b)&&(!v||k)||this.ISGenerated||o){this.ISGenerated||(c=this.generateIS(e,t,i,a));var w,x=this.isVideoContiguous,E=-1;if(k&&(E=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!x&&this.config.forceKeyFrameOnDiscontinuity))if(h=!0,E>0){Xk.warn("[mp4-remuxer]: Dropped ".concat(E," out of ").concat(y," video samples due to a missing keyframe"));var S=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(E),t.dropped+=E,w=m+=(t.samples[0].pts-S)/t.inputTimeScale}else-1===E&&(Xk.warn("[mp4-remuxer]: No keyframe found out of ".concat(y," video samples")),h=!1);if(this.ISGenerated){if(b&&k){var T=this.getVideoStartPts(t.samples),C=(dT(e.samples[0].pts,T)-T)/t.inputTimeScale;p+=Math.max(0,C),m+=Math.max(0,-C)}if(b){if(e.samplerate||(Xk.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(e,t,i,a)),u=this.remuxAudio(e,p,this.isAudioContiguous,a,v||k||s===Mx?m:void 0),k){var L=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(Xk.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(e,t,i,a)),l=this.remuxVideo(t,m,x,L)}}else k&&(l=this.remuxVideo(t,m,x,0));l&&(l.firstKeyFrame=E,l.independent=-1!==E,l.firstKeyFramePTS=w)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(f=fT(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=hT(r,i,this._initPTS))),{audio:u,video:l,initSegment:c,independent:h,text:d,id3:f}}},{key:"generateIS",value:function(e,t,n,r){var i,a,o,s=e.samples,l=t.samples,u=this.typeSupported,c={},d=this._initPTS,f=!d||r,h="audio/mp4";if(f&&(i=a=1/0),e.config&&s.length){if(e.timescale=e.samplerate,"mp3"===e.segmentCodec)u.mpeg?(h="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3");c.audio={id:"audio",container:h,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&u.mpeg?new Uint8Array(0):iT.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(o=e.inputTimeScale,d&&o===d.timescale?f=!1:i=a=s[0].pts-Math.round(o*n))}if(t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:iT.initSegment([t]),metadata:{width:t.width,height:t.height}},f))if(o=t.inputTimeScale,d&&o===d.timescale)f=!1;else{var p=this.getVideoStartPts(l),m=Math.round(o*n);a=Math.min(a,dT(l[0].dts,p)-m),i=Math.min(i,p-m)}if(Object.keys(c).length)return this.ISGenerated=!0,f?(this._initPTS={baseTime:i,timescale:o},this._initDTS={baseTime:a,timescale:o}):i=o=void 0,{tracks:c,initPTS:i,timescale:o}}},{key:"remuxVideo",value:function(e,t,n,r){var i,a,o=e.inputTimeScale,s=e.samples,l=[],u=s.length,c=this._initPTS,d=this.nextAvcDts,f=8,h=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=!1;n&&null!==d||(d=t*o-(s[0].pts-dT(s[0].dts,s[0].pts)));for(var v=c.baseTime*o/c.timescale,y=0;y<u;y++){var b=s[y];b.pts=dT(b.pts-v,d),b.dts=dT(b.dts-v,d),b.dts<s[y>0?y-1:y].dts&&(g=!0)}g&&s.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),i=s[0].dts;var k=(a=s[s.length-1].dts)-i,w=k?Math.round(k/(u-1)):h||e.inputTimeScale/30;if(n){var x=i-d,E=x>w,S=x<-1;if((E||S)&&(E?Xk.warn("AVC: ".concat(sT(x,!0)," ms (").concat(x,"dts) hole between fragments detected, filling it")):Xk.warn("AVC: ".concat(sT(-x,!0)," ms (").concat(x,"dts) overlapping between fragments detected")),!S||d>=s[0].pts)){i=d;var T=s[0].pts-x;s[0].dts=i,s[0].pts=T,Xk.log("Video: First PTS/DTS adjusted: ".concat(sT(T,!0),"/").concat(sT(i,!0),", delta: ").concat(sT(x,!0)," ms"))}}i=Math.max(0,i);for(var C=0,L=0,A=0;A<u;A++){for(var R=s[A],P=R.units,O=P.length,_=0,I=0;I<O;I++)_+=P[I].data.length;L+=_,C+=O,R.length=_,R.dts=Math.max(R.dts,i),p=Math.min(R.pts,p),m=Math.max(R.pts,m)}a=s[u-1].dts;var D,N=L+4*C+8;try{D=new Uint8Array(N)}catch(de){return void this.observer.emit(zk.ERROR,zk.ERROR,{type:Gk.MUX_ERROR,details:qk.REMUX_ALLOC_ERROR,fatal:!1,error:de,bytes:N,reason:"fail allocating video mdat ".concat(N)})}var M=new DataView(D.buffer);M.setUint32(0,N),D.set(iT.types.mdat,4);for(var F=!1,j=Number.POSITIVE_INFINITY,U=Number.POSITIVE_INFINITY,B=Number.NEGATIVE_INFINITY,V=Number.NEGATIVE_INFINITY,H=0;H<u;H++){for(var z=s[H],G=z.units,q=0,K=0,W=G.length;K<W;K++){var Y=G[K],$=Y.data,X=Y.data.byteLength;M.setUint32(f,X),f+=4,D.set($,f),f+=X,q+=4+X}var Q=void 0;if(H<u-1)h=s[H+1].dts-z.dts,Q=s[H+1].pts-z.pts;else{var Z=this.config,J=H>0?z.dts-s[H-1].dts:w;if(Q=H>0?z.pts-s[H-1].pts:w,Z.stretchShortVideoTrack&&null!==this.nextAudioPts){var ee=Math.floor(Z.maxBufferHole*o),te=(r?p+r*o:this.nextAudioPts)-z.pts;te>ee?((h=te-J)<0?h=J:F=!0,Xk.log("[mp4-remuxer]: It is approximately ".concat(te/90," ms to the next segment; using duration ").concat(h/90," ms for the last video frame."))):h=J}else h=J}var ne=Math.round(z.pts-z.dts);j=Math.min(j,h),B=Math.max(B,h),U=Math.min(U,Q),V=Math.max(V,Q),l.push(new mT(z.key,h,q,ne))}if(l.length)if(lT){if(lT<70){var re=l[0].flags;re.dependsOn=2,re.isNonSync=0}}else if(uT&&V-U<B-j&&w/B<.025&&0===l[0].cts){Xk.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var ie=i,ae=0,oe=l.length;ae<oe;ae++){var se=ie+l[ae].duration,le=ie+l[ae].cts;if(ae<oe-1){var ue=se+l[ae+1].cts;l[ae].duration=ue-le}else l[ae].duration=ae?l[ae-1].duration:w;l[ae].cts=0,ie=se}}h=F||!h?w:h,this.nextAvcDts=d=a+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;var ce={data1:iT.moof(e.sequenceNumber++,i,Vk({},e,{samples:l})),data2:D,startPTS:p/o,endPTS:(m+h)/o,startDTS:i/o,endDTS:d/o,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ce}},{key:"remuxAudio",value:function(e,t,n,r,i){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),s="aac"===e.segmentCodec?1024:1152,l=s*o,u=this._initPTS,c="mp3"===e.segmentCodec&&this.typeSupported.mpeg,d=[],f=void 0!==i,h=e.samples,p=c?0:8,m=this.nextAudioPts||-1,g=t*a,v=u.baseTime*a/u.timescale;if(this.isAudioContiguous=n=n||h.length&&m>0&&(r&&Math.abs(g-m)<9e3||Math.abs(dT(h[0].pts-v,g)-m)<20*l),h.forEach((function(e){e.pts=dT(e.pts-v,g)})),!n||m<0){if(h=h.filter((function(e){return e.pts>=0})),!h.length)return;m=0===i?0:r&&!f?Math.max(0,g):h[0].pts}if("aac"===e.segmentCodec)for(var y=this.config.maxAudioFramesDrift,b=0,k=m;b<h.length;b++){var w=h[b],x=w.pts,E=x-k,S=Math.abs(1e3*E/a);if(E<=-y*l&&f)0===b&&(Xk.warn("Audio frame @ ".concat((x/a).toFixed(3),"s overlaps nextAudioPts by ").concat(Math.round(1e3*E/a)," ms.")),this.nextAudioPts=m=k=x);else if(E>=y*l&&S<1e4&&f){var T=Math.round(E/l);(k=x-T*l)<0&&(T--,k+=l),0===b&&(this.nextAudioPts=m=k),Xk.warn("[mp4-remuxer]: Injecting ".concat(T," audio frame @ ").concat((k/a).toFixed(3),"s due to ").concat(Math.round(1e3*E/a)," ms gap."));for(var C=0;C<T;C++){var L=Math.max(k,0),A=nT.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);A||(Xk.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),A=w.unit.subarray()),h.splice(b,0,{unit:A,pts:L}),k+=l,b++}}w.pts=k,k+=l}for(var R,P=null,O=null,_=0,I=h.length;I--;)_+=h[I].unit.byteLength;for(var D=0,N=h.length;D<N;D++){var M=h[D],F=M.unit,j=M.pts;if(null!==O){d[D-1].duration=Math.round((j-O)/o)}else{if(n&&"aac"===e.segmentCodec&&(j=m),P=j,!(_>0))return;_+=p;try{R=new Uint8Array(_)}catch(K){return void this.observer.emit(zk.ERROR,zk.ERROR,{type:Gk.MUX_ERROR,details:qk.REMUX_ALLOC_ERROR,fatal:!1,error:K,bytes:_,reason:"fail allocating audio mdat ".concat(_)})}c||(new DataView(R.buffer).setUint32(0,_),R.set(iT.types.mdat,4))}R.set(F,p);var U=F.byteLength;p+=U,d.push(new mT(!0,s,U,0)),O=j}var B=d.length;if(B){var V=d[d.length-1];this.nextAudioPts=m=O+o*V.duration;var H=c?new Uint8Array(0):iT.moof(e.sequenceNumber++,P/o,Vk({},e,{samples:d}));e.samples=[];var z=P/a,G=m/a,q={data1:H,data2:R,startPTS:z,endPTS:G,startDTS:z,endDTS:G,type:"audio",hasAudio:!0,hasVideo:!1,nb:B};return this.isAudioContiguous=!0,q}}},{key:"remuxEmptyAudio",value:function(e,t,n,r){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),o=this.nextAudioPts,s=this._initDTS,l=9e4*s.baseTime/s.timescale,u=(null!==o?o:r.startDTS*i)+l,c=r.endDTS*i+l,d=1024*a,f=Math.ceil((c-u)/d),h=nT.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(Xk.warn("[mp4-remuxer]: remux empty Audio"),h){for(var p=[],m=0;m<f;m++){var g=u+m*d;p.push({unit:h,pts:g,dts:g})}return e.samples=p,this.remuxAudio(e,t,n,!1)}Xk.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")}}]),e}();function dT(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}function fT(e,t,n,r){var i=e.samples.length;if(i){for(var a=e.inputTimeScale,o=0;o<i;o++){var s=e.samples[o];s.pts=dT(s.pts-n.baseTime*a/n.timescale,t*a)/a,s.dts=dT(s.dts-r.baseTime*a/r.timescale,t*a)/a}var l=e.samples;return e.samples=[],{samples:l}}}function hT(e,t,n){var r=e.samples.length;if(r){for(var i=e.inputTimeScale,a=0;a<r;a++){var o=e.samples[a];o.pts=dT(o.pts-n.baseTime*i/n.timescale,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var pT,mT=g((function e(t,n,r,i){f(this,e),this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags=new gT(t)})),gT=g((function e(t){f(this,e),this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1})),vT=function(){function e(){f(this,e),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}return g(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this.initPTS=e,this.lastEndTime=null}},{key:"resetNextTimestamp",value:function(){this.lastEndTime=null}},{key:"resetInitSegment",value:function(e,t,n,r){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(function(e,t){if(!e||!t)return e;var n=t.keyId;return n&&t.isCommonEncryption&&$w(e,["moov","trak"]).forEach((function(e){var t=$w(e,["mdia","minf","stbl","stsd"])[0].subarray(8),r=$w(t,["enca"]),i=r.length>0;i||(r=$w(t,["encv"])),r.forEach((function(e){$w(i?e.subarray(28):e.subarray(78),["sinf"]).forEach((function(e){var t=Zw(e);if(t){var r=t.subarray(8,24);r.some((function(e){return 0!==e}))||(Xk.log("[eme] Patching keyId in 'enc".concat(i?"a":"v",">sinf>>tenc' box: ").concat(Bw(r)," -> ").concat(Bw(n))),t.set(n,8))}}))}))})),e}(e,r)),this.emitInitSegment=!0}},{key:"generateInitSegment",value:function(e){var t=this.audioCodec,n=this.videoCodec;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Qw(e);t||(t=yT(r.audio,rw)),n||(n=yT(r.video,iw));var i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:Xk.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}},{key:"remux",value:function(e,t,n,r,i,a){var o,s,l=this.initPTS,u=this.lastEndTime,c={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};Hk(u)||(u=this.lastEndTime=i||0);var d=t.samples;if(null==d||!d.length)return c;var f={initPTS:void 0,timescale:1},h=this.initData;if(null!=(o=h)&&o.length||(this.generateInitSegment(d),h=this.initData),null==(s=h)||!s.length)return Xk.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);var p=function(e,t){for(var n=0,r=0,i=0,a=$w(e,["moof","traf"]),o=0;o<a.length;o++){var s=a[o],l=$w(s,["tfhd"])[0],u=t[Kw(l,4)];if(u){var c=u.default,d=Kw(l,0)|(null==c?void 0:c.flags),f=null==c?void 0:c.duration;8&d&&(f=Kw(l,2&d?12:8));for(var h=u.timescale||9e4,p=$w(s,["trun"]),m=0;m<p.length;m++)!(n=Jw(p[m]))&&f&&(n=f*Kw(p[m],4)),u.type===iw?r+=n/h:u.type===rw&&(i+=n/h)}}if(0===r&&0===i){for(var g=0,v=$w(e,["sidx"]),y=0;y<v.length;y++){var b=Xw(v[y]);null!=b&&b.references&&(g+=b.references.reduce((function(e,t){return e+t.info.duration||0}),0))}return g}return r||i}(d,h),m=function(e,t){return $w(t,["moof","traf"]).reduce((function(t,n){var r=$w(n,["tfdt"])[0],i=r[0],a=$w(n,["tfhd"]).reduce((function(t,n){var a=Kw(n,4),o=e[a];if(o){var s=Kw(r,4);if(1===i){if(s===Vw)return Xk.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;s*=Vw+1,s+=Kw(r,8)}var l=s/(o.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)}(h,d),g=null===m?i:m;(function(e,t,n,r){if(null===e)return!0;var i=Math.max(r,1),a=t-e.baseTime/e.timescale;return Math.abs(a-n)>i}(l,g,i,p)||f.timescale!==l.timescale&&a)&&(f.initPTS=g-i,l&&1===l.timescale&&Xk.warn("Adjusting initPTS by ".concat(f.initPTS-l.baseTime)),this.initPTS=l={baseTime:f.initPTS,timescale:1});var v=e?g-l.baseTime/l.timescale:u,y=v+p;!function(e,t,n){$w(t,["moof","traf"]).forEach((function(t){$w(t,["tfhd"]).forEach((function(r){var i=Kw(r,4),a=e[i];if(a){var o=a.timescale||9e4;$w(t,["tfdt"]).forEach((function(e){var t=e[0],r=Kw(e,4);if(0===t)r-=n*o,Yw(e,4,r=Math.max(r,0));else{r*=Math.pow(2,32),r+=Kw(e,8),r-=n*o,r=Math.max(r,0);var i=Math.floor(r/(Vw+1)),a=Math.floor(r%(Vw+1));Yw(e,4,i),Yw(e,8,a)}}))}}))}))}(h,d,l.baseTime/l.timescale),p>0?this.lastEndTime=y:(Xk.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!h.audio,k=!!h.video,w="";b&&(w+="audio"),k&&(w+="video");var x={data1:d,startPTS:v,startDTS:v,endPTS:y,endDTS:y,type:w,hasAudio:b,hasVideo:k,nb:1,dropped:0};return c.audio="audio"===x.type?x:void 0,c.video="audio"!==x.type?x:void 0,c.initSegment=f,c.id3=fT(n,i,l,l),r.samples.length&&(c.text=hT(r,i,l)),c}}]),e}();function yT(e,t){var n=null==e?void 0:e.codec;return n&&n.length>4?n:"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||t===iw?"avc1.42e01e":"mp4a.40.5"}try{pT=self.performance.now.bind(self.performance)}catch(wP){Xk.debug("Unable to use Performance API on this environment"),pT="undefined"!==typeof self&&self.Date.now}var bT=[{demux:DS,remux:vT},{demux:YS,remux:cT},{demux:_S,remux:cT},{demux:tT,remux:cT}],kT=function(){function e(t,n,r,i,a){f(this,e),this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=n,this.config=r,this.vendor=i,this.id=a}return g(e,[{key:"configure",value:function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}},{key:"push",value:function(e,t,n,r){var i=this,a=n.transmuxing;a.executeStart=pT();var o=new Uint8Array(e),s=this.currentTransmuxState,l=this.transmuxConfig;r&&(this.currentTransmuxState=r);var u=r||s,c=u.contiguous,d=u.discontinuity,f=u.trackSwitch,h=u.accurateTimeOffset,p=u.timeOffset,m=u.initSegmentChange,g=l.audioCodec,v=l.videoCodec,y=l.defaultInitPts,b=l.duration,k=l.initSegmentData,w=function(e,t){var n=null;e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(n=t);return n}(o,t);if(w&&"AES-128"===w.method){var x=this.getDecrypter();if(!x.isSync())return this.decryptionPromise=x.webCryptoDecrypt(o,w.key.buffer,w.iv.buffer).then((function(e){var t=i.push(e,null,n);return i.decryptionPromise=null,t})),this.decryptionPromise;var E=x.softwareDecrypt(o,w.key.buffer,w.iv.buffer);if(n.part>-1&&(E=x.flush()),!E)return a.executeEnd=pT(),wT(n);o=new Uint8Array(E)}var S=this.needsProbing(d,f);if(S){var T=this.configureTransmuxer(o);if(T)return Xk.warn("[transmuxer] ".concat(T.message)),this.observer.emit(zk.ERROR,zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_PARSING_ERROR,fatal:!1,error:T,reason:T.message}),a.executeEnd=pT(),wT(n)}(d||f||m||S)&&this.resetInitSegment(k,g,v,b,t),(d||m||S)&&this.resetInitialTimestamp(y),c||this.resetContiguity();var C=this.transmux(o,w,p,h,n),L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,a.executeEnd=pT(),C}},{key:"flush",value:function(e){var t=this,n=e.transmuxing;n.executeStart=pT();var r=this.decrypter,i=this.currentTransmuxState,a=this.decryptionPromise;if(a)return a.then((function(){return t.flush(e)}));var o=[],s=i.timeOffset;if(r){var l=r.flush();l&&o.push(this.push(l,null,e))}var u=this.demuxer,c=this.remuxer;if(!u||!c)return n.executeEnd=pT(),[wT(e)];var d=u.flush(s);return xT(d)?d.then((function(n){return t.flushRemux(o,n,e),o})):(this.flushRemux(o,d,e),o)}},{key:"flushRemux",value:function(e,t,n){var r=t.audioTrack,i=t.videoTrack,a=t.id3Track,o=t.textTrack,s=this.currentTransmuxState,l=s.accurateTimeOffset,u=s.timeOffset;Xk.log("[transmuxer.ts]: Flushed fragment ".concat(n.sn).concat(n.part>-1?" p: "+n.part:""," of level ").concat(n.level));var c=this.remuxer.remux(r,i,a,o,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=pT()}},{key:"resetInitialTimestamp",value:function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))}},{key:"resetContiguity",value:function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}},{key:"resetInitSegment",value:function(e,t,n,r,i){var a=this.demuxer,o=this.remuxer;a&&o&&(a.resetInitSegment(e,t,n,r),o.resetInitSegment(e,t,n,i))}},{key:"destroy",value:function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}},{key:"transmux",value:function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)}},{key:"transmuxUnencrypted",value:function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,o=i.videoTrack,s=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,o,s,l,t,n,!1,this.id),chunkMeta:r}}},{key:"transmuxSampleAes",value:function(e,t,n,r,i){var a=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,n,r,!1,a.id),chunkMeta:i}}))}},{key:"configureTransmuxer",value:function(e){for(var t,n=this.config,r=this.observer,i=this.typeSupported,a=this.vendor,o=0,s=bT.length;o<s;o++)if(bT[o].demux.probe(e)){t=bT[o];break}if(!t)return new Error("Failed to find demuxer by probing fragment data");var l=this.demuxer,u=this.remuxer,c=t.remux,d=t.demux;u&&u instanceof c||(this.remuxer=new c(r,n,i,a)),l&&l instanceof d||(this.demuxer=new d(r,n,i),this.probe=d.probe)}},{key:"needsProbing",value:function(e,t){return!this.demuxer||!this.remuxer||e||t}},{key:"getDecrypter",value:function(){var e=this.decrypter;return e||(e=this.decrypter=new aS(this.config)),e}}]),e}();var wT=function(e){return{remuxResult:{},chunkMeta:e}};function xT(e){return"then"in e&&e.then instanceof Function}var ET=g((function e(t,n,r,i,a){f(this,e),this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=a||null})),ST=g((function e(t,n,r,i,a,o){f(this,e),this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=o})),TT={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(TT);var CT=Nk(TT.exports),LT=px()||{isTypeSupported:function(){return!1}},AT=function(){function e(t,n,r,i){var a=this;f(this,e),this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var o=t.config;this.hls=t,this.id=n,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;var s=function(e,t){(t=t||{}).frag=a.frag,t.id=a.id,e===zk.ERROR&&(a.error=t.error),a.hls.trigger(e,t)};this.observer=new CT,this.observer.on(zk.FRAG_DECRYPTED,s),this.observer.on(zk.ERROR,s);var l={mp4:LT.isTypeSupported("video/mp4"),mpeg:LT.isTypeSupported("audio/mpeg"),mp3:LT.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker&&(o.workerPath||"function"===typeof __HLS_WORKER_BUNDLE__)){try{o.workerPath?(Xk.log("loading Web Worker ".concat(o.workerPath,' for "').concat(n,'"')),this.workerContext=function(e){var t=new self.URL(e,self.location.href).href;return{worker:new self.Worker(t),scriptURL:t}}(o.workerPath)):(Xk.log('injecting Web Worker for "'.concat(n,'"')),this.workerContext=function(){var e=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(".concat(__HLS_WORKER_BUNDLE__.toString(),")(true);")],{type:"text/javascript"}),t=self.URL.createObjectURL(e);return{worker:new self.Worker(t),objectURL:t}}()),this.onwmsg=function(e){return a.onWorkerMessage(e)};var c=this.workerContext.worker;c.addEventListener("message",this.onwmsg),c.onerror=function(e){var t=new Error("".concat(e.message,"  (").concat(e.filename,":").concat(e.lineno,")"));o.enableWorker=!1,Xk.warn('Error in "'.concat(n,'" Web Worker, fallback to inline')),a.hls.trigger(zk.ERROR,{type:Gk.OTHER_ERROR,details:qk.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:t})},c.postMessage({cmd:"init",typeSupported:l,vendor:u,id:n,config:JSON.stringify(o)})}catch(wP){Xk.warn('Error setting up "'.concat(n,'" Web Worker, fallback to inline'),wP),this.resetWorker(),this.error=null,this.transmuxer=new kT(this.observer,l,o,u,n)}return}this.transmuxer=new kT(this.observer,l,o,u,n)}return g(e,[{key:"resetWorker",value:function(){if(this.workerContext){var e=this.workerContext,t=e.worker,n=e.objectURL;n&&self.URL.revokeObjectURL(n),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}},{key:"destroy",value:function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}},{key:"push",value:function(e,t,n,r,i,a,o,s,l,u){var c,d,f=this;l.transmuxing.start=self.performance.now();var h=this.transmuxer,p=a?a.start:i.start,m=i.decryptdata,g=this.frag,v=!(g&&i.cc===g.cc),y=!(g&&l.level===g.level),b=g?l.sn-g.sn:-1,k=this.part?l.part-this.part.index:-1,w=0===b&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),x=!y&&(1===b||0===b&&(1===k||w&&k<=0)),E=self.performance.now();(y||b||0===i.stats.parsing.start)&&(i.stats.parsing.start=E),!a||!k&&x||(a.stats.parsing.start=E);var S=!(g&&(null==(c=i.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),T=new ST(v,x,s,y,p,S);if(!x||v||S){Xk.log("[transmuxer-interface, ".concat(i.type,"]: Starting new transmux session for sn: ").concat(l.sn," p: ").concat(l.part," level: ").concat(l.level," id: ").concat(l.id,"\n        discontinuity: ").concat(v,"\n        trackSwitch: ").concat(y,"\n        contiguous: ").concat(x,"\n        accurateTimeOffset: ").concat(s,"\n        timeOffset: ").concat(p,"\n        initSegmentChange: ").concat(S));var C=new ET(n,r,t,o,u);this.configureTransmuxer(C)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:l,state:T},e instanceof ArrayBuffer?[e]:[]);else if(h){var L=h.push(e,m,l,T);xT(L)?(h.async=!0,L.then((function(e){f.handleTransmuxComplete(e)})).catch((function(e){f.transmuxerError(e,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(L))}}},{key:"flush",value:function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){var r=n.flush(e);xT(r)||n.async?(xT(r)||(r=Promise.resolve(r)),r.then((function(n){t.handleFlushResult(n,e)})).catch((function(n){t.transmuxerError(n,e,"transmuxer-interface flush error")}))):this.handleFlushResult(r,e)}}},{key:"transmuxerError",value:function(e,t,n){this.hls&&(this.error=e,this.hls.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:n}))}},{key:"handleFlushResult",value:function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)}},{key:"onWorkerMessage",value:function(e){var t=e.data,n=this.hls;switch(t.event){case"init":var r,i=null==(r=this.workerContext)?void 0:r.objectURL;i&&self.URL.revokeObjectURL(i);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":Xk[t.data.logType]&&Xk[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}}},{key:"configureTransmuxer",value:function(e){var t=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}},{key:"handleTransmuxComplete",value:function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}]),e}(),RT=function(){function e(t,n,r,i){f(this,e),this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=n,this.fragmentTracker=r,this.hls=i}return g(e,[{key:"destroy",value:function(){this.media=null,this.hls=this.fragmentTracker=null}},{key:"poll",value:function(e,t){var n=this.config,r=this.media,i=this.stalled;if(null!==r){var a=r.currentTime,o=r.seeking,s=this.seeking&&!o,l=!this.seeking&&o;if(this.seeking=o,a===e){if(l||s)this.stalled=null;else if(!(r.paused&&!o||r.ended||0===r.playbackRate)&&$E.getBuffered(r).length){var u=$E.bufferInfo(r,a,0),c=u.len>0,d=u.nextStart||0;if(c||d){if(o){var f=u.len>2,h=!d||t&&t.start<=a||d-a>2&&!this.fragmentTracker.getPartialFragment(a);if(f||h)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,m=Math.max(d,u.start||0)-a,g=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,v=(null==g||null==(p=g.details)?void 0:p.live)?2*g.details.targetduration:2,y=this.fragmentTracker.getPartialFragment(a);if(m>0&&(m<=v||y))return void this._trySkipBufferHole(y)}var b=self.performance.now();if(null!==i){var k=b-i;if(o||!(k>=250)||(this._reportStall(u),this.media)){var w=$E.bufferInfo(r,a,n.maxBufferHole);this._tryFixBufferStall(w,k)}}else this.stalled=b}}}else if(this.moved=!0,null!==i){if(this.stallReported){var x=self.performance.now()-i;Xk.warn("playback not stuck anymore @".concat(a,", after ").concat(Math.round(x),"ms")),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}}},{key:"_tryFixBufferStall",value:function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media;if(null!==i){var a=i.currentTime,o=r.getPartialFragment(a);if(o)if(this._trySkipBufferHole(o)||!this.media)return;(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-a<n.maxBufferHole)&&t>1e3*n.highBufferWatchdogPeriod&&(Xk.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}}},{key:"_reportStall",value:function(e){var t=this.hls,n=this.media;if(!this.stallReported&&n){this.stallReported=!0;var r=new Error("Playback stalling at @".concat(n.currentTime," due to low buffer (").concat(JSON.stringify(e),")"));Xk.warn(r.message),t.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:e.len})}}},{key:"_trySkipBufferHole",value:function(e){var t=this.config,n=this.hls,r=this.media;if(null===r)return 0;var i=r.currentTime,a=$E.bufferInfo(r,i,0),o=i<a.start?a.start:a.nextStart;if(o){var s=a.len<=t.maxBufferHole,l=a.len>0&&a.len<1&&r.readyState<3,u=o-i;if(u>0&&(s||l)){if(u>t.maxBufferHole){var c=this.fragmentTracker,d=!1;if(0===i){var f=c.getAppendedFrag(0,Nx);f&&o<f.end&&(d=!0)}if(!d){var h=e||c.getAppendedFrag(i,Nx);if(h){for(var p=!1,m=h.end;m<o;){var g=c.getPartialFragment(m);if(!g){p=!0;break}m+=g.duration}if(p)return 0}}}var v=Math.max(o+.05,i+.1);if(Xk.warn("skipping hole, adjusting currentTime from ".concat(i," to ").concat(v)),this.moved=!0,this.stalled=null,r.currentTime=v,e&&!e.gap){var y=new Error("fragment loaded with buffer holes, seeking from ".concat(i," to ").concat(v));n.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:e})}return v}}return 0}},{key:"_tryNudgeBuffer",value:function(){var e=this.config,t=this.hls,n=this.media,r=this.nudgeRetry;if(null!==n){var i=n.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){var a=i+(r+1)*e.nudgeOffset,o=new Error("Nudging 'currentTime' from ".concat(i," to ").concat(a));Xk.warn(o.message),n.currentTime=a,t.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{var s=new Error("Playhead still not moving while enough data buffered @".concat(i," after ").concat(e.nudgeMaxRetry," nudges"));Xk.error(s.message),t.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}}]),e}(),PT=function(e){y(n,e);var t=E(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i,"[stream-controller]",Nx)).audioCodecSwap=!1,a.gapController=null,a.level=-1,a._forceStartLoad=!1,a.altAudio=!1,a.audioOnly=!1,a.fragPlaying=null,a.onvplaying=null,a.onvseeked=null,a.fragLastKbps=0,a.couldBacktrack=!1,a.backtrackFragment=null,a.audioCodecSwitch=!1,a.videoBuffer=null,a._registerListeners(),a}return g(n,[{key:"_registerListeners",value:function(){var e=this.hls;e.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.on(zk.LEVEL_LOADING,this.onLevelLoading,this),e.on(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.on(zk.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(zk.ERROR,this.onError,this),e.on(zk.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(zk.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(zk.BUFFER_CREATED,this.onBufferCreated,this),e.on(zk.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(zk.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(zk.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.off(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.off(zk.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(zk.ERROR,this.onError,this),e.off(zk.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(zk.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(zk.BUFFER_CREATED,this.onBufferCreated,this),e.off(zk.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(zk.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(zk.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.onMediaDetaching()}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth&&this.levels.length>1?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t),this.state=lS,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=sS}},{key:"stopLoad",value:function(){this._forceStartLoad=!1,Sp(b(n.prototype),"stopLoad",this).call(this)}},{key:"doTick",value:function(){switch(this.state){case yS:var e,t=this.levels,n=this.level,r=null==t||null==(e=t[n])?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=lS;break}if(this.hls.nextLoadLevel!==this.level){this.state=lS;break}break;case dS:var i,a=self.performance.now(),o=this.retryDate;(!o||a>=o||null!=(i=this.media)&&i.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=lS)}this.state===lS&&this.doTickIdle(),this.onTickEnd()}},{key:"onTickEnd",value:function(){Sp(b(n.prototype),"onTickEnd",this).call(this),this.checkBuffer(),this.checkFragmentChanged()}},{key:"doTickIdle",value:function(){var e=this.hls,t=this.levelLastLoaded,n=this.levels,r=this.media,i=e.config,a=e.nextLoadLevel;if(null!==t&&(r||!this.startFragRequested&&i.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=n&&n[a]){var o=n[a],s=this.getMainFwdBufferInfo();if(null!==s){var l=this.getLevelDetails();if(l&&this._streamEnded(s,l)){var u={};return this.altAudio&&(u.type="video"),this.hls.trigger(zk.BUFFER_EOS,u),void(this.state=mS)}e.loadLevel!==a&&-1===e.manualLevel&&this.log("Adapting to level ".concat(a," from level ").concat(this.level)),this.level=e.nextLoadLevel=a;var c=o.details;if(!c||this.state===yS||c.live&&this.levelLastLoaded!==a)return this.level=a,void(this.state=yS);var d=s.len,f=this.getMaxBufferLength(o.maxBitrate);if(!(d>=f)){this.backtrackFragment&&this.backtrackFragment.start>s.end&&(this.backtrackFragment=null);var h=this.backtrackFragment?this.backtrackFragment.start:s.end,p=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==FE){var m,g=(null!=(m=this.backtrackFragment)?m:p).sn-c.startSN,v=c.fragments[g-1];v&&p.cc===v.cc&&(p=v,this.fragmentTracker.removeFragment(v))}else this.backtrackFragment&&s.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){if(!p.gap){var y=this.audioOnly&&!this.altAudio?rw:iw,b=(y===iw?this.videoBuffer:this.mediaBuffer)||this.media;b&&this.afterBufferFlushed(b,y,Nx)}p=this.getNextFragmentLoopLoading(p,c,s,Nx,f)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,o,h))}}}}},{key:"loadFragment",value:function(e,t,r){var i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===DE||i===ME?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log("Fragment ".concat(e.sn," of level ").concat(e.level," is being downloaded to test bitrate and will not be buffered")),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,Sp(b(n.prototype),"loadFragment",this).call(this,e,t,r)):this.clearTrackerIfNeeded(e)}},{key:"getBufferedFrag",value:function(e){return this.fragmentTracker.getBufferedFrag(e,Nx)}},{key:"followingBufferedFrag",value:function(e){return e?this.getBufferedFrag(e.end+.5):null}},{key:"immediateLevelSwitch",value:function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"nextLevelSwitch",value:function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);var i=this.getLevelDetails();if(null!=i&&i.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*i.targetduration)return}if(!t.paused&&e){var o=e[this.hls.nextLoadLevel],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*o.maxBitrate/(1e3*s)+1:0}else n=0;var l=this.getBufferedFrag(t.currentTime+n);if(l){var u=this.followingBufferedFrag(l);if(u){this.abortCurrentFrag();var c=u.maxStartPTS?u.maxStartPTS:u.start,d=u.duration,f=Math.max(l.end,c+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,.5*d),.75*d));this.flushMainBuffer(f,Number.POSITIVE_INFINITY)}}}}},{key:"abortCurrentFrag",value:function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case uS:case cS:case dS:case hS:case pS:this.state=lS}this.nextLoadPosition=this.getLoadPosition()}},{key:"flushMainBuffer",value:function(e,t){Sp(b(n.prototype),"flushMainBuffer",this).call(this,e,t,this.altAudio?"video":null)}},{key:"onMediaAttached",value:function(e,t){Sp(b(n.prototype),"onMediaAttached",this).call(this,e,t);var r=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new RT(this.config,r,this.fragmentTracker,this.hls)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),Sp(b(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onMediaPlaying",value:function(){this.tick()}},{key:"onMediaSeeked",value:function(){var e=this.media,t=e?e.currentTime:null;Hk(t)&&this.log("Media seeked to ".concat(t.toFixed(3)));var n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn('Main forward buffer length on "seeked" event '.concat(n?n.len:"empty",")"))}},{key:"onManifestLoading",value:function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(zk.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}},{key:"onManifestParsed",value:function(e,t){var n,r=!1,i=!1;t.levels.forEach((function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i&&!function(){var e,t=kS();return"function"===typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}},{key:"onLevelLoading",value:function(e,t){var n=this.levels;if(n&&this.state===lS){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=yS)}}},{key:"onLevelLoaded",value:function(e,t){var n,r=this.levels,i=t.level,a=t.details,o=a.totalduration;if(r){this.log("Level ".concat(i," loaded [").concat(a.startSN,",").concat(a.endSN,"]").concat(a.lastPartSn?"[part-".concat(a.lastPartSn,"-").concat(a.lastPartIndex,"]"):"",", cc [").concat(a.startCC,", ").concat(a.endCC,"] duration:").concat(o));var s=r[i],l=this.fragCurrent;!l||this.state!==cS&&this.state!==dS||l.level===t.level&&l.urlId===s.urlId||!l.loader||this.abortCurrentFrag();var u=0;if(a.live||null!=(n=s.details)&&n.live){if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,s.details)}if(s.details=a,this.levelLastLoaded=i,this.hls.trigger(zk.LEVEL_UPDATED,{details:a,level:i}),this.state===yS){if(this.waitForCdnTuneIn(a))return;this.state=lS}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}else this.warn("Levels were reset while loading level ".concat(i))}},{key:"_handleFragmentLoadProgress",value:function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.levels;if(a){var o=a[n.level],s=o.details;if(!s)return this.warn("Dropping fragment ".concat(n.sn," of level ").concat(n.level," after level details were reset")),void this.fragmentTracker.removeFragment(n);var l=o.videoCodec,u=s.PTSKnown||!s.live,c=null==(t=n.initSegment)?void 0:t.data,d=this._getAudioCodec(o),f=this.transmuxer=this.transmuxer||new AT(this.hls,Nx,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=r?r.index:-1,p=-1!==h,m=new XE(n.level,n.sn,n.stats.chunkCount,i.byteLength,h,p),g=this.initPTS[n.cc];f.push(i,c,d,l,n,r,s.totalduration,u,m,g)}else this.warn("Levels were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"))}},{key:"onAudioTrackSwitching",value:function(e,t){var n=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r&&(this.log("Switching to main audio track, cancel main fragment load"),r.abortRequests(),this.fragmentTracker.removeFragment(r)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var i=this.hls;n&&(i.trigger(zk.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),i.trigger(zk.AUDIO_TRACK_SWITCHED,t)}}},{key:"onAudioTrackSwitched",value:function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()}},{key:"onBufferCreated",value:function(e,t){var n,r,i=t.tracks,a=!1;for(var o in i){var s=i[o];if("main"===s.id){if(r=o,n=s,"video"===o){var l=i[o];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&n?(this.log("Alternate track found, use ".concat(r,".buffered to schedule main fragment loading")),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onFragBuffered",value:function(e,t){var n=t.frag,r=t.part;if(!n||n.type===Nx){if(this.fragContextChanged(n))return this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state)),void(this.state===pS&&(this.state=lS));var i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}}},{key:"onError",value:function(e,t){var n;if(t.fatal)this.state=gS;else switch(t.details){case qk.FRAG_GAP:case qk.FRAG_PARSING_ERROR:case qk.FRAG_DECRYPT_ERROR:case qk.FRAG_LOAD_ERROR:case qk.FRAG_LOAD_TIMEOUT:case qk.KEY_LOAD_ERROR:case qk.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Nx,t);break;case qk.LEVEL_LOAD_ERROR:case qk.LEVEL_LOAD_TIMEOUT:case qk.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==yS||(null==(n=t.context)?void 0:n.type)!==_x||(this.state=lS);break;case qk.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case qk.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}},{key:"checkBuffer",value:function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!$E.getBuffered(e).length){var n=this.state!==lS?this.fragCurrent:null;t.poll(this.lastCurrentTime,n)}this.lastCurrentTime=e.currentTime}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=lS,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}},{key:"onBufferFlushed",value:function(e,t){var n=t.type;if(n!==rw||this.audioOnly&&!this.altAudio){var r=(n===iw?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,Nx)}}},{key:"onLevelsUpdated",value:function(e,t){this.levels=t.levels}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"seekToStartPos",value:function(){var e=this.media;if(e){var t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void this.log("could not seek to ".concat(n,", already seeking at ").concat(t));var r=$E.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by ".concat(i," to match buffer start")),n+=i,this.startPosition=n),this.log("seek to target start position ".concat(n," from current time ").concat(t)),e.currentTime=n}}}},{key:"_getAudioCodec",value:function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}},{key:"_loadBitrateTestFrag",value:function(e,t){var n=this;e.bitrateTest=!0,this._doFragLoad(e,t).then((function(r){var i=n.hls;if(r&&!n.fragContextChanged(e)){t.fragmentError=0,n.state=lS,n.startFragRequested=!1,n.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(zk.FRAG_LOADED,r),e.bitrateTest=!1}}))}},{key:"_handleTransmuxComplete",value:function(e){var t,n="main",r=this.hls,i=e.remuxResult,a=e.chunkMeta,o=this.getCurrentContext(a);if(o){var s=o.frag,l=o.part,u=o.level,c=i.video,d=i.text,f=i.id3,h=i.initSegment,p=u.details,m=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=hS,h){if(null!=h&&h.tracks){var g=s.initSegment||s;this._bufferInitSegment(u,h.tracks,g,a),r.trigger(zk.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:n,tracks:h.tracks})}var v=h.initPTS,y=h.timescale;Hk(v)&&(this.initPTS[s.cc]={baseTime:v,timescale:y},r.trigger(zk.INIT_PTS_FOUND,{frag:s,id:n,initPTS:v,timescale:y}))}if(c&&p&&"initSegment"!==s.sn){var b=p.fragments[s.sn-1-p.startSN],k=s.sn===p.startSN,w=!b||s.cc>b.cc;if(!1!==i.independent){var x=c.startPTS,E=c.endPTS,S=c.startDTS,T=c.endDTS;if(l)l.elementaryStreams[c.type]={startPTS:x,endPTS:E,startDTS:S,endDTS:T};else if(c.firstKeyFrame&&c.independent&&1===a.id&&!w&&(this.couldBacktrack=!0),c.dropped&&c.independent){var C=this.getMainFwdBufferInfo(),L=(C?C.end:this.getLoadPosition())+this.config.maxBufferHole,A=c.firstKeyFramePTS?c.firstKeyFramePTS:x;if(!k&&L<A-this.config.maxBufferHole&&!w)return void this.backtrack(s);w&&(s.gap=!0),s.setElementaryStreamInfo(c.type,s.start,E,s.start,T,!0)}s.setElementaryStreamInfo(c.type,x,E,S,T),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(c,s,l,a,k||w)}else{if(!k&&!w)return void this.backtrack(s);s.gap=!0}}if(m){var R=m.startPTS,P=m.endPTS,O=m.startDTS,_=m.endDTS;l&&(l.elementaryStreams[rw]={startPTS:R,endPTS:P,startDTS:O,endDTS:_}),s.setElementaryStreamInfo(rw,R,P,O,_),this.bufferFragmentData(m,s,l,a)}if(p&&null!=f&&null!=(t=f.samples)&&t.length){var I={id:n,frag:s,details:p,samples:f.samples};r.trigger(zk.FRAG_PARSING_METADATA,I)}if(p&&d){var D={id:n,frag:s,details:p,samples:d.samples};r.trigger(zk.FRAG_PARSING_USERDATA,D)}}}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(e,t,n,r){var i=this;if(this.state===hS){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var a=t.audio,o=t.video,s=t.audiovideo;if(a){var l=e.audioCodec,u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===u.indexOf("firefox")&&(l="mp4a.40.5")),-1!==u.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to ".concat(l))),e.audioCodec&&e.audioCodec!==l&&this.log('Swapping manifest audio codec "'.concat(e.audioCodec,'" for "').concat(l,'"')),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:".concat(a.container,", codecs[selected/level/parsed]=[").concat(l||"","/").concat(e.audioCodec||"","/").concat(a.codec,"]"))}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log("Init video buffer, container:".concat(o.container,", codecs[level/parsed]=[").concat(e.videoCodec||"","/").concat(o.codec,"]"))),s&&this.log("Init audiovideo buffer, container:".concat(s.container,", codecs[level/parsed]=[").concat(e.attrs.CODECS||"","/").concat(s.codec,"]")),this.hls.trigger(zk.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var a=t[e].initSegment;null!=a&&a.byteLength&&i.hls.trigger(zk.BUFFER_APPENDING,{type:e,data:a,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}}},{key:"getMainFwdBufferInfo",value:function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Nx)}},{key:"backtrack",value:function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=lS}},{key:"checkFragmentChanged",value:function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if($E.isBuffered(e,n)?t=this.getAppendedFrag(n):$E.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i&&t.urlId===r.urlId||(this.fragPlaying=t,this.hls.trigger(zk.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(zk.LEVEL_SWITCHED,{level:i}))}}}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,n=this.currentFrag;if(n&&Hk(t)&&Hk(n.programDateTime)){var r=n.programDateTime+1e3*(t-n.start);return new Date(r)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),n}(bS),OT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;f(this,e),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=n,this.totalWeight_=r}return g(e,[{key:"sample",value:function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}]),e}(),_T=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;f(this,e),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new OT(t),this.fast_=new OT(n),this.defaultTTFB_=i,this.ttfb_=new OT(t)}return g(e,[{key:"update",value:function(e,t){var n=this.slow_,r=this.fast_,i=this.ttfb_;n.halfLife!==e&&(this.slow_=new OT(e,n.getEstimate(),n.getTotalWeight())),r.halfLife!==t&&(this.fast_=new OT(t,r.getEstimate(),r.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new OT(e,i.getEstimate(),i.getTotalWeight()))}},{key:"sample",value:function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}},{key:"sampleTTFB",value:function(e){var t=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(n,Math.max(e,5))}},{key:"canEstimate",value:function(){return this.fast_.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"getEstimateTTFB",value:function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}},{key:"destroy",value:function(){}}]),e}(),IT=function(){function e(t){f(this,e),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var n=t.config;this.bwEstimator=new _T(n.abrEwmaSlowVoD,n.abrEwmaFastVoD,n.abrEwmaDefaultEstimate),this.registerListeners()}return g(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.FRAG_LOADING,this.onFragLoading,this),e.on(zk.FRAG_LOADED,this.onFragLoaded,this),e.on(zk.FRAG_BUFFERED,this.onFragBuffered,this),e.on(zk.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(zk.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(zk.FRAG_LOADING,this.onFragLoading,this),e.off(zk.FRAG_LOADED,this.onFragLoaded,this),e.off(zk.FRAG_BUFFERED,this.onFragBuffered,this),e.off(zk.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(zk.LEVEL_LOADED,this.onLevelLoaded,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}},{key:"onFragLoading",value:function(e,t){var n,r=t.frag;this.ignoreFragment(r)||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}},{key:"onLevelSwitching",value:function(e,t){this.clearTimer()}},{key:"getTimeToLoadFrag",value:function(e,t,n,r){return e+n/t+(r?this.lastLevelLoadSec:0)}},{key:"onLevelLoaded",value:function(e,t){var n=this.hls.config,r=t.stats,i=r.total,a=r.bwEstimate;Hk(i)&&Hk(a)&&(this.lastLevelLoadSec=8*i/a),t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}},{key:"_abandonRulesCheck",value:function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.autoLevelEnabled,i=n.media;if(e&&i){var a=performance.now(),o=t?t.stats:e.stats,s=t?t.duration:e.duration,l=a-o.loading.start;if(o.aborted||o.loaded&&o.loaded===o.total||0===e.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(r&&!i.paused&&i.playbackRate&&i.readyState){var u=n.mainForwardBufferInfo;if(null!==u){var c=this.bwEstimator.getEstimateTTFB(),d=Math.abs(i.playbackRate);if(!(l<=Math.max(c,s/(2*d)*1e3))){var f=u.len/d;if(!(f>=2*s/d)){var h=o.loading.first?o.loading.first-o.loading.start:-1,p=o.loaded&&h>-1,m=this.bwEstimator.getEstimate(),g=n.levels,v=n.minAutoLevel,y=g[e.level],b=o.total||Math.max(o.loaded,Math.round(s*y.maxBitrate/8)),k=l-h;k<1&&p&&(k=Math.min(l,8*o.loaded/m));var w=p?1e3*o.loaded/k:0,x=w?(b-o.loaded)/w:8*b/m+c/1e3;if(!(x<=f)){var E,S=w?8*w:m,T=Number.POSITIVE_INFINITY;for(E=e.level-1;E>v;E--){var C=g[E].maxBitrate;if((T=this.getTimeToLoadFrag(c/1e3,S,s*C,!g[E].details))<f)break}T>=x||T>10*s||(n.nextLoadLevel=E,p?this.bwEstimator.sample(l-Math.min(c,h),o.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),Xk.warn("[abr] Fragment ".concat(e.sn).concat(t?" part "+t.index:""," of level ").concat(e.level," is loading too slowly;\n      Time to underbuffer: ").concat(f.toFixed(3)," s\n      Estimated load time for current fragment: ").concat(x.toFixed(3)," s\n      Estimated load time for down switch fragment: ").concat(T.toFixed(3)," s\n      TTFB estimate: ").concat(h,"\n      Current BW estimate: ").concat(Hk(m)?(m/1024).toFixed(3):"Unknown"," Kb/s\n      New BW estimate: ").concat((this.bwEstimator.getEstimate()/1024).toFixed(3)," Kb/s\n      Aborting and switching to level ").concat(E)),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),n.trigger(zk.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:o}))}}}}}}}},{key:"onFragLoaded",value:function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(n.type===Nx&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var a=r?r.duration:n.duration,o=this.hls.levels[n.level],s=(o.loaded?o.loaded.bytes:0)+i.loaded,l=(o.loaded?o.loaded.duration:0)+a;o.loaded={bytes:s,duration:l},o.realBitrate=Math.round(8*s/l)}if(n.bitrateTest){var u={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(zk.FRAG_BUFFERED,u),n.bitrateTest=!1}}}},{key:"onFragBuffered",value:function(e,t){var n=t.frag,r=t.part,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(!i.aborted&&!this.ignoreFragment(n)){var a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}}},{key:"ignoreFragment",value:function(e){return e.type!==Nx||"initSegment"===e.sn}},{key:"clearTimer",value:function(){self.clearInterval(this.timer)}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&!t.canEstimate())return e;var n=this.getNextABRAutoLevel();if(-1!==e){var r=this.hls.levels;if(r.length>Math.max(e,n)&&r[e].loadError<=r[n].loadError)return e}return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}},{key:"getNextABRAutoLevel",value:function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,a=n.minAutoLevel,o=n.media,s=t?t.duration:e?e.duration:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,c=n.mainForwardBufferInfo,d=(c?c.len:0)/l,f=this.findBestLevel(u,a,r,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(f>=0)return f;Xk.trace("[abr] ".concat(d?"rebuffering expected":"buffer is empty",", finding optimal quality level"));var h=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(!d){var g=this.bitrateTestDelay;if(g)h=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-g,Xk.trace("[abr] bitrate test took ".concat(Math.round(1e3*g),"ms, set first fragment max fetchDuration to ").concat(Math.round(1e3*h)," ms")),p=m=1}return f=this.findBestLevel(u,a,r,d+h,p,m),Math.max(f,0)}},{key:"findBestLevel",value:function(e,t,n,r,i,a){for(var o,s=this.fragCurrent,l=this.partCurrent,u=this.lastLoadedFragLevel,c=this.hls.levels,d=c[u],f=!(null==d||null==(o=d.details)||!o.live),h=null==d?void 0:d.codecSet,p=l?l.duration:s?s.duration:0,m=this.bwEstimator.getEstimateTTFB()/1e3,g=t,v=-1,y=n;y>=t;y--){var b=c[y];if(!b||h&&b.codecSet!==h)b&&(g=Math.min(y,g),v=Math.max(y,v));else{-1!==v&&Xk.trace("[abr] Skipped level(s) ".concat(g,"-").concat(v,' with CODECS:"').concat(c[v].attrs.CODECS,'"; not compatible with "').concat(d.attrs.CODECS,'"'));var k=b.details,w=(l?null==k?void 0:k.partTarget:null==k?void 0:k.averagetargetduration)||p,x=void 0;x=y<=u?i*e:a*e;var E=c[y].maxBitrate,S=this.getTimeToLoadFrag(m,x,E*w,void 0===k);if(Xk.trace("[abr] level:".concat(y," adjustedbw-bitrate:").concat(Math.round(x-E)," avgDuration:").concat(w.toFixed(1)," maxFetchDuration:").concat(r.toFixed(1)," fetchDuration:").concat(S.toFixed(1))),x>E&&(0===S||!Hk(S)||f&&!this.bitrateTestDelay||S<r))return y}}return-1}}]),e}(),DT=function(){function e(){f(this,e),this.chunks=[],this.dataLength=0}return g(e,[{key:"push",value:function(e){this.chunks.push(e),this.dataLength+=e.length}},{key:"flush",value:function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var a=e[i];n.set(a,r),r+=a.length}return n}(t,n),this.reset(),e):new Uint8Array(0)}},{key:"reset",value:function(){this.chunks.length=0,this.dataLength=0}}]),e}();var NT=function(e){y(n,e);var t=E(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i,"[audio-stream-controller]",Mx)).videoBuffer=null,a.videoTrackCC=-1,a.waitingVideoCC=-1,a.bufferedTrack=null,a.switchingTrack=null,a.trackId=-1,a.waitingData=null,a.mainDetails=null,a.bufferFlushed=!1,a.cachedTrackLoadedData=null,a._registerListeners(),a}return g(n,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.on(zk.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(zk.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(zk.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(zk.ERROR,this.onError,this),e.on(zk.BUFFER_RESET,this.onBufferReset,this),e.on(zk.BUFFER_CREATED,this.onBufferCreated,this),e.on(zk.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(zk.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(zk.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.off(zk.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(zk.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(zk.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(zk.ERROR,this.onError,this),e.off(zk.BUFFER_RESET,this.onBufferReset,this),e.off(zk.BUFFER_CREATED,this.onBufferCreated,this),e.off(zk.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(zk.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(zk.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"onInitPtsFound",value:function(e,t){var n=t.frag,r=t.id,i=t.initPTS,a=t.timescale;if("main"===r){var o=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:a},this.log("InitPTS for cc: ".concat(o," found from main: ").concat(i)),this.videoTrackCC=o,this.state===vS&&this.tick()}}},{key:"startLoad",value:function(e){if(!this.levels)return this.startPosition=e,void(this.state=sS);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @".concat(t.toFixed(3))),e=t,this.state=lS):(this.loadedmetadata=!1,this.state=fS),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"doTick",value:function(){switch(this.state){case lS:this.doTickIdle();break;case fS:var e,t=this.levels,r=this.trackId,i=null==t||null==(e=t[r])?void 0:e.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=vS}break;case dS:var a,o=performance.now(),s=this.retryDate;(!s||o>=s||null!=(a=this.media)&&a.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=lS);break;case vS:var l=this.waitingData;if(l){var u=l.frag,c=l.part,d=l.cache,f=l.complete;if(void 0!==this.initPTS[u.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=cS;var h={frag:u,part:c,payload:d.flush(),networkDetails:null};this._handleFragmentLoadProgress(h),f&&Sp(b(n.prototype),"_handleFragmentLoadComplete",this).call(this,h)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc (".concat(u.cc,") cancelled because video is at cc ").concat(this.videoTrackCC)),this.clearWaitingFragment();else{var p=this.getLoadPosition(),m=$E.bufferInfo(this.mediaBuffer,p,this.config.maxBufferHole);bE(m.end,this.config.maxFragLookUpTolerance,u)<0&&(this.log("Waiting fragment cc (".concat(u.cc,") @ ").concat(u.start," cancelled because another fragment at ").concat(m.end," is needed")),this.clearWaitingFragment())}}else this.state=lS}this.onTickEnd()}},{key:"clearWaitingFragment",value:function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=lS)}},{key:"resetLoadingState",value:function(){this.clearWaitingFragment(),Sp(b(n.prototype),"resetLoadingState",this).call(this)}},{key:"onTickEnd",value:function(){var e=this.media;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}},{key:"doTickIdle",value:function(){var e=this.hls,t=this.levels,n=this.media,r=this.trackId,i=e.config;if(null!=t&&t[r]&&(n||!this.startFragRequested&&i.startFragPrefetch)){var a=t[r],o=a.details;if(!o||o.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(o))this.state=fS;else{var s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,rw,Mx));var l=this.getFwdBufferInfo(s,Mx);if(null!==l){var u=this.bufferedTrack,c=this.switchingTrack;if(!c&&this._streamEnded(l,o))return e.trigger(zk.BUFFER_EOS,{type:"audio"}),void(this.state=mS);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Nx),f=l.len,h=this.getMaxBufferLength(null==d?void 0:d.len);if(!(f>=h)||c){var p=o.fragments[0].start,m=l.end;if(c&&n){var g=this.getLoadPosition();u&&c.attrs!==u.attrs&&(m=g),o.PTSKnown&&g<p&&(l.end>p||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=p+.05)}var v=this.getNextFragment(m,o),y=!1;if(v&&this.isLoopLoading(v,m)&&(y=!!v.gap,v=this.getNextFragmentLoopLoading(v,o,l,Nx,h)),v){var b=d&&v.start>d.end+o.targetduration;if(b||(null==d||!d.len)&&l.len){var k=this.getAppendedFrag(v.start,Nx);if(null===k)return;if(y||(y=!!k.gap||!!b&&0===d.len),b&&!y||y&&l.nextStart&&l.nextStart<k.end)return}this.loadFragment(v,a,m)}else this.bufferFlushed=!0}}}}}},{key:"getMaxBufferLength",value:function(e){var t=Sp(b(n.prototype),"getMaxBufferLength",this).call(this);return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}},{key:"onMediaDetaching",value:function(){this.videoBuffer=null,Sp(b(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onAudioTracksUpdated",value:function(e,t){var n=t.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(e){return new iE(e)}))}},{key:"onAudioTrackSwitching",value:function(e,t){var n=!!t.url;this.trackId=t.id;var r=this.fragCurrent;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=t,this.state=lS):(this.switchingTrack=null,this.bufferedTrack=t,this.state=sS),this.tick()}},{key:"onManifestLoading",value:function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(zk.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}},{key:"onAudioTrackLoaded",value:function(e,t){var n;if(null!=this.mainDetails){var r=this.levels,i=t.details,a=t.id;if(r){this.log("Track ".concat(a," loaded [").concat(i.startSN,",").concat(i.endSN,"]").concat(i.lastPartSn?"[part-".concat(i.lastPartSn,"-").concat(i.lastPartIndex,"]"):"",",duration:").concat(i.totalduration));var o=r[a],s=0;if(i.live||null!=(n=o.details)&&n.live){var l=this.mainDetails;if(i.fragments[0]||(i.deltaUpdateFailed=!0),i.deltaUpdateFailed||!l)return;!o.details&&i.hasProgramDateTime&&l.hasProgramDateTime?(tS(i,l),s=i.fragments[0].start):s=this.alignPlaylists(i,o.details)}o.details=i,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(o.details,s),this.state!==fS||this.waitForCdnTuneIn(i)||(this.state=lS),this.tick()}else this.warn("Audio tracks were reset while loading level ".concat(a))}else this.cachedTrackLoadedData=t}},{key:"_handleFragmentLoadProgress",value:function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.config,o=this.trackId,s=this.levels;if(s){var l=s[o];if(l){var u=l.details;if(!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);var c=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new AT(this.hls,Mx,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var f=this.initPTS[n.cc],h=null==(t=n.initSegment)?void 0:t.data;if(void 0!==f){var p=r?r.index:-1,m=-1!==p,g=new XE(n.level,n.sn,n.stats.chunkCount,i.byteLength,p,m);d.push(i,h,c,"",n,r,u.totalduration,!1,g,f)}else{this.log("Unknown video PTS for cc ".concat(n.cc,", waiting for video PTS before demuxing audio frag ").concat(n.sn," of [").concat(u.startSN," ,").concat(u.endSN,"],track ").concat(o)),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new DT,complete:!1}).cache.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=vS}}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment ".concat(n.sn," of level ").concat(n.level," will not be buffered"))}},{key:"_handleFragmentLoadComplete",value:function(e){this.waitingData?this.waitingData.complete=!0:Sp(b(n.prototype),"_handleFragmentLoadComplete",this).call(this,e)}},{key:"onBufferReset",value:function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}},{key:"onBufferCreated",value:function(e,t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}},{key:"onFragBuffered",value:function(e,t){var n=t.frag,r=t.part;if(n.type===Mx)if(this.fragContextChanged(n))this.warn("Fragment ".concat(n.sn).concat(r?" p: "+r.index:""," of level ").concat(n.level," finished buffering, but was aborted. state: ").concat(this.state,", audioSwitch: ").concat(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==n.sn){this.fragPrevious=n;var i=this.switchingTrack;i&&(this.bufferedTrack=i,this.switchingTrack=null,this.hls.trigger(zk.AUDIO_TRACK_SWITCHED,Uk({},i)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===Nx){var a=this.videoBuffer||this.media;if(a)$E.getBuffered(a).length&&(this.loadedmetadata=!0)}}},{key:"onError",value:function(e,t){var r;if(t.fatal)this.state=gS;else switch(t.details){case qk.FRAG_GAP:case qk.FRAG_PARSING_ERROR:case qk.FRAG_DECRYPT_ERROR:case qk.FRAG_LOAD_ERROR:case qk.FRAG_LOAD_TIMEOUT:case qk.KEY_LOAD_ERROR:case qk.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Mx,t);break;case qk.AUDIO_TRACK_LOAD_ERROR:case qk.AUDIO_TRACK_LOAD_TIMEOUT:case qk.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==fS||(null==(r=t.context)?void 0:r.type)!==Ix||(this.state=lS);break;case qk.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,Sp(b(n.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case qk.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}},{key:"onBufferFlushed",value:function(e,t){t.type===rw&&(this.bufferFlushed=!0,this.state===mS&&(this.state=lS))}},{key:"_handleTransmuxComplete",value:function(e){var t,n="audio",r=this.hls,i=e.remuxResult,a=e.chunkMeta,o=this.getCurrentContext(a);if(o){var s=o.frag,l=o.part,u=o.level.details,c=i.audio,d=i.text,f=i.id3,h=i.initSegment;if(!this.fragContextChanged(s)&&u){if(this.state=hS,this.switchingTrack&&c&&this.completeAudioSwitch(this.switchingTrack),null!=h&&h.tracks){var p=s.initSegment||s;this._bufferInitSegment(h.tracks,p,a),r.trigger(zk.FRAG_PARSING_INIT_SEGMENT,{frag:p,id:n,tracks:h.tracks})}if(c){var m=c.startPTS,g=c.endPTS,v=c.startDTS,y=c.endDTS;l&&(l.elementaryStreams[rw]={startPTS:m,endPTS:g,startDTS:v,endDTS:y}),s.setElementaryStreamInfo(rw,m,g,v,y),this.bufferFragmentData(c,s,l,a)}if(null!=f&&null!=(t=f.samples)&&t.length){var b=Vk({id:n,frag:s,details:u},f);r.trigger(zk.FRAG_PARSING_METADATA,b)}if(d){var k=Vk({id:n,frag:s,details:u},d);r.trigger(zk.FRAG_PARSING_USERDATA,k)}}else this.fragmentTracker.removeFragment(s)}else this.resetWhenMissingContext(a)}},{key:"_bufferInitSegment",value:function(e,t,n){if(this.state===hS){e.video&&delete e.video;var r=e.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:".concat(r.container,", codecs[parsed]=[").concat(r.codec,"]")),this.hls.trigger(zk.BUFFER_CODECS,e);var i=r.initSegment;if(null!=i&&i.byteLength){var a={type:"audio",frag:t,part:null,chunkMeta:n,parent:t.type,data:i};this.hls.trigger(zk.BUFFER_APPENDING,a)}this.tick()}}}},{key:"loadFragment",value:function(e,t,r){var i,a=this.fragmentTracker.getState(e);(this.fragCurrent=e,this.switchingTrack||a===DE||a===ME)?"initSegment"===e.sn?this._loadInitSegment(e,t):null!=(i=t.details)&&i.live&&!this.initPTS[e.cc]?(this.log("Waiting for video PTS in continuity counter ".concat(e.cc," of live stream before loading audio fragment ").concat(e.sn," of level ").concat(this.trackId)),this.state=vS):(this.startFragRequested=!0,Sp(b(n.prototype),"loadFragment",this).call(this,e,t,r)):this.clearTrackerIfNeeded(e)}},{key:"completeAudioSwitch",value:function(e){var t=this.hls,r=this.media,i=this.bufferedTrack,a=null==i?void 0:i.attrs,o=e.attrs;r&&a&&(a.CHANNELS!==o.CHANNELS||a.NAME!==o.NAME||a.LANGUAGE!==o.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),Sp(b(n.prototype),"flushMainBuffer",this).call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(zk.AUDIO_TRACK_SWITCHED,Uk({},e))}}]),n}(bS),MT=function(e){y(n,e);var t=E(n);function n(e){var r;return f(this,n),(r=t.call(this,e,"[audio-track-controller]")).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.registerListeners(),r}return g(n,[{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.on(zk.LEVEL_LOADING,this.onLevelLoading,this),e.on(zk.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(zk.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(zk.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.off(zk.LEVEL_LOADING,this.onLevelLoading,this),e.off(zk.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(zk.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(zk.ERROR,this.onError,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,Sp(b(n.prototype),"destroy",this).call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.audioTracks||[]}},{key:"onAudioTrackLoaded",value:function(e,t){var n=t.id,r=t.groupId,i=t.details,a=this.tracksInGroup[n];if(a&&a.groupId===r){var o=a.details;a.details=t.details,this.log("audio-track ".concat(n,' "').concat(a.name,'" lang:').concat(a.lang," group:").concat(r," loaded [").concat(i.startSN,"-").concat(i.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,o)}else this.warn("Track with id:".concat(n," and group:").concat(r," not found in active group ").concat(a.groupId))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var n=t.audioGroupIds[t.urlId];if(this.groupId!==n){this.groupId=n||null;var r=this.tracks.filter((function(e){return!n||e.groupId===n}));this.selectDefaultTrack&&!r.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=r;var i={audioTracks:r};this.log("Updating audio tracks, ".concat(r.length," track(s) found in group:").concat(n)),this.hls.trigger(zk.AUDIO_TRACKS_UPDATED,i),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===Ix&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(t))}},{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}},{key:"setAudioTrack",value:function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var n=this.currentTrack;t[this.trackId];var r=t[e],i=r.groupId,a=r.name;if(this.log("Switching to audio-track ".concat(e,' "').concat(a,'" lang:').concat(r.lang," group:").concat(i)),this.trackId=e,this.currentTrack=r,this.selectDefaultTrack=!1,this.hls.trigger(zk.AUDIO_TRACK_SWITCHING,Uk({},r)),!r.details||r.details.live){var o=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(o)}}}},{key:"selectInitialTrack",value:function(){var e=this.tracksInGroup,t=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==t)this.setAudioTrack(t);else{var n=new Error("No track found for running audio group-ID: ".concat(this.groupId," track count: ").concat(e.length));this.warn(n.message),this.hls.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:n})}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if(!this.selectDefaultTrack||r.default){if(!e||void 0!==e.attrs["STABLE-RENDITION-ID"]&&e.attrs["STABLE-RENDITION-ID"]===r.attrs["STABLE-RENDITION-ID"])return r.id;if(e.name===r.name&&e.lang===r.lang)return r.id}}return-1}},{key:"loadPlaylist",value:function(e){Sp(b(n.prototype),"loadPlaylist",this).call(this);var t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){var r=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(o))}this.log("loading audio-track playlist ".concat(r,' "').concat(t.name,'" lang:').concat(t.lang," group:").concat(i)),this.clearTimer(),this.hls.trigger(zk.AUDIO_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}}}]),n}(PE);function FT(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!jT(e[n].attrs,t[n].attrs))return!1;return!0}function jT(e,t){var n=e["STABLE-RENDITION-ID"];return n?n===t["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((function(n){return e[n]!==t[n]}))}var UT=function(e){y(n,e);var t=E(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i,"[subtitle-stream-controller]",Fx)).levels=[],a.currentTrackId=-1,a.tracksBuffered=[],a.mainDetails=null,a._registerListeners(),a}return g(n,[{key:"onHandlerDestroying",value:function(){this._unregisterListeners(),this.mainDetails=null}},{key:"_registerListeners",value:function(){var e=this.hls;e.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.on(zk.ERROR,this.onError,this),e.on(zk.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(zk.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(zk.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(zk.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(zk.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(zk.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"_unregisterListeners",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.LEVEL_LOADED,this.onLevelLoaded,this),e.off(zk.ERROR,this.onError,this),e.off(zk.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(zk.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(zk.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(zk.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(zk.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(zk.FRAG_BUFFERED,this.onFragBuffered,this)}},{key:"startLoad",value:function(e){this.stopLoad(),this.state=lS,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}},{key:"onManifestLoading",value:function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}},{key:"onMediaDetaching",value:function(){this.tracksBuffered=[],Sp(b(n.prototype),"onMediaDetaching",this).call(this)}},{key:"onLevelLoaded",value:function(e,t){this.mainDetails=t.details}},{key:"onSubtitleFragProcessed",value:function(e,t){var n=t.frag,r=t.success;if(this.fragPrevious=n,this.state=lS,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,o=n.start,s=0;s<i.length;s++)if(o>=i[s].start&&o<=i[s].end){a=i[s];break}var l=n.start+n.duration;a?a.end=l:(a={start:o,end:l},i.push(a)),this.fragmentTracker.fragBuffered(n)}}}},{key:"onBufferFlushing",value:function(e,t){var n=t.startOffset,r=t.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=r-1;if(i<=0)return;t.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=i)e.shift();else{if(!(e[t].start<i))break;e[t].start=i,t++}})),this.fragmentTracker.removeFragmentsInRange(n,i,Fx)}}},{key:"onFragBuffered",value:function(e,t){var n;this.loadedmetadata||t.frag.type!==Nx||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}},{key:"onError",value:function(e,t){var n=t.frag;(null==n?void 0:n.type)===Fx&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==sS&&(this.state=lS))}},{key:"onSubtitleTracksUpdated",value:function(e,t){var n=this,r=t.subtitleTracks;FT(this.levels,r)?this.levels=r.map((function(e){return new iE(e)})):(this.tracksBuffered=[],this.levels=r.map((function(e){var t=new iE(e);return n.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Fx),this.fragPrevious=null,this.mediaBuffer=null)}},{key:"onSubtitleTrackSwitch",value:function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!=n&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(500)}else this.clearInterval()}},{key:"onSubtitleTrackLoaded",value:function(e,t){var n,r=t.details,i=t.id,a=this.currentTrackId,o=this.levels;if(o.length){var s=o[a];if(!(i>=o.length||i!==a)&&s){this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(r.live||null!=(n=s.details)&&n.live){var u=this.mainDetails;if(r.deltaUpdateFailed||!u)return;var c=u.fragments[0];s.details?0===(l=this.alignPlaylists(r,s.details))&&c&&uE(r,l=c.start):r.hasProgramDateTime&&u.hasProgramDateTime?(tS(r,u),l=r.fragments[0].start):c&&uE(r,l=c.start)}if(s.details=r,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(s.details,l),this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===lS)yE(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0)}}}},{key:"_handleFragmentLoadComplete",value:function(e){var t=this,n=e.frag,r=e.payload,i=n.decryptdata,a=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch((function(e){throw a.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:n}),e})).then((function(e){var t=performance.now();a.trigger(zk.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:o,tdecrypt:t}})})).catch((function(e){t.warn("".concat(e.name,": ").concat(e.message)),t.state=lS}))}}},{key:"doTick",value:function(){if(this.media){if(this.state===lS){var e=this.currentTrackId,t=this.levels,n=t[e];if(!t.length||!n||!n.details)return;var r=this.config,i=this.getLoadPosition(),a=$E.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),o=a.end,s=a.len,l=this.getFwdBufferInfo(this.media,Nx),u=n.details;if(s>this.getMaxBufferLength(null==l?void 0:l.len)+u.levelTargetDuration)return;var c=u.fragments,d=c.length,f=u.edge,h=null,p=this.fragPrevious;if(o<f){var m=r.maxFragLookUpTolerance,g=o>f-m?0:m;!(h=yE(p,c,Math.max(c[0].start,o),g))&&p&&p.start<c[0].start&&(h=c[0])}else h=c[d-1];if(!h)return;if("initSegment"!==(h=this.mapToInitFragWhenRequired(h)).sn){var v=c[h.sn-u.startSN-1];v&&v.cc===h.cc&&this.fragmentTracker.getState(v)===DE&&(h=v)}this.fragmentTracker.getState(h)===DE&&this.loadFragment(h,n,o)}}else this.state=lS}},{key:"getMaxBufferLength",value:function(e){var t=Sp(b(n.prototype),"getMaxBufferLength",this).call(this);return e?Math.max(t,e):t}},{key:"loadFragment",value:function(e,t,r){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,Sp(b(n.prototype),"loadFragment",this).call(this,e,t,r))}},{key:"mediaBufferTimeRanges",get:function(){return new BT(this.tracksBuffered[this.currentTrackId]||[])}}]),n}(bS),BT=g((function e(t){f(this,e),this.buffered=void 0;var n=function(e,n,r){if((n>>>=0)>r-1)throw new DOMException("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(n,") is greater than the maximum bound (").concat(r,")"));return t[n][e]};this.buffered={get length(){return t.length},end:function(e){return n("end",e,t.length)},start:function(e){return n("start",e,t.length)}}})),VT=function(e){y(n,e);var t=E(n);function n(e){var r;return f(this,n),(r=t.call(this,e,"[subtitle-track-controller]")).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}return g(n,[{key:"destroy",value:function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,Sp(b(n.prototype),"destroy",this).call(this)}},{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.on(zk.LEVEL_LOADING,this.onLevelLoading,this),e.on(zk.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(zk.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(zk.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.off(zk.LEVEL_LOADING,this.onLevelLoading,this),e.off(zk.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(zk.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(zk.ERROR,this.onError,this)}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}},{key:"pollTrackChange",value:function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)}},{key:"onMediaDetaching",value:function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),HT(this.media.textTracks).forEach((function(e){zx(e)})),this.subtitleTrack=-1,this.media=null)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}},{key:"onManifestParsed",value:function(e,t){this.tracks=t.subtitleTracks}},{key:"onSubtitleTrackLoaded",value:function(e,t){var n=t.id,r=t.details,i=this.trackId,a=this.tracksInGroup[i];if(a){var o=a.details;a.details=t.details,this.log("subtitle track ".concat(n," loaded [").concat(r.startSN,"-").concat(r.endSN,"]")),n===this.trackId&&this.playlistLoaded(n,t,o)}else this.warn("Invalid subtitle track id ".concat(n))}},{key:"onLevelLoading",value:function(e,t){this.switchLevel(t.level)}},{key:"onLevelSwitching",value:function(e,t){this.switchLevel(t.level)}},{key:"switchLevel",value:function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var n=t.textGroupIds[t.urlId],r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){var i=this.tracks.filter((function(e){return!n||e.groupId===n}));this.tracksInGroup=i;var a=this.findTrackId(null==r?void 0:r.name)||this.findTrackId();this.groupId=n||null;var o={subtitleTracks:i};this.log("Updating subtitle tracks, ".concat(i.length,' track(s) found in "').concat(n,'" group-id')),this.hls.trigger(zk.SUBTITLE_TRACKS_UPDATED,o),-1!==a&&this.setSubtitleTrack(a,r)}else this.shouldReloadPlaylist(r)&&this.setSubtitleTrack(this.trackId,r)}}},{key:"findTrackId",value:function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1}},{key:"onError",value:function(e,t){!t.fatal&&t.context&&t.context.type===Dx&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&this.checkRetry(t)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}},{key:"loadPlaylist",value:function(e){Sp(b(n.prototype),"loadPlaylist",this).call(this);var t=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(t)){var r=t.id,i=t.groupId,a=t.url;if(e)try{a=e.addDirectives(a)}catch(o){this.warn("Could not construct new URL with HLS Delivery Directives: ".concat(o))}this.log("Loading subtitle playlist for id ".concat(r)),this.hls.trigger(zk.SUBTITLE_TRACK_LOADING,{url:a,id:r,groupId:i,deliveryDirectives:e||null})}}},{key:"toggleTrackModes",value:function(e){var t=this,n=this.media,r=this.trackId;if(n){var i=HT(n.textTracks),a=i.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var o=a[r];o&&(o.mode="disabled")}var s=a[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}}},{key:"setSubtitleTrack",value:function(e,t){var n,r=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!=(n=r[e])&&n.details)||e<-1||e>=r.length)){this.clearTimer();var i=r[e];if(this.log("Switching to subtitle-track ".concat(e)+(i?' "'.concat(i.name,'" lang:').concat(i.lang," group:").concat(i.groupId):"")),this.trackId=e,i){var a=i.id,o=i.groupId,s=void 0===o?"":o,l=i.name,u=i.type,c=i.url;this.hls.trigger(zk.SUBTITLE_TRACK_SWITCH,{id:a,groupId:s,name:l,type:u,url:c});var d=this.switchParams(i.url,null==t?void 0:t.details);this.loadPlaylist(d)}else this.hls.trigger(zk.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e}},{key:"onTextTracksChanged",value:function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=HT(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}}}]),n}(PE);function HT(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||t.push(e[n])}return t}var zT=function(){function e(t){f(this,e),this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}return g(e,[{key:"append",value:function(e,t){var n=this.queues[t];n.push(e),1===n.length&&this.buffers[t]&&this.executeNext(t)}},{key:"insertAbort",value:function(e,t){this.queues[t].unshift(e),this.executeNext(t)}},{key:"appendBlocker",value:function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n}},{key:"executeNext",value:function(e){var t=this.buffers,n=this.queues,r=t[e],i=n[e];if(i.length){var a=i[0];try{a.execute()}catch(o){Xk.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(o),null!=r&&r.updating||(i.shift(),this.executeNext(e))}}}},{key:"shiftAndExecuteNext",value:function(e){this.queues[e].shift(),this.executeNext(e)}},{key:"current",value:function(e){return this.queues[e][0]}}]),e}(),GT=px(),qT=/([ha]vc.)(?:\.[^.,]+)+/,KT=function(){function e(t){var n=this;f(this,e),this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=n.media,t=n.mediaSource;Xk.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",n._onMediaEmptied),n.updateMediaElementDuration(),n.hls.trigger(zk.MEDIA_ATTACHED,{media:e})),t&&t.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},this._onMediaSourceClose=function(){Xk.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){Xk.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var e=n.media,t=n._objectUrl;e&&e.src!==t&&Xk.error("Media element src was set while attaching MediaSource (".concat(t," > ").concat(e.src,")"))},this.hls=t,this._initSourceBuffer(),this.registerListeners()}return g(e,[{key:"hasSourceTypes",value:function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}},{key:"destroy",value:function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.on(zk.BUFFER_RESET,this.onBufferReset,this),e.on(zk.BUFFER_APPENDING,this.onBufferAppending,this),e.on(zk.BUFFER_CODECS,this.onBufferCodecs,this),e.on(zk.BUFFER_EOS,this.onBufferEos,this),e.on(zk.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(zk.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(zk.FRAG_PARSED,this.onFragParsed,this),e.on(zk.FRAG_CHANGED,this.onFragChanged,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.off(zk.BUFFER_RESET,this.onBufferReset,this),e.off(zk.BUFFER_APPENDING,this.onBufferAppending,this),e.off(zk.BUFFER_CODECS,this.onBufferCodecs,this),e.off(zk.BUFFER_EOS,this.onBufferEos,this),e.off(zk.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(zk.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(zk.FRAG_PARSED,this.onFragParsed,this),e.off(zk.FRAG_CHANGED,this.onFragChanged,this)}},{key:"_initSourceBuffer",value:function(){this.sourceBuffer={},this.operationQueue=new zT(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}},{key:"onManifestLoading",value:function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}},{key:"onManifestParsed",value:function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,Xk.log("".concat(this.bufferCodecEventsExpected," bufferCodec event(s) expected"))}},{key:"onMediaAttaching",value:function(e,t){var n=this.media=t.media;if(n&&GT){var r=this.mediaSource=new GT;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}},{key:"onMediaDetaching",value:function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(Xk.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(wP){Xk.warn("[buffer-controller]: onMediaDetaching: ".concat(wP.message," while calling endOfStream"))}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):Xk.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(zk.MEDIA_DETACHED,void 0)}},{key:"onBufferReset",value:function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var n=e.sourceBuffer[t];try{n&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(n),e.sourceBuffer[t]=void 0)}catch(wP){Xk.warn("[buffer-controller]: Failed to reset the ".concat(t," buffer"),wP)}})),this._initSourceBuffer()}},{key:"onBufferCodecs",value:function(e,t){var n=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"===typeof i.buffer.changeType){var a=t[e],o=a.id,s=a.codec,l=a.levelCodec,u=a.container,c=a.metadata,d=(i.levelCodec||i.codec).replace(qT,"$1"),f=(l||s).replace(qT,"$1");if(d!==f){var h="".concat(u,";codecs=").concat(l||s);n.appendChangeType(e,h),Xk.log("[buffer-controller]: switching codec ".concat(d," to ").concat(f)),n.tracks[e]={buffer:i.buffer,codec:s,container:u,levelCodec:l,metadata:c,id:o}}}}else n.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}},{key:"appendChangeType",value:function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(Xk.log("[buffer-controller]: changing ".concat(e," sourceBuffer type to ").concat(t)),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){Xk.warn("[buffer-controller]: Failed to change ".concat(e," SourceBuffer type"),t)}};r.append(i,e)}},{key:"onBufferAppending",value:function(e,t){var n=this,r=this.hls,i=this.operationQueue,a=this.tracks,o=t.data,s=t.type,l=t.frag,u=t.part,c=t.chunkMeta,d=c.buffering[s],f=self.performance.now();d.start=f;var h=l.stats.buffering,p=u?u.stats.buffering:null;0===h.start&&(h.start=f),p&&0===p.start&&(p.start=f);var m=a.audio,g=!1;"audio"===s&&"audio/mpeg"===(null==m?void 0:m.container)&&(g=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);var v=l.start,y={execute:function(){if(d.executeStart=self.performance.now(),g){var e=n.sourceBuffer[s];if(e){var t=v-e.timestampOffset;Math.abs(t)>=.1&&(Xk.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to ".concat(v," (delta: ").concat(t,") sn: ").concat(l.sn,")")),e.timestampOffset=v)}}n.appendExecutor(o,s)},onStart:function(){},onComplete:function(){var e=self.performance.now();d.executeEnd=d.end=e,0===h.first&&(h.first=e),p&&0===p.first&&(p.first=e);var t=n.sourceBuffer,r={};for(var i in t)r[i]=$E.getBuffered(t[i]);n.appendError=0,n.hls.trigger(zk.BUFFER_APPENDED,{type:s,frag:l,part:u,chunkMeta:c,parent:l.type,timeRanges:r})},onError:function(e){Xk.error("[buffer-controller]: Error encountered while trying to append to the ".concat(s," SourceBuffer"),e);var t={type:Gk.MEDIA_ERROR,parent:l.type,details:qk.BUFFER_APPEND_ERROR,frag:l,part:u,chunkMeta:c,error:e,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=qk.BUFFER_FULL_ERROR:(n.appendError++,t.details=qk.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(Xk.error("[buffer-controller]: Failed ".concat(r.config.appendErrorMaxRetry," times to append segment in sourceBuffer")),t.fatal=!0)),r.trigger(zk.ERROR,t)}};i.append(y,s)}},{key:"onBufferFlushing",value:function(e,t){var n=this,r=this.operationQueue,i=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(zk.BUFFER_FLUSHED,{type:e})},onError:function(t){Xk.warn("[buffer-controller]: Failed to remove from ".concat(e," SourceBuffer"),t)}}};t.type?r.append(i(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(i(e),e)}))}},{key:"onFragParsed",value:function(e,t){var n=this,r=t.frag,i=t.part,a=[],o=i?i.elementaryStreams:r.elementaryStreams;o[aw]?a.push("audiovideo"):(o[rw]&&a.push("audio"),o[iw]&&a.push("video"));0===a.length&&Xk.warn("Fragments must have at least one ElementaryStreamType set. type: ".concat(r.type," level: ").concat(r.level," sn: ").concat(r.sn)),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,i&&(i.stats.buffering.end=e);var t=i?i.stats:r.stats;n.hls.trigger(zk.FRAG_BUFFERED,{frag:r,part:i,stats:t,id:r.type})}),a)}},{key:"onFragChanged",value:function(e,t){this.flushBackBuffer()}},{key:"onBufferEos",value:function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return!i||t.type&&t.type!==r||(i.ending=!0,i.ended||(i.ended=!0,Xk.log("[buffer-controller]: ".concat(r," sourceBuffer now EOS")))),e&&!(i&&!i.ended)}),!0)&&(Xk.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){n.getSourceBufferTypes().forEach((function(e){var t=n.sourceBuffer[e];t&&(t.ending=!1)}));var e=n.mediaSource;e&&"open"===e.readyState?(Xk.log("[buffer-controller]: Calling mediaSource.endOfStream()"),e.endOfStream()):e&&Xk.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ".concat(e.readyState))})))}},{key:"onLevelUpdated",value:function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}},{key:"flushBackBuffer",value:function(){var e=this.hls,t=this.details,n=this.media,r=this.sourceBuffer;if(n&&null!==t){var i=this.getSourceBufferTypes();if(i.length){var a=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Hk(a)&&!(a<0)){var o=n.currentTime,s=t.levelTargetDuration,l=Math.max(a,s),u=Math.floor(o/s)*s-l;i.forEach((function(n){var i=r[n];if(i){var a=$E.getBuffered(i);if(a.length>0&&u>a.start(0)){if(e.trigger(zk.BACK_BUFFER_REACHED,{bufferEnd:u}),t.live)e.trigger(zk.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(i.ended&&a.end(a.length-1)-o<2*s)return void Xk.info("[buffer-controller]: Cannot flush ".concat(n," back buffer while SourceBuffer is in ended state"));e.trigger(zk.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:n})}}}))}}}}},{key:"updateMediaElementDuration",value:function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,r=this.mediaSource,i=e.fragments[0].start+e.totalduration,a=n.duration,o=Hk(r.duration)?r.duration:0;e.live&&t.config.liveDurationInfinity?(Xk.log("[buffer-controller]: Media Source duration is set to Infinity"),r.duration=1/0,this.updateSeekableRange(e)):(i>o&&i>a||!Hk(a))&&(Xk.log("[buffer-controller]: Updating Media Source duration to ".concat(i.toFixed(3))),r.duration=i)}}},{key:"updateSeekableRange",value:function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,i)}}},{key:"checkPendingTracks",value:function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!e||2===r){this.createSourceBuffers(n),this.pendingTracks={};var i=this.getSourceBufferTypes();if(i.length)this.hls.trigger(zk.BUFFER_CREATED,{tracks:this.tracks}),i.forEach((function(e){t.executeNext(e)}));else{var a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var r in e)if(!t[r]){var i=e[r];if(!i)throw Error("source buffer exists for track ".concat(r,", however track does not"));var a=i.levelCodec||i.codec,o="".concat(i.container,";codecs=").concat(a);Xk.log("[buffer-controller]: creating sourceBuffer(".concat(o,")"));try{var s=t[r]=n.addSourceBuffer(o),l=r;this.addBufferListener(l,"updatestart",this._onSBUpdateStart),this.addBufferListener(l,"updateend",this._onSBUpdateEnd),this.addBufferListener(l,"error",this._onSBUpdateError),this.tracks[r]={buffer:s,codec:a,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id}}catch(wP){Xk.error("[buffer-controller]: error while trying to add sourceBuffer: ".concat(wP.message)),this.hls.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:wP,mimeType:o})}}}},{key:"_onSBUpdateStart",value:function(e){this.operationQueue.current(e).onStart()}},{key:"_onSBUpdateEnd",value:function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)}},{key:"_onSBUpdateError",value:function(e,t){var n=new Error("".concat(e," SourceBuffer error"));Xk.error("[buffer-controller]: ".concat(n),t),this.hls.trigger(zk.ERROR,{type:Gk.MEDIA_ERROR,details:qk.BUFFER_APPENDING_ERROR,error:n,fatal:!1});var r=this.operationQueue.current(e);r&&r.onError(t)}},{key:"removeExecutor",value:function(e,t,n){var r=this.media,i=this.mediaSource,a=this.operationQueue,o=this.sourceBuffer[e];if(!r||!i||!o)return Xk.warn("[buffer-controller]: Attempting to remove from the ".concat(e," SourceBuffer, but it does not exist")),void a.shiftAndExecuteNext(e);var s=Hk(r.duration)?r.duration:1/0,l=Hk(i.duration)?i.duration:1/0,u=Math.max(0,t),c=Math.min(n,s,l);c>u&&!o.ending?(o.ended=!1,Xk.log("[buffer-controller]: Removing [".concat(u,",").concat(c,"] from the ").concat(e," SourceBuffer")),o.remove(u,c)):a.shiftAndExecuteNext(e)}},{key:"appendExecutor",value:function(e,t){var n=this.operationQueue,r=this.sourceBuffer[t];if(!r)return Xk.warn("[buffer-controller]: Attempting to append to the ".concat(t," SourceBuffer, but it does not exist")),void n.shiftAndExecuteNext(t);r.ended=!1,r.appendBuffer(e)}},{key:"blockBuffers",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSourceBufferTypes();if(!n.length)return Xk.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var r=this.operationQueue,i=n.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),n.forEach((function(e){var n=t.sourceBuffer[e];null!=n&&n.updating||r.shiftAndExecuteNext(e)}))}))}},{key:"getSourceBufferTypes",value:function(){return Object.keys(this.sourceBuffer)}},{key:"addBufferListener",value:function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}}},{key:"removeBufferListeners",value:function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))}}]),e}(),WT={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},YT=function(e){var t=e;return WT.hasOwnProperty(e)&&(t=WT[e]),String.fromCharCode(t)},$T=15,XT=100,QT={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ZT={17:2,18:4,21:6,22:8,23:10,19:13,20:15},JT={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},eC={25:2,26:4,29:6,30:8,31:10,27:13,28:15},tC=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],nC=function(){function e(){f(this,e),this.time=null,this.verboseLevel=0}return g(e,[{key:"log",value:function(e,t){if(this.verboseLevel>=e){var n="function"===typeof t?t():t;Xk.log("".concat(this.time," [").concat(e,"] ").concat(n))}}}]),e}(),rC=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},iC=function(){function e(t,n,r,i,a){f(this,e),this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=n||!1,this.italics=r||!1,this.background=i||"black",this.flash=a||!1}return g(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),aC=function(){function e(t,n,r,i,a,o){f(this,e),this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new iC(n,r,i,a,o)}return g(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),oC=function(){function e(t){f(this,e),this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var n=0;n<XT;n++)this.chars.push(new aC);this.logger=t,this.pos=0,this.currPenState=new iC}return g(e,[{key:"equals",value:function(e){for(var t=!0,n=0;n<XT;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<XT;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<XT;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>XT&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=XT)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){var t=this;e>=144&&this.backSpace();var n=YT(e);this.pos>=XT?this.logger.log(0,(function(){return"Cannot insert "+e.toString(16)+" ("+n+") at position "+t.pos+". Skipping it!"})):(this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1))}},{key:"clearFromPos",value:function(e){var t;for(t=e;t<XT;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,n=0;n<XT;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),sC=function(){function e(t){f(this,e),this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var n=0;n<$T;n++)this.rows.push(new oC(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}return g(e,[{key:"reset",value:function(){for(var e=0;e<$T;e++)this.rows[e].clear();this.currRow=14}},{key:"equals",value:function(e){for(var t=!0,n=0;n<$T;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;t<$T;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;t<$T;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(e)}));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<$T;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[r].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[t-this.nrRollUpRows+s+1].copy(i.rows[r+s])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,c=Math.max(u-1,0);l.setCursor(e.indent),e.color=l.chars[c].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)}},{key:"setBkgData",value:function(e){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(e)})),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){var e=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return e.getDisplayText()}));var t=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(t,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<$T;i++){var a=this.rows[i].getTextString();a&&(r=i+1,e?t.push("Row "+r+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),lC=function(){function e(t,n,r){f(this,e),this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new sC(r),this.nonDisplayedMemory=new sC(r),this.lastOutputScreen=new sC(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}return g(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(function(){return"MODE="+e})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=this,n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return r+": "+t.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())}},{key:"ccRCL",value:function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}},{key:"ccCR",value:function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}},{key:"ccENM",value:function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){var e=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+e.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)}},{key:"ccTO",value:function(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),uC=function(){function e(t,n,r){f(this,e),this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new nC;this.channels=[null,new lC(t,n,i),new lC(t+1,r,i)],this.cmdHistory={a:null,b:null},this.logger=i}return g(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var n,r,i,a=!1;this.logger.time=e;for(var o=0;o<t.length;o+=2)if(r=127&t[o],i=127&t[o+1],0!==r||0!==i){if(this.logger.log(3,"["+rC([t[o],t[o+1]])+"] -> ("+rC([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(a=this.parseChars(r,i))){var s=this.currentChannel;if(s&&s>0)this.channels[s].insertChars(a);else this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(2,"Couldn't parse cleaned data "+rC([r,i])+" orig: "+rC([t[o],t[o+1]]))}}},{key:"parseCmd",value:function(e,t){var n=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(dC(e,t,n))return cC(null,null,n),this.logger.log(3,"Repeated command ("+rC([e,t])+") is dropped"),!0;var r=20===e||21===e||23===e?1:2,i=this.channels[r];return 20===e||21===e||28===e||29===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),cC(e,t,n),this.currentChannel=r,!0}},{key:"parseMidrow",value:function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var r=this.channels[n];return!!r&&(r.ccMIDROW(t),this.logger.log(3,"MIDROW ("+rC([e,t])+")"),!0)}return!1}},{key:"parsePAC",value:function(e,t){var n,r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(dC(e,t,r))return cC(null,null,r),!0;var i=e<=23?1:2;n=t>=64&&t<=95?1===i?QT[e]:JT[e]:1===i?ZT[e]:eC[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(n,t)),cC(e,t,r),this.currentChannel=i,!0)}},{key:"interpretPAC",value:function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}},{key:"parseChars",value:function(e,t){var n,r,i=null,a=null;(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19)?(r=17===a?t+80:18===a?t+112:t+144,this.logger.log(2,"Special char '"+YT(r)+"' in channel "+n),i=[r]):e>=32&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=rC(i);this.logger.log(3,"Char codes =  "+o.join(",")),cC(e,t,this.cmdHistory)}return i}},{key:"parseBackgroundAttributes",value:function(e,t){var n;if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;var r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=tC[n],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(r),cC(e,t,this.cmdHistory),!0}},{key:"reset",value:function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}}},{key:"cueSplitAtTime",value:function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}}}]),e}();function cC(e,t,n){n.a=e,n.b=t}function dC(e,t,n){return n.a===e&&n.b===t}var fC=function(){function e(t,n){f(this,e),this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=n}return g(e,[{key:"dispatchCue",value:function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}},{key:"newCue",value:function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}},{key:"reset",value:function(){this.cueRanges=[],this.startTime=null}}]),e}(),hC=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;var n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)e[o]=a[o]}return e}function a(t,a,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var u="",c=!1,d=t,f=a,h=o,p=null,m="",g=!0,v="auto",y="start",b=50,k="middle",w=50,x="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return m},set:function(t){var r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");m=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return v},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return k},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return w},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return x},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");x=t,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}(),pC=function(){function e(){f(this,e)}return g(e,[{key:"decode",value:function(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}]),e}();function mC(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}var n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}var gC=function(){function e(){f(this,e),this.values=Object.create(null)}return g(e,[{key:"set",value:function(e,t){this.get(e)||""===t||(this.values[e]=t)}},{key:"get",value:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t}},{key:"has",value:function(e){return e in this.values}},{key:"alt",value:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}}},{key:"integer",value:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}},{key:"percent",value:function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}]),e}();function vC(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"===typeof i[a]){var o=i[a].split(n);if(2===o.length)t(o[0],o[1])}}var yC=new hC(0,0,""),bC="middle"===yC.align?"middle":"center";function kC(e,t,n){var r=e;function i(){var t=mC(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),a(),t.endTime=i(),a(),function(e,t){var r=new gC;vC(e,(function(e,t){var i;switch(e){case"region":for(var a=n.length-1;a>=0;a--)if(n[a].id===t){r.set(e,n[a].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",bC,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",bC,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",bC,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===yC.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",bC);var a=r.get("position","auto");"auto"===a&&50===yC.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function wC(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var xC=function(){function e(){f(this,e),this.state="INITIAL",this.buffer="",this.decoder=new pC,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}return g(e,[{key:"parse",value:function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=wC(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.slice(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.slice(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(r=n()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=n(),t.state){case"HEADER":/:/.test(r)?vC(r,(function(e,t){}),/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new hC(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{kC(r,t.cue,t.regionList)}catch(s){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID")}}}catch(s){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}},{key:"flush",value:function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}]),e}(),EC=/\r\n|\n\r|\n|\r/g,SC=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.slice(n,n+t.length)===t},TC=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function CC(e,t,n){return TC(e.toString())+TC(t.toString())+TC(n)}function LC(e,t,n,r,i,a,o){var s,l=new xC,u=jw(new Uint8Array(e)).trim().replace(EC,"\n").split("\n"),c=[],d=t?function(e){return oT(e,aT,1/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}(t.baseTime,t.timescale):0,f="00:00.000",h=0,p=0,m=!0;l.oncue=function(e){var a=n[r],o=n.ccOffset,l=(h-d)/9e4;if(null!=a&&a.new&&(void 0!==p?o=n.ccOffset=a.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!=(a=i)&&a.new;){var a;e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC]}e.presentationOffset=n}(n,r,l)),l){if(!t)return void(s=new Error("Missing initPTS for VTT MPEGTS"));o=l-n.presentationOffset}var u=e.endTime-e.startTime,f=dT(9e4*(e.startTime+o-p),9e4*i)/9e4;e.startTime=Math.max(f,0),e.endTime=Math.max(f+u,0);var m=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(m)),e.id||(e.id=CC(e.startTime,e.endTime,m)),e.endTime>0&&c.push(e)},l.onparsingerror=function(e){s=e},l.onflush=function(){s?o(s):a(c)},u.forEach((function(e){if(m){if(SC(e,"X-TIMESTAMP-MAP=")){m=!1,e.slice(16).split(",").forEach((function(e){SC(e,"LOCAL:")?f=e.slice(6):SC(e,"MPEGTS:")&&(h=parseInt(e.slice(7)))}));try{p=function(e){var t=parseInt(e.slice(-3)),n=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Hk(t)||!Hk(n)||!Hk(r)||!Hk(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:".concat(e));return t+=1e3*n,t+=6e4*r,t+36e5*i}(f)/1e3}catch(t){s=t}return}""===e&&(m=!1)}l.parse(e+"\n")})),l.flush()}var AC="stpp.ttml.im1t",RC=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,PC=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,OC={left:"start",center:"center",right:"end",start:"start",end:"end"};function _C(e,t,n,r){var i=$w(new Uint8Array(e),["mdat"]);if(0!==i.length){var a=i.map((function(e){return jw(e)})),o=function(e,t){return oT(e,t,1/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1),arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(t.baseTime,1,t.timescale);try{a.forEach((function(e){return n(function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml"),r=n.getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(i).reduce((function(e,t){return e[t]=r.getAttribute("ttp:".concat(t))||i[t],e}),{}),o="preserve"!==r.getAttribute("xml:space"),s=DC(IC(r,"styling","style")),l=DC(IC(r,"layout","region")),u=IC(r,"body","[begin]");return[].map.call(u,(function(e){var n=NC(e,o);if(!n||!e.hasAttribute("begin"))return null;var r=jC(e.getAttribute("begin"),a),i=jC(e.getAttribute("dur"),a),u=jC(e.getAttribute("end"),a);if(null===r)throw FC(e);if(null===u){if(null===i)throw FC(e);u=r+i}var c=new hC(r-t,u-t,n);c.id=CC(c.startTime,c.endTime,c.text);var d=function(e,t,n){var r="http://www.w3.org/ns/ttml#styling",i=null,a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;o&&n.hasOwnProperty(o)&&(i=n[o]);return a.reduce((function(n,a){var o=MC(t,r,a)||MC(e,r,a)||MC(i,r,a);return o&&(n[a]=o),n}),{})}(l[e.getAttribute("region")],s[e.getAttribute("style")],s),f=d.textAlign;if(f){var h=OC[f];h&&(c.lineAlign=h),c.align=f}return Vk(c,d),c})).filter((function(e){return null!==e}))}(e,o))}))}catch(s){r(s)}}else r(new Error("Could not parse IMSC1 mdat"))}function IC(e,t,n){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function DC(e){return e.reduce((function(e,t){var n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function NC(e,t){return[].slice.call(e.childNodes).reduce((function(e,n,r){var i;return"br"===n.nodeName&&r?e+"\n":null!=(i=n.childNodes)&&i.length?NC(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function MC(e,t,n){return e&&e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function FC(e){return new Error("Could not parse ttml timestamp ".concat(e))}function jC(e,t){if(!e)return null;var n=mC(e);return null===n&&(RC.test(e)?n=function(e,t){var n=RC.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):PC.test(e)&&(n=function(e,t){var n=PC.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}var UC=function(){function e(t){if(f(this,e),this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var n=new fC(this,"textTrack1"),r=new fC(this,"textTrack2"),i=new fC(this,"textTrack3"),a=new fC(this,"textTrack4");this.cea608Parser1=new uC(1,n,r),this.cea608Parser2=new uC(3,i,a)}t.on(zk.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),t.on(zk.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(zk.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(zk.FRAG_LOADING,this.onFragLoading,this),t.on(zk.FRAG_LOADED,this.onFragLoaded,this),t.on(zk.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(zk.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(zk.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(zk.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(zk.BUFFER_FLUSHING,this.onBufferFlushing,this)}return g(e,[{key:"destroy",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(zk.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(zk.FRAG_LOADING,this.onFragLoading,this),e.off(zk.FRAG_LOADED,this.onFragLoaded,this),e.off(zk.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(zk.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(zk.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(zk.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(zk.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}},{key:"addCues",value:function(e,t,n,r,i){for(var a,o,s,l,u=!1,c=i.length;c--;){var d=i[c],f=(a=d[0],o=d[1],s=t,l=n,Math.min(o,l)-Math.max(a,s));if(f>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],n),u=!0,f/(n-t)>.5))return}if(u||i.push([t,n]),this.config.renderTextTracksNatively){var h=this.captionsTracks[e];this.Cues.newCue(h,t,n,r)}else{var p=this.Cues.newCue(null,t,n,r);this.hls.trigger(zk.CUES_PARSED,{type:"captions",cues:p,track:e})}}},{key:"onInitPtsFound",value:function(e,t){var n=this,r=t.frag,i=t.id,a=t.initPTS,o=t.timescale,s=this.unparsedVttFrags;"main"===i&&(this.initPTS[r.cc]={baseTime:a,timescale:o}),s.length&&(this.unparsedVttFrags=[],s.forEach((function(e){n.onFragLoaded(zk.FRAG_LOADED,e)})))}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null}},{key:"createCaptionsTrack",value:function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}},{key:"createNativeTrack",value:function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,n=this.captionsTracks,r=this.media,i=t[e],a=i.label,o=i.languageCode,s=this.getExistingTrack(e);if(s)n[e]=s,zx(n[e]),Vx(n[e],r);else{var l=this.createTextTrack("captions",a,o);l&&(l[e]=!0,n[e]=l)}}}},{key:"createNonNativeTrack",value:function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(zk.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}}},{key:"createTextTrack",value:function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)}},{key:"onMediaAttaching",value:function(e,t){this.media=t.media,this._cleanTracks()}},{key:"onMediaDetaching",value:function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){zx(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}},{key:"onManifestLoading",value:function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}},{key:"_cleanTracks",value:function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)zx(t[n])}}},{key:"onSubtitleTracksUpdated",value:function(e,t){var n=this,r=t.subtitleTracks||[],i=r.some((function(e){return e.textCodec===AC}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(FT(this.tracks,r))return void(this.tracks=r);if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){var a=this.media?this.media.textTracks:null;this.tracks.forEach((function(e,t){var r;if(a&&t<a.length){for(var i=null,o=0;o<a.length;o++)if(BC(a[o],e)){i=a[o];break}i&&(r=i)}if(r)zx(r);else{var s=n._captionsOrSubtitlesFromCharacteristics(e);(r=n.createTextTrack(s,e.name,e.lang))&&(r.mode="disabled")}r&&(r.groupId=e.groupId,n.textTracks.push(r))}))}else if(this.tracks.length){var o=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(zk.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}},{key:"_captionsOrSubtitlesFromCharacteristics",value:function(e){if(e.attrs.CHARACTERISTICS){var t=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(t&&n)return"captions"}return"subtitles"}},{key:"onManifestLoaded",value:function(e,t){var n=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack".concat(t[1]),i=n.captionsProperties[r];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))}},{key:"closedCaptionsForLevel",value:function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}},{key:"onFragLoading",value:function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2,i=this.lastSn,a=this.lastPartIndex;if(this.enabled&&n&&r&&t.frag.type===Nx){var o,s,l=t.frag.sn,u=null!=(o=null==t||null==(s=t.part)?void 0:s.index)?o:-1;l===i+1||l===i&&u===a+1||(n.reset(),r.reset()),this.lastSn=l,this.lastPartIndex=u}}},{key:"onFragLoaded",value:function(e,t){var n=t.frag,r=t.payload;if(n.type===Fx)if(r.byteLength){var i=n.decryptdata,a="stats"in t;if(null==i||!i.encrypted||a){var o=this.tracks[n.level],s=this.vttCCs;s[n.cc]||(s[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===AC?this._parseIMSC1(n,r):this._parseVTTs(t)}}else this.hls.trigger(zk.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}},{key:"_parseIMSC1",value:function(e,t){var n=this,r=this.hls;_C(t,this.initPTS[e.cc],(function(t){n._appendCues(t,e.level),r.trigger(zk.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){Xk.log("Failed to parse IMSC1: ".concat(t)),r.trigger(zk.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}},{key:"_parseVTTs",value:function(e){var t,n=this,r=e.frag,i=e.payload,a=this.initPTS,o=this.unparsedVttFrags,s=a.length-1;if(a[r.cc]||-1!==s){var l=this.hls;LC(null!=(t=r.initSegment)&&t.data?ex(r.initSegment.data,new Uint8Array(i)):i,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,(function(e){n._appendCues(e,r.level),l.trigger(zk.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})}),(function(t){var a="Missing initPTS for VTT MPEGTS"===t.message;a?o.push(e):n._fallbackToIMSC1(r,i),Xk.log("Failed to parse VTT cue: ".concat(t)),a&&s>r.cc||l.trigger(zk.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:t})}))}else o.push(e)}},{key:"_fallbackToIMSC1",value:function(e,t){var n=this,r=this.tracks[e.level];r.textCodec||_C(t,this.initPTS[e.cc],(function(){r.textCodec=AC,n._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))}},{key:"_appendCues",value:function(e,t){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if(!r||"disabled"===r.mode)return;e.forEach((function(e){return Hx(r,e)}))}else{var i=this.tracks[t];if(!i)return;var a=i.default?"default":"subtitles"+t;n.trigger(zk.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}},{key:"onFragDecrypted",value:function(e,t){t.frag.type===Fx&&this.onFragLoaded(zk.FRAG_LOADED,t)}},{key:"onSubtitleTracksCleared",value:function(){this.tracks=[],this.captionsTracks={}}},{key:"onFragParsingUserdata",value:function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r){var i=t.frag,a=t.samples;if(i.type!==Nx||"NONE"!==this.closedCaptionsForLevel(i))for(var o=0;o<a.length;o++){var s=a[o].bytes;if(s){var l=this.extractCea608Data(s);n.addData(a[o].pts,l[0]),r.addData(a[o].pts,l[1])}}}}},{key:"onBufferFlushing",value:function(e,t){var n=t.startOffset,r=t.endOffset,i=t.endOffsetSubtitles,a=t.type,o=this.media;if(o&&!(o.currentTime<r)){if(!a||"video"===a){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Gx(s[e],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var l=this.textTracks;Object.keys(l).forEach((function(e){return Gx(l[e],n,i)}))}}}},{key:"extractCea608Data",value:function(e){for(var t=[[],[]],n=31&e[0],r=2,i=0;i<n;i++){var a=e[r++],o=127&e[r++],s=127&e[r++];if(0!==o||0!==s)if(0!==(4&a)){var l=3&a;0!==l&&1!==l||(t[l].push(o),t[l].push(s))}}return t}}]),e}();function BC(e,t){return!!e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var VC=function(){function e(t){f(this,e),this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}return g(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"destroy",value:function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}},{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(zk.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.on(zk.BUFFER_CODECS,this.onBufferCodecs,this),e.on(zk.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"unregisterListener",value:function(){var e=this.hls;e.off(zk.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(zk.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.off(zk.BUFFER_CODECS,this.onBufferCodecs,this),e.off(zk.MEDIA_DETACHING,this.onMediaDetaching,this)}},{key:"onFpsDropLevelCapping",value:function(e,t){var n=this.hls.levels[t.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}},{key:"onMediaAttaching",value:function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null}},{key:"onManifestParsed",value:function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onBufferCodecs",value:function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}},{key:"onMediaDetaching",value:function(){this.stopCapping()}},{key:"detectPlayerSize",value:function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(e,r){return n.isLevelAllowed(e)&&r<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}},{key:"startCapping",value:function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"stopCapping",value:function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}},{key:"getDimensions",value:function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t}},{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}},{key:"isLevelAllowed",value:function(e){return!this.restrictedLevels.some((function(t){return e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height}))}}],[{key:"getMaxLevelByMediaSize",value:function(e,t,n){if(null==e||!e.length)return-1;for(var r,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=n)&&(r=s,!(i=e[o+1])||r.width!==i.width||r.height!==i.height)){a=o;break}}return a}}]),e}(),HC=function(){function e(t){f(this,e),this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}return g(e,[{key:"setStreamController",value:function(e){this.streamController=e}},{key:"registerListeners",value:function(){this.hls.on(zk.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"unregisterListeners",value:function(){this.hls.off(zk.MEDIA_ATTACHING,this.onMediaAttaching,this)}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}},{key:"onMediaAttaching",value:function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"===typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var i=r-this.lastTime,a=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/i,l=this.hls;if(l.trigger(zk.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var u=l.currentLevel;Xk.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(zk.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),e}(),zC="[eme]",GC=function(){function e(t){f(this,e),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=e.CDMCleanupPromise?[e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Xk.debug.bind(Xk,zC),this.log=Xk.log.bind(Xk,zC),this.warn=Xk.warn.bind(Xk,zC),this.error=Xk.error.bind(Xk,zC),this.hls=t,this.config=t.config,this.registerListeners()}return g(e,[{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached();var e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}},{key:"registerListeners",value:function(){this.hls.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(zk.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(zk.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"unregisterListeners",value:function(){this.hls.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(zk.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(zk.MANIFEST_LOADED,this.onManifestLoaded,this)}},{key:"getLicenseServerUrl",value:function(e){var t=this.config,n=t.drmSystems,r=t.widevineLicenseUrl,i=n[e];if(i)return i.licenseUrl;if(e===hw.WIDEVINE&&r)return r;throw new Error('no license server URL configured for key-system "'.concat(e,'"'))}},{key:"getServerCertificateUrl",value:function(e){var t=this.config.drmSystems[e];if(t)return t.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'.concat(e,'"]'))}},{key:"attemptKeySystemAccess",value:function(e){var t=this,n=this.hls.levels,r=function(e,t,n){return!!e&&n.indexOf(e)===t},i=n.map((function(e){return e.audioCodec})).filter(r),a=n.map((function(e){return e.videoCodec})).filter(r);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(n,r){!function e(o){var s=o.shift();t.getMediaKeysPromise(s,i,a).then((function(e){return n({keySystem:s,mediaKeys:e})})).catch((function(t){o.length?e(o):r(t instanceof qC?t:new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))}(e)}))}},{key:"requestMediaKeySystemAccess",value:function(e,t){var n=this.config.requestMediaKeySystemAccessFunc;if("function"!==typeof n){var r="Configured requestMediaKeySystemAccess is not a function ".concat(n);return null===xw&&"http:"===self.location.protocol&&(r="navigator.requestMediaKeySystemAccess is not available over insecure protocol ".concat(location.protocol)),Promise.reject(new Error(r))}return n(e,t)}},{key:"getMediaKeysPromise",value:function(e,t,n){var r=this,i=function(e,t,n,r){var i;switch(e){case hw.FAIRPLAY:i=["cenc","sinf"];break;case hw.WIDEVINE:case hw.PLAYREADY:i=["cenc"];break;case hw.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: ".concat(e))}return function(e,t,n,r){return[{initDataTypes:e,persistentState:r.persistentState||"not-allowed",distinctiveIdentifier:r.distinctiveIdentifier||"not-allowed",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:t.map((function(e){return{contentType:'audio/mp4; codecs="'.concat(e,'"'),robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}})),videoCapabilities:n.map((function(e){return{contentType:'video/mp4; codecs="'.concat(e,'"'),robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}}))}]}(i,t,n,r)}(e,t,n,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e],o=null==a?void 0:a.keySystemAccess;if(!o){this.log('Requesting encrypted media "'.concat(e,'" key-system access with config: ').concat(JSON.stringify(i))),o=this.requestMediaKeySystemAccess(e,i);var s=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch((function(t){r.log('Failed to obtain access to key-system "'.concat(e,'": ').concat(t))})),o.then((function(t){r.log('Access for key-system "'.concat(t.keySystem,'" obtained'));var n=r.fetchServerCertificate(e);return r.log('Create media-keys for "'.concat(e,'"')),s.mediaKeys=t.createMediaKeys().then((function(t){return r.log('Media-keys created for "'.concat(e,'"')),n.then((function(n){return n?r.setMediaKeysServerCertificate(t,e,n):t}))})),s.mediaKeys.catch((function(t){r.error('Failed to create media-keys for "'.concat(e,'"}: ').concat(t))})),s.mediaKeys}))}return o.then((function(){return a.mediaKeys}))}},{key:"createMediaKeySessionContext",value:function(e){var t=e.decryptdata,n=e.keySystem,r=e.mediaKeys;this.log('Creating key-system session "'.concat(n,'" keyId: ').concat(Bw(t.keyId||[])));var i=r.createSession(),a={decryptdata:t,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}},{key:"renewKeySession",value:function(e){var t=e.decryptdata;if(t.pssh){var n=this.createMediaKeySessionContext(e),r=this.getKeyIdString(t);this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,"cenc",t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}},{key:"getKeyIdString",value:function(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Bw(e.keyId)}},{key:"updateKeySession",value:function(e,t){var n,r=e.mediaKeysSession;return this.log('Updating key-session "'.concat(r.sessionId,'" for keyID ').concat(Bw((null==(n=e.decryptdata)?void 0:n.keyId)||[]),"\n      } (data length: ").concat(t?t.byteLength:t,")")),r.update(t)}},{key:"selectKeySystemFormat",value:function(e){var t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: ".concat(e.sn," ").concat(e.type,": ").concat(e.level,") key formats ").concat(t.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}},{key:"getKeyFormatPromise",value:function(e){var t=this;return new Promise((function(n,r){var i=ww(t.config),a=e.map(yw).filter((function(e){return!!e&&-1!==i.indexOf(e)}));return t.getKeySystemSelectionPromise(a).then((function(e){var t=e.keySystem,i=kw(t);i?n(i):r(new Error('Unable to find format for key-system "'.concat(t,'"')))})).catch(r)}))}},{key:"loadKey",value:function(e){var t=this,n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i="(keyId: ".concat(r,' format: "').concat(n.keyFormat,'" method: ').concat(n.method," uri: ").concat(n.uri,")");this.log("Starting session for key ".concat(i));var a=this.keyIdToKeySessionPromise[r];return a||(a=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then((function(r){var a=r.keySystem,o=r.mediaKeys;return t.throwIfDestroyed(),t.log("Handle encrypted media sn: ".concat(e.frag.sn," ").concat(e.frag.type,": ").concat(e.frag.level," using key ").concat(i)),t.attemptSetMediaKeys(a,o).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:n});return t.generateRequestWithPreferredKeySession(e,"cenc",n.pssh,"playlist-key")}))}))).catch((function(e){return t.handleError(e)})),a}},{key:"throwIfDestroyed",value:function(){if(!this.hls)throw new Error("invalid state")}},{key:"handleError",value:function(e){this.hls&&(this.error(e.message),e instanceof qC?this.hls.trigger(zk.ERROR,e.data):this.hls.trigger(zk.ERROR,{type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}},{key:"getKeySystemForKeyPromise",value:function(e){var t=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[t];if(!n){var r=yw(e.keyFormat),i=r?[r]:ww(this.config);return this.attemptKeySystemAccess(i)}return n}},{key:"getKeySystemSelectionPromise",value:function(e){if(e.length||(e=ww(this.config)),0===e.length)throw new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options ".concat(JSON.stringify({drmSystems:this.config.drmSystems})));return this.attemptKeySystemAccess(e)}},{key:"_onMediaEncrypted",value:function(e){var t=this,n=e.initDataType,r=e.initData;if(this.debug('"'.concat(e.type,'" event: init data type: "').concat(n,'"')),null!==r){var i,a;if("sinf"===n&&this.config.drmSystems[hw.FAIRPLAY]){var o=Gw(new Uint8Array(r));try{var s=cw(JSON.parse(o).sinf),l=Zw(new Uint8Array(s));if(!l)return;i=l.subarray(8,24),a=hw.FAIRPLAY}catch(v){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var u=function(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;var t={version:0,systemId:"",kids:null,data:null},n=new DataView(e),r=n.getUint32(0);if(e.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(t.version=n.getUint32(8)>>>24,t.version>1)return null;t.systemId=Bw(new Uint8Array(e,12,16));var i=n.getUint32(28);if(0===t.version){if(r-32<i)return null;t.data=new Uint8Array(e,32,i)}else if(1===t.version){t.kids=[];for(var a=0;a<i;a++)t.kids.push(new Uint8Array(e,32+16*a,16))}return t}(r);if(null===u)return;0===u.version&&u.systemId===bw&&u.data&&(i=u.data.subarray(8,24)),a=function(e){if(e===bw)return hw.WIDEVINE}(u.systemId)}if(a&&i){for(var c=Bw(i),d=this.keyIdToKeySessionPromise,f=this.mediaKeySessions,h=d[c],p=function(){var e=f[m],a=e.decryptdata;if(a.pssh||!a.keyId)return"continue";var o=Bw(a.keyId);return c===o||-1!==a.uri.replace(/-/g,"").indexOf(c)?(h=d[o],delete d[o],a.pssh=new Uint8Array(r),a.keyId=i,h=d[c]=h.then((function(){return t.generateRequestWithPreferredKeySession(e,n,r,"encrypted-event-key-match")})),"break"):void 0},m=0;m<f.length;m++){var g=p();if("continue"!==g&&"break"===g)break}h||(h=d[c]=this.getKeySystemSelectionPromise([a]).then((function(e){var a,o=e.keySystem,s=e.mediaKeys;t.throwIfDestroyed();var l=new sx("ISO-23001-7",c,null!=(a=kw(o))?a:"");return l.pssh=new Uint8Array(r),l.keyId=i,t.attemptSetMediaKeys(o,s).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({decryptdata:l,keySystem:o,mediaKeys:s});return t.generateRequestWithPreferredKeySession(e,n,r,"encrypted-event-no-match")}))}))),h.catch((function(e){return t.handleError(e)}))}}}},{key:"_onWaitingForKey",value:function(e){this.log('"'.concat(e.type,'" event'))}},{key:"attemptSetMediaKeys",value:function(e,t){var n=this,r=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'.concat(e,'"'));var i=Promise.all(r).then((function(){if(!n.media)throw new Error("Attempted to set mediaKeys without media element attached");return n.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(i),i.then((function(){n.log('Media-keys set for "'.concat(e,'"')),r.push(i),n.setMediaKeysQueue=n.setMediaKeysQueue.filter((function(e){return-1===r.indexOf(e)}))}))}},{key:"generateRequestWithPreferredKeySession",value:function(e,t,n,r){var i,a,o=this,s=null==(i=this.config.drmSystems)||null==(a=i[e.keySystem])?void 0:a.generateRequest;if(s)try{var l=s.call(this.hls,t,n,e);if(!l)throw new Error("Invalid response from configured generateRequest filter");t=l.initDataType,n=e.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(h){var u;if(this.warn(h.message),null!=(u=this.hls)&&u.config.debug)throw h}if(null===n)return this.log('Skipping key-session request for "'.concat(r,'" (no initData)')),Promise.resolve(e);var c=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'.concat(r,'": ').concat(c," (init data type: ").concat(t," length: ").concat(n?n.byteLength:null,")"));var d=new CT;e.mediaKeysSession.onmessage=function(t){var n=e.mediaKeysSession;if(n){var r=t.messageType,i=t.message;o.log('"'.concat(r,'" message event for session "').concat(n.sessionId,'" message size: ').concat(i.byteLength)),"license-request"===r||"license-renewal"===r?o.renewLicense(e,i).catch((function(e){o.handleError(e),d.emit("error",e)})):"license-release"===r?e.keySystem===hw.FAIRPLAY&&(o.updateKeySession(e,fw("acknowledged")),o.removeSession(e)):o.warn('unhandled media key message type "'.concat(r,'"'))}else d.emit("error",new Error("invalid state"))},e.mediaKeysSession.onkeystatuseschange=function(t){if(e.mediaKeysSession){o.onKeyStatusChange(e);var n=e.keyStatus;d.emit("keyStatus",n),"expired"===n&&(o.warn("".concat(e.keySystem," expired for key ").concat(c)),o.renewKeySession(e))}else d.emit("error",new Error("invalid state"))};var f=new Promise((function(e,t){d.on("error",t),d.on("keyStatus",(function(n){n.startsWith("usable")?e():"output-restricted"===n?t(new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?t(new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'.concat(n,'"'))):"expired"===n?t(new Error("key expired while generating request")):o.warn('unhandled key status change "'.concat(n,'"'))}))}));return e.mediaKeysSession.generateRequest(t,n).then((function(){var t;o.log('Request generated for key-session "'.concat(null==(t=e.mediaKeysSession)?void 0:t.sessionId,'" keyId: ').concat(c))})).catch((function(e){throw new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: ".concat(e))})).then((function(){return f})).catch((function(t){throw d.removeAllListeners(),o.removeSession(e),t})).then((function(){return d.removeAllListeners(),e}))}},{key:"onKeyStatusChange",value:function(e){var t=this;e.mediaKeysSession.keyStatuses.forEach((function(n,r){t.log('key status change "'.concat(n,'" for keyStatuses keyId: ').concat(Bw("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))," session keyId: ").concat(Bw(new Uint8Array(e.decryptdata.keyId||[]))," uri: ").concat(e.decryptdata.uri)),e.keyStatus=n}))}},{key:"fetchServerCertificate",value:function(e){var t=this.config,n=new(0,t.loader)(t),r=this.getServerCertificateUrl(e);return r?(this.log('Fetching serverCertificate for "'.concat(e,'"')),new Promise((function(i,a){var o={responseType:"arraybuffer",url:r},s=t.certLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:function(e,t,n,r){i(e.data)},onError:function(t,n,i,s){a(new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:Uk({url:o.url,data:void 0},t)},'"'.concat(e,'" certificate request failed (').concat(r,"). Status: ").concat(t.code," (").concat(t.text,")")))},onTimeout:function(t,n,i){a(new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:o.url,data:void 0}},'"'.concat(e,'" certificate request timed out (').concat(r,")")))},onAbort:function(e,t,n){a(new Error("aborted"))}};n.load(o,l,u)}))):Promise.resolve()}},{key:"setMediaKeysServerCertificate",value:function(e,t,n){var r=this;return new Promise((function(i,a){e.setServerCertificate(n).then((function(a){r.log("setServerCertificate ".concat(a?"success":"not supported by CDM"," (").concat(null==n?void 0:n.byteLength,') on "').concat(t,'"')),i(e)})).catch((function(e){a(new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}},{key:"renewLicense",value:function(e,t){var n=this;return this.requestLicense(e,new Uint8Array(t)).then((function(t){return n.updateKeySession(e,new Uint8Array(t)).catch((function(e){throw new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))}))}},{key:"setupLicenseXHR",value:function(e,t,n,r){var i=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then((function(){if(!n.decryptdata)throw new Error("Key removed");return a.call(i.hls,e,t,n,r)})).catch((function(o){if(!n.decryptdata)throw o;return e.open("POST",t,!0),a.call(i.hls,e,t,n,r)})).then((function(n){return e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:n||r}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}},{key:"requestLicense",value:function(e,t){var n=this,r=this.config.keyLoadPolicy.default;return new Promise((function(i,a){var o=n.getLicenseServerUrl(e.keySystem);n.log("Sending license request to URL: ".concat(o));var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onreadystatechange=function(){if(!n.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(4===s.readyState)if(200===s.status){n._requestLicenseFailureCount=0;var l=s.response;n.log("License received ".concat(l instanceof ArrayBuffer?l.byteLength:l));var u=n.config.licenseResponseCallback;if(u)try{l=u.call(n.hls,s,o,e)}catch(h){n.error(h)}i(l)}else{var c=r.errorRetry,d=c?c.maxNumRetry:0;if(n._requestLicenseFailureCount++,n._requestLicenseFailureCount>d||s.status>=400&&s.status<500)a(new qC({type:Gk.KEY_SYSTEM_ERROR,details:qk.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:o,data:void 0,code:s.status,text:s.statusText}},"License Request XHR failed (".concat(o,"). Status: ").concat(s.status," (").concat(s.statusText,")")));else{var f=d-n._requestLicenseFailureCount+1;n.warn("Retrying license request, ".concat(f," attempts left")),n.requestLicense(e,t).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=s,n.setupLicenseXHR(s,o,e,t).then((function(e){var t=e.xhr,n=e.licenseChallenge;t.send(n)}))}))}},{key:"onMediaAttached",value:function(e,t){if(this.config.emeEnabled){var n=t.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}}},{key:"onMediaDetached",value:function(){var t=this,n=this.media,r=this.mediaKeySessions;n&&(n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},sx.clearKeyUriToKeyIdMap();var i=r.length;e.CDMCleanupPromise=Promise.all(r.map((function(e){return t.removeSession(e)})).concat(null==n?void 0:n.setMediaKeys(null).catch((function(e){t.log("Could not clear media keys: ".concat(e,". media.src: ").concat(null==n?void 0:n.src))})))).then((function(){i&&(t.log("finished closing key sessions and clearing media keys"),r.length=0)})).catch((function(e){t.log("Could not close sessions and clear media keys: ".concat(e,". media.src: ").concat(null==n?void 0:n.src))}))}},{key:"onManifestLoading",value:function(){this.keyFormatPromise=null}},{key:"onManifestLoaded",value:function(e,t){var n=t.sessionKeys;if(n&&this.config.emeEnabled&&!this.keyFormatPromise){var r=n.reduce((function(e,t){return-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e}),[]);this.log("Selecting key-system from session-keys ".concat(r.join(", "))),this.keyFormatPromise=this.getKeyFormatPromise(r)}}},{key:"removeSession",value:function(e){var t=this,n=e.mediaKeysSession,r=e.licenseXhr;if(n){this.log("Remove licenses and keys and close session ".concat(n.sessionId)),n.onmessage=null,n.onkeystatuseschange=null,r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;var i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch((function(e){t.log("Could not remove session: ".concat(e))})).then((function(){return n.close()})).catch((function(e){t.log("Could not close session: ".concat(e))}))}}}]),e}();GC.CDMCleanupPromise=void 0;var qC=function(e){y(n,e);var t=E(n);function n(e,r){var i;return f(this,n),(i=t.call(this,r)).data=void 0,e.error||(e.error=new Error(r)),i.data=e,e.err=e.error,i}return g(n)}(T(Error)),KC="m",WC="a",YC="v",$C="av",XC="i",QC="tt",ZC=function(){function e(t){var n=this;f(this,e),this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){n.initialized&&(n.starved=!0),n.buffering=!0},this.onPlaying=function(){n.initialized||(n.initialized=!0),n.buffering=!1},this.applyPlaylistData=function(e){try{n.apply(e,{ot:KC,su:!n.initialized})}catch(t){Xk.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=function(e){try{var t=e.frag,r=n.hls.levels[t.level],i=n.getObjectType(t),a={d:1e3*t.duration,ot:i};i!==YC&&i!==WC&&i!=$C||(a.br=r.bitrate/1e3,a.tb=n.getTopBandwidth(i)/1e3,a.bl=n.getBufferLength(i)),n.apply(e,a)}catch(o){Xk.warn("Could not generate segment CMCD data.",o)}},this.hls=t;var r=this.config=t.config,i=r.cmcd;null!=i&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||e.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}return g(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(zk.MEDIA_DETACHED,this.onMediaDetached,this),e.on(zk.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e.off(zk.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(zk.MEDIA_DETACHED,this.onMediaDetached,this),e.off(zk.BUFFER_CREATED,this.onBufferCreated,this)}},{key:"destroy",value:function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}},{key:"onMediaAttached",value:function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}},{key:"onMediaDetached",value:function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}},{key:"onBufferCreated",value:function(e,t){var n,r;this.audioBuffer=null==(n=t.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=t.tracks.video)?void 0:r.buffer}},{key:"createData",value:function(){var e;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}},{key:"apply",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vk(n,this.createData());var r=n.ot===XC||n.ot===YC||n.ot===$C;if(this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),null==n.su&&(n.su=this.buffering),this.useHeaders){var i=e.toHeaders(n);if(!Object.keys(i).length)return;t.headers||(t.headers={}),Vk(t.headers,i)}else{var a=e.toQuery(n);if(!a)return;t.url=e.appendQueryToUri(t.url,a)}}},{key:"getObjectType",value:function(e){var t=e.type;return"subtitle"===t?QC:"initSegment"===e.sn?XC:"audio"===t?WC:"main"===t?this.hls.audioTracks.length?YC:$C:void 0}},{key:"getTopBandwidth",value:function(e){var t,n=0,r=this.hls;if(e===WC)t=r.audioTracks;else{var i=r.maxAutoLevel,a=i>-1?i+1:r.levels.length;t=r.levels.slice(0,a)}var o,s=L(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.bitrate>n&&(n=l.bitrate)}}catch(wP){s.e(wP)}finally{s.f()}return n>0?n:NaN}},{key:"getBufferLength",value:function(e){var t=this.hls.media,n=e===WC?this.audioBuffer:this.videoBuffer;return n&&t?1e3*$E.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len:NaN}},{key:"createPlaylistLoader",value:function(){var e=this.config.pLoader,t=this.applyPlaylistData,n=e||this.config.loader;return function(){function e(t){f(this,e),this.loader=void 0,this.loader=new n(t)}return g(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,n,r){t(e),this.loader.load(e,n,r)}}]),e}()}},{key:"createFragmentLoader",value:function(){var e=this.config.fLoader,t=this.applyFragmentData,n=e||this.config.loader;return function(){function e(t){f(this,e),this.loader=void 0,this.loader=new n(t)}return g(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}},{key:"destroy",value:function(){this.loader.destroy()}},{key:"abort",value:function(){this.loader.abort()}},{key:"load",value:function(e,n,r){t(e),this.loader.load(e,n,r)}}]),e}()}}],[{key:"uuid",value:function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}},{key:"serialize",value:function(e){var t,n=[],r=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},i=function(e){return Math.round(e)},a=function(e){return 100*i(e/100)},o={br:i,d:i,bl:a,dl:a,mtp:a,nor:function(e){return encodeURIComponent(e)},rtp:a,tb:i},s=L(Object.keys(e||{}).sort());try{for(s.s();!(t=s.n()).done;){var l=t.value,u=e[l];if(r(u)&&(("v"!==l||1!==u)&&("pr"!=l||1!==u))){var c=o[l];c&&(u=c(u));var d=typeof u,f=void 0;f="ot"===l||"sf"===l||"st"===l?"".concat(l,"=").concat(u):"boolean"===d?l:"number"===d?"".concat(l,"=").concat(u):"".concat(l,"=").concat(JSON.stringify(u)),n.push(f)}}}catch(wP){s.e(wP)}finally{s.f()}return n.join(",")}},{key:"toHeaders",value:function(t){for(var n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},o=0,s=Object.keys(t);o<s.length;o++){var l=s[o];i[null!=a[l]?a[l]:1][l]=t[l]}for(var u=0;u<i.length;u++){var c=e.serialize(i[u]);c&&(n["CMCD-".concat(r[u])]=c)}return n}},{key:"toQuery",value:function(t){return"CMCD=".concat(encodeURIComponent(e.serialize(t)))}},{key:"appendQueryToUri",value:function(e,t){if(!t)return e;var n=e.includes("?")?"&":"?";return"".concat(e).concat(n).concat(t)}}]),e}(),JC=function(){function e(t){f(this,e),this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=Xk.log.bind(Xk,"[content-steering]:"),this.registerListeners()}return g(e,[{key:"registerListeners",value:function(){var e=this.hls;e.on(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.on(zk.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.on(zk.ERROR,this.onError,this)}},{key:"unregisterListeners",value:function(){var e=this.hls;e&&(e.off(zk.MANIFEST_LOADING,this.onManifestLoading,this),e.off(zk.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(zk.MANIFEST_PARSED,this.onManifestParsed,this),e.off(zk.ERROR,this.onError,this))}},{key:"startLoad",value:function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var e=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)}},{key:"stopLoad",value:function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}},{key:"destroy",value:function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"removeLevel",value:function(e){var t=this.levels;t&&(this.levels=t.filter((function(t){return t!==e})))}},{key:"onManifestLoading",value:function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}},{key:"onManifestLoaded",value:function(e,t){var n=t.contentSteering;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}},{key:"onManifestParsed",value:function(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}},{key:"onError",value:function(e,t){var n=t.errorAction;if((null==n?void 0:n.action)===EE&&n.flags===CE){var r=this.pathwayPriority,i=this.pathwayId;this.penalizedPathways[i]||(this.penalizedPathways[i]=performance.now()),!r&&this.levels&&(r=this.levels.reduce((function(e,t){return-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e}),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==i)}}},{key:"filterParsedLevels",value:function(e){this.levels=e;var t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){var n=e[0].pathwayId;this.log("No levels found in Pathway ".concat(this.pathwayId,'. Setting initial Pathway to "').concat(n,'"')),t=this.getLevelsForPathway(n),this.pathwayId=n}return t.length!==e.length?(this.log("Found ".concat(t.length,"/").concat(e.length,' levels in Pathway "').concat(this.pathwayId,'"')),t):e}},{key:"getLevelsForPathway",value:function(e){return null===this.levels?[]:this.levels.filter((function(t){return e===t.pathwayId}))}},{key:"updatePathwayPriority",value:function(e){var t;this.pathwayPriority=e;var n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((function(e){r-n[e]>3e5&&delete n[e]}));for(var i=0;i<e.length;i++){var a=e[i];if(!n[a]){if(a===this.pathwayId)return;var o=this.hls.nextLoadLevel,s=this.hls.levels[o];if((t=this.getLevelsForPathway(a)).length>0){this.log('Setting Pathway to "'.concat(a,'"')),this.pathwayId=a,this.hls.trigger(zk.LEVELS_UPDATED,{levels:t});var l=this.hls.levels[o];s&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==s.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==s.bitrate&&this.log("Unstable Pathways change from bitrate ".concat(s.bitrate," to ").concat(l.bitrate)),this.hls.nextLoadLevel=o);break}}}}},{key:"clonePathways",value:function(e){var t=this,n=this.levels;if(n){var r={},i={};e.forEach((function(e){var a=e.ID,o=e["BASE-ID"],s=e["URI-REPLACEMENT"];if(!n.some((function(e){return e.pathwayId===a}))){var l=t.getLevelsForPathway(o).map((function(e){var t=Vk({},e);t.details=void 0,t.url=tL(e.uri,e.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",s);var n=new Jk(e.attrs);n["PATHWAY-ID"]=a;var o=n.AUDIO&&"".concat(n.AUDIO,"_clone_").concat(a),l=n.SUBTITLES&&"".concat(n.SUBTITLES,"_clone_").concat(a);o&&(r[n.AUDIO]=o,n.AUDIO=o),l&&(i[n.SUBTITLES]=l,n.SUBTITLES=l),t.attrs=n;var u=new iE(t);return _E(u,"audio",o),_E(u,"text",l),u}));n.push.apply(n,d(l)),eL(t.audioTracks,r,s,a),eL(t.subtitleTracks,i,s,a)}}))}}},{key:"loadSteeringManifest",value:function(e){var t,n=this,r=this.hls.config,i=r.loader;this.loader&&this.loader.destroy(),this.loader=new i(r);try{t=new self.URL(e)}catch(d){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: ".concat(e))}if("data:"!==t.protocol){var a=0|(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate);t.searchParams.set("_HLS_pathway",this.pathwayId),t.searchParams.set("_HLS_throughput",""+a)}var o={responseType:"json",url:t.href},s=r.steeringManifestLoadPolicy.default,l=s.errorRetry||s.timeoutRetry||{},u={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:function(e,r,i,a){n.log('Loaded steering manifest: "'.concat(t,'"'));var o=e.data;if(1===o.VERSION){n.updated=performance.now(),n.timeToLoad=o.TTL;var s=o["RELOAD-URI"],l=o["PATHWAY-CLONES"],u=o["PATHWAY-PRIORITY"];if(s)try{n.uri=new self.URL(s,t).href}catch(d){return n.enabled=!1,void n.log("Failed to parse Steering Manifest RELOAD-URI: ".concat(s))}n.scheduleRefresh(n.uri||i.url),l&&n.clonePathways(l),u&&n.updatePathwayPriority(u)}else n.log("Steering VERSION ".concat(o.VERSION," not supported!"))},onError:function(e,t,r,i){if(n.log("Error loading steering manifest: ".concat(e.code," ").concat(e.text," (").concat(t.url,")")),n.stopLoad(),410===e.code)return n.enabled=!1,void n.log("Steering manifest ".concat(t.url," no longer available"));var a=1e3*n.timeToLoad;if(429!==e.code)n.scheduleRefresh(n.uri||t.url,a);else{var o=n.loader;if("function"===typeof(null==o?void 0:o.getResponseHeader)){var s=o.getResponseHeader("Retry-After");s&&(a=1e3*parseFloat(s))}n.log("Steering manifest ".concat(t.url," rate limited"))}},onTimeout:function(e,t,r){n.log("Timeout loading steering manifest (".concat(t.url,")")),n.scheduleRefresh(n.uri||t.url)}};this.log("Requesting steering manifest: ".concat(t)),this.loader.load(o,u,c)}},{key:"scheduleRefresh",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*this.timeToLoad;self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((function(){t.loadSteeringManifest(e)}),n)}}]),e}();function eL(e,t,n,r){e&&Object.keys(t).forEach((function(i){var a=e.filter((function(e){return e.groupId===i})).map((function(e){var a=Vk({},e);return a.details=void 0,a.attrs=new Jk(a.attrs),a.url=a.attrs.URI=tL(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=t[i],a.attrs["PATHWAY-ID"]=r,a}));e.push.apply(e,d(a))}))}function tL(e,t,n,r){var i,a=r.HOST,o=r.PARAMS,s=r[n];t&&(i=null==s?void 0:s[t])&&(e=i);var l=new self.URL(e);return a&&!i&&(l.host=a),o&&Object.keys(o).sort().forEach((function(e){e&&l.searchParams.set(e,o[e])})),l.href}var nL=/^age:\s*[\d.]+\s*$/im,rL=function(){function e(t){f(this,e),this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new nw,this.retryDelay=0}return g(e,[{key:"destroy",value:function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}},{key:"abortInternal",value:function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}},{key:"load",value:function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.loadInternal()}},{key:"loadInternal",value:function(){var e=this,t=this.config,n=this.context;if(t){var r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;var a=this.xhrSetup;a?Promise.resolve().then((function(){if(!e.stats.aborted)return a(r,n.url)})).catch((function(e){return r.open("GET",n.url,!0),a(r,n.url)})).then((function(){e.stats.aborted||e.openAndSendXhr(r,n,t)})).catch((function(t){e.callbacks.onError({code:r.status,text:t.message},n,r,i)})):this.openAndSendXhr(r,n,t)}}},{key:"openAndSendXhr",value:function(e,t,n){e.readyState||e.open("GET",t.url,!0);var r=this.context.headers,i=n.loadPolicy,a=i.maxTimeToFirstByteMs,o=i.maxLoadTimeMs;if(r)for(var s in r)e.setRequestHeader(s,r[s]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&Hk(a)?a:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}},{key:"readystatechange",value:function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var r=t.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;var a=t.status,o="text"!==t.responseType;if(a>=200&&a<300&&(o&&t.response||null!==t.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);var s=o?t.response:t.responseText,l="arraybuffer"===t.responseType?s.byteLength:s.length;if(n.loaded=n.total=l,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(n,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s,code:a};this.callbacks.onSuccess(c,n,e,t)}else{var d=i.loadPolicy.errorRetry;gE(d,n.retry,!1,a)?this.retry(d):(Xk.error("".concat(a," while loading ").concat(e.url)),this.callbacks.onError({code:a,text:t.statusText},e,t,n))}}}}},{key:"loadtimeout",value:function(){var e,t=null==(e=this.config)?void 0:e.loadPolicy.timeoutRetry;if(gE(t,this.stats.retry,!0))this.retry(t);else{Xk.warn("timeout while loading ".concat(this.context.url));var n=this.callbacks;n&&(this.abortInternal(),n.onTimeout(this.stats,this.context,this.loader))}}},{key:"retry",value:function(e){var t=this.context,n=this.stats;this.retryDelay=pE(e,n.retry),n.retry++,Xk.warn("".concat(status?"HTTP Status "+status:"Timeout"," while loading ").concat(t.url,", retrying ").concat(n.retry,"/").concat(e.maxNumRetry," in ").concat(this.retryDelay,"ms")),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}},{key:"getCacheAge",value:function(){var e=null;if(this.loader&&nL.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.loader&&new RegExp("^".concat(e,":\\s*[\\d.]+\\s*$"),"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}]),e}();var iL=/(\d+)-(\d+)\/(\d+)/,aL=function(){function e(t){f(this,e),this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||oL,this.controller=new self.AbortController,this.stats=new nw}return g(e,[{key:"destroy",value:function(){this.loader=this.callbacks=null,this.abortInternal()}},{key:"abortInternal",value:function(){var e=this.response;null!=e&&e.ok||(this.stats.aborted=!0,this.controller.abort())}},{key:"abort",value:function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}},{key:"load",value:function(e,t,n){var r=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var a=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(Vk({},e.headers))};e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return n}(e,this.controller.signal),o=n.onProgress,s="arraybuffer"===e.responseType,l=s?"byteLength":"length",u=t.loadPolicy,c=u.maxTimeToFirstByteMs,d=u.maxLoadTimeMs;this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),t.timeout=c&&Hk(c)?c:d,this.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,e,r.response)}),t.timeout),self.fetch(this.request).then((function(a){r.response=r.loader=a;var l=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(r.requestTimeout),t.timeout=d,r.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(i,e,r.response)}),d-(l-i.loading.start)),!a.ok){var u=a.status,c=a.statusText;throw new sL(c||"fetch, bad network response",u,a)}return i.loading.first=l,i.total=function(e){var t=e.get("Content-Range");if(t){var n=function(e){var t=iL.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(Hk(n))return n}var r=e.get("Content-Length");if(r)return parseInt(r)}(a.headers)||i.total,o&&Hk(t.highWaterMark)?r.loadProgressively(a,i,e,t.highWaterMark,o):s?a.arrayBuffer():"json"===e.responseType?a.json():a.text()})).then((function(a){var s=r.response;self.clearTimeout(r.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var u=a[l];u&&(i.loaded=i.total=u);var c={url:s.url,data:a,code:s.status};o&&!Hk(t.highWaterMark)&&o(i,e,a,s),n.onSuccess(c,i,e,s)})).catch((function(t){if(self.clearTimeout(r.requestTimeout),!i.aborted){var a=t&&t.code||0,o=t?t.message:null;n.onError({code:a,text:o},e,t?t.details:null,i)}}))}},{key:"getCacheAge",value:function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}},{key:"getResponseHeader",value:function(e){return this.response?this.response.headers.get(e):null}},{key:"loadProgressively",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=new DT,o=e.body.getReader();return function s(){return o.read().then((function(o){if(o.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=o.value,u=l.length;return t.loaded+=u,u<r||a.dataLength?(a.push(l),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,l,e),s()})).catch((function(){return Promise.reject()}))}()}}]),e}();function oL(e,t){return new self.Request(e.url,t)}var sL=function(e){y(n,e);var t=E(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e)).code=void 0,a.details=void 0,a.code=r,a.details=i,a}return g(n)}(T(Error)),lL=/\s/,uL={newCue:function(e,t,n,r){for(var i,a,o,s,l,u=[],c=self.VTTCue||self.TextTrackCue,d=0;d<r.rows.length;d++)if(o=!0,s=0,l="",!(i=r.rows[d]).isEmpty()){for(var f,h=0;h<i.chars.length;h++)lL.test(i.chars[h].uchar)&&o?s++:(l+=i.chars[h].uchar,o=!1);i.cueStartTime=t,t===n&&(n+=1e-4),s>=16?s--:s++;var p=wC(l.trim()),m=CC(t,n,p);null!=e&&null!=(f=e.cues)&&f.getCueById(m)||((a=new c(t,n,p)).id=m,a.line=d+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*s/32)),u.push(a))}return e&&u.length&&(u.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),u.forEach((function(t){return Hx(e,t)}))),u}},cL=Uk(Uk({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:rL,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:IT,bufferController:KT,capLevelController:VC,errorController:AE,fpsController:HC,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:xw,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:uL,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:UT,subtitleTrackController:VT,timelineController:UC,audioStreamController:NT,audioTrackController:MT,emeController:GC,cmcdController:ZC,contentSteeringController:JC});function dL(e){return e&&"object"===typeof e?Array.isArray(e)?e.map(dL):Object.keys(e).reduce((function(t,n){return t[n]=dL(e[n]),t}),{}):e}function fL(e){var t=e.loader;t!==aL&&t!==rL?(Xk.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}()&&(e.loader=aL,e.progressive=!0,e.enableSoftwareAES=!0,Xk.log("[config]: Progressive streaming enabled, using FetchLoader"))}var hL=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new CT,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function(e,t){if(self.console&&!0===e||"object"===typeof e){$k(e,"debug","log","info","warn","error");try{Yk.log('Debug logs enabled for "'.concat(t,'" in hls.js version ',"1.4.10"))}catch(n){Yk=Wk}}else Yk=Wk}(t.debug||!1,"Hls instance");var n=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var n=dL(e),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(e){var i="".concat("level"===e?"playlist":e,"LoadPolicy"),a=void 0===t[i],o=[];r.forEach((function(r){var s="".concat(e,"Loading").concat(r),l=t[s];if(void 0!==l&&a){o.push(s);var u=n[i].default;switch(t[i]={default:u},r){case"TimeOut":u.maxLoadTimeMs=l,u.maxTimeToFirstByteMs=l;break;case"MaxRetry":u.errorRetry.maxNumRetry=l,u.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":u.errorRetry.retryDelayMs=l,u.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":u.errorRetry.maxRetryDelayMs=l,u.timeoutRetry.maxRetryDelayMs=l}}})),o.length&&Xk.warn('hls.js config: "'.concat(o.join('", "'),'" setting(s) are deprecated, use "').concat(i,'": ').concat(JSON.stringify(t[i])))})),Uk(Uk({},n),t)}(e.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,n.progressive&&fL(n);var r=n.abrController,i=n.bufferController,a=n.capLevelController,o=n.errorController,s=n.fpsController,l=new o(this),u=this.abrController=new r(this),c=this.bufferController=new i(this),d=this.capLevelController=new a(this),h=new s(this),p=new Bx(this),m=new Qx(this),g=n.contentSteeringController,v=g?new g(this):null,y=this.levelController=new OE(this,v),b=new jE(this),k=new KE(this.config),w=this.streamController=new PT(this,b,k);d.setStreamController(w),h.setStreamController(w);var x=[p,y,w];v&&x.splice(1,0,v),this.networkControllers=x;var E=[u,c,d,h,m,b];this.audioTrackController=this.createController(n.audioTrackController,x);var S=n.audioStreamController;S&&x.push(new S(this,b,k)),this.subtitleTrackController=this.createController(n.subtitleTrackController,x);var T=n.subtitleStreamController;T&&x.push(new T(this,b,k)),this.createController(n.timelineController,E),k.emeController=this.emeController=this.createController(n.emeController,E),this.cmcdController=this.createController(n.cmcdController,E),this.latencyController=this.createController(Zx,E),this.coreComponents=E,x.push(l);var C=l.onErrorOut;"function"===typeof C&&this.on(zk.ERROR,C,l)}return g(e,[{key:"createController",value:function(e,t){if(e){var n=new e(this);return t&&t.push(n),n}return null}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.on(e,t,n)}},{key:"once",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._emitter.once(e,t,n)}},{key:"removeAllListeners",value:function(e){this._emitter.removeAllListeners(e)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=arguments.length>3?arguments[3]:void 0;this._emitter.off(e,t,n,r)}},{key:"listeners",value:function(e){return this._emitter.listeners(e)}},{key:"emit",value:function(e,t,n){return this._emitter.emit(e,t,n)}},{key:"trigger",value:function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){Xk.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.trigger(zk.ERROR,{type:Gk.OTHER_ERROR,details:qk.INTERNAL_EXCEPTION,fatal:!1,event:e,error:n})}return!1}},{key:"listenerCount",value:function(e){return this._emitter.listenerCount(e)}},{key:"destroy",value:function(){Xk.log("destroy"),this.trigger(zk.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0;var e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}},{key:"attachMedia",value:function(e){Xk.log("attachMedia"),this._media=e,this.trigger(zk.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){Xk.log("detachMedia"),this.trigger(zk.MEDIA_DETACHING,void 0),this._media=null}},{key:"loadSource",value:function(e){this.stopLoad();var t=this.media,n=this.url,r=this.url=Fk.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});Xk.log("loadSource:".concat(r)),t&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(zk.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;Xk.log("startLoad(".concat(e,")")),this.networkControllers.forEach((function(t){t.startLoad(e)}))}},{key:"stopLoad",value:function(){Xk.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))}},{key:"swapAudioCodec",value:function(){Xk.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){Xk.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)}},{key:"removeLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.levelController.removeLevel(e,t)}},{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){Xk.log("set currentLevel:".concat(e)),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){Xk.log("set nextLevel:".concat(e)),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){Xk.log("set loadLevel:".concat(e)),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){Xk.log("set firstLevel:".concat(e)),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){Xk.log("set startLevel:".concat(e)),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(Xk.log("set autoLevelCapping:".concat(e)),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(e){Jx.indexOf(e)>-1&&(this._maxHdcpLevel=e)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e,t=this.levels,n=this.autoLevelCapping,r=this.maxHdcpLevel;if(e=-1===n&&t&&t.length?t.length-1:n,r)for(var i=e;i--;){var a=t[i].attrs["HDCP-LEVEL"];if(a&&a<=r)return i}return e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.10"}},{key:"isSupported",value:function(){return function(){var e=px();if(!e)return!1;var t=kS(),n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!n&&!!r}()}},{key:"Events",get:function(){return zk}},{key:"ErrorTypes",get:function(){return Gk}},{key:"ErrorDetails",get:function(){return qk}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:cL},set:function(t){e.defaultConfig=t}}]),e}();hL.defaultConfig=void 0;var pL=n(868),mL=n.n(pL),gL=["premium","referrerPolicy"];function vL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kL(Object(n),!0).forEach((function(t){bL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xL={addCSS:!0,thumbWidth:15,watch:!0};var EL=function(e){return null!=e?e.constructor:null},SL=function(e,t){return!!(e&&t&&e instanceof t)},TL=function(e){return null==e},CL=function(e){return EL(e)===Object},LL=function(e){return EL(e)===String},AL=function(e){return Array.isArray(e)},RL=function(e){return SL(e,NodeList)},PL=LL,OL=AL,_L=RL,IL=function(e){return SL(e,Element)},DL=function(e){return SL(e,Event)},NL=function(e){return TL(e)||(LL(e)||AL(e)||RL(e))&&!e.length||CL(e)&&!Object.keys(e).length};function ML(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var FL=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),IL(t)?this.element=t:PL(t)&&(this.element=document.querySelector(t)),IL(this.element)&&NL(this.element.rangeTouch)&&(this.config=wL({},xL,{},n),this.init())}return function(e,t,n){t&&yL(e.prototype,t),n&&yL(e,n)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!DL(t))return null;var n,r=t.target,i=t.changedTouches[0],a=parseFloat(r.getAttribute("min"))||0,o=parseFloat(r.getAttribute("max"))||100,s=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),a+ML(n/100*(o-a),s)}},{key:"set",value:function(t){e.enabled&&DL(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null;if(NL(t)||PL(t)?r=Array.from(document.querySelectorAll(PL(t)?t:'input[type="range"]')):IL(t)?r=[t]:_L(t)?r=Array.from(t):OL(t)&&(r=t.filter(IL)),NL(r))return null;var i=wL({},xL,{},n);if(PL(t)&&i.watch){var a=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){IL(n)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(n,t)&&new e(n,i)}))}))}));a.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}(),jL=function(e){return null!=e?e.constructor:null},UL=function(e,t){return Boolean(e&&t&&e instanceof t)},BL=function(e){return null==e},VL=function(e){return jL(e)===Object},HL=function(e){return jL(e)===String},zL=function(e){return"function"==typeof e},GL=function(e){return Array.isArray(e)},qL=function(e){return UL(e,NodeList)},KL=function(e){return BL(e)||(HL(e)||GL(e)||qL(e))&&!e.length||VL(e)&&!Object.keys(e).length},WL={nullOrUndefined:BL,object:VL,number:function(e){return jL(e)===Number&&!Number.isNaN(e)},string:HL,boolean:function(e){return jL(e)===Boolean},function:zL,array:GL,weakMap:function(e){return UL(e,WeakMap)},nodeList:qL,element:function(e){return null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument},textNode:function(e){return jL(e)===Text},event:function(e){return UL(e,Event)},keyboardEvent:function(e){return UL(e,KeyboardEvent)},cue:function(e){return UL(e,window.TextTrackCue)||UL(e,window.VTTCue)},track:function(e){return UL(e,TextTrack)||!BL(e)&&HL(e.kind)},promise:function(e){return UL(e,Promise)&&zL(e.then)},url:function(e){if(UL(e,window.URL))return!0;if(!HL(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!KL(new URL(t).hostname)}catch(e){return!1}},empty:KL},YL=function(){var e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find((function(t){return void 0!==e.style[t]}));return!!WL.string(n)&&t[n]}();function $L(e,t){setTimeout((function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var XL={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function QL(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function ZL(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();return WL.object(i)?(Object.keys(i).forEach((function(t){WL.object(i[t])?(Object.keys(e).includes(t)||Object.assign(e,xt({},t,{})),ZL(e[t],i[t])):Object.assign(e,xt({},t,i[t]))})),ZL.apply(void 0,[e].concat(n))):e}function JL(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach((function(e,n){var r=n>0?t.cloneNode(!0):t,i=e.parentNode,a=e.nextSibling;r.appendChild(e),a?i.insertBefore(r,a):i.appendChild(r)}))}function eA(e,t){WL.element(e)&&!WL.empty(t)&&Object.entries(t).filter((function(e){var t=u(e,2)[1];return!WL.nullOrUndefined(t)})).forEach((function(t){var n=u(t,2),r=n[0],i=n[1];return e.setAttribute(r,i)}))}function tA(e,t,n){var r=document.createElement(e);return WL.object(t)&&eA(r,t),WL.string(n)&&(r.innerText=n),r}function nA(e,t,n,r){WL.element(t)&&t.appendChild(tA(e,n,r))}function rA(e){WL.nodeList(e)||WL.array(e)?Array.from(e).forEach(rA):WL.element(e)&&WL.element(e.parentNode)&&e.parentNode.removeChild(e)}function iA(e){if(WL.element(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function aA(e,t){return WL.element(t)&&WL.element(t.parentNode)&&WL.element(e)?(t.parentNode.replaceChild(e,t),e):null}function oA(e,t){if(!WL.string(e)||WL.empty(e))return{};var n={},r=ZL({},t);return e.split(",").forEach((function(e){var t=e.trim(),i=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),o=u(a,1)[0],s=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":WL.string(r.class)?n.class="".concat(r.class," ").concat(i):n.class=i;break;case"#":n.id=t.replace("#","");break;case"[":n[o]=s}})),ZL(r,n)}function sA(e,t){if(WL.element(e)){var n=t;WL.boolean(n)||(n=!e.hidden),e.hidden=n}}function lA(e,t,n){if(WL.nodeList(e))return Array.from(e).map((function(e){return lA(e,t,n)}));if(WL.element(e)){var r="toggle";return void 0!==n&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function uA(e,t){return WL.element(e)&&e.classList.contains(t)}function cA(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function dA(e){return this.elements.container.querySelectorAll(e)}function fA(e){return this.elements.container.querySelector(e)}function hA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];WL.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}var pA={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},mA={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t){var n=mA[e]||"html5"!==t;return{api:n,ui:n&&mA.rangeInput}},pip:!(XL.isIPhone||!WL.function(tA("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||tA("video").disablePictureInPicture)),airplay:WL.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(WL.empty(e))return!1;var t=u(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(pA).includes(n)&&(n+='; codecs="'.concat(pA[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:function(){var e=document.createElement("input");return e.type="range","range"===e.type}(),touch:"ontouchstart"in document.documentElement,transitions:!1!==YL,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},gA=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function vA(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!WL.empty(t)&&WL.function(n)){var s=t.split(" "),l=o;gA&&(l={passive:a,capture:o}),s.forEach((function(t){r&&r.eventListeners&&i&&r.eventListeners.push({element:e,type:t,callback:n,options:l}),e[i?"addEventListener":"removeEventListener"](t,n,l)}))}}function yA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];vA.call(this,e,t,n,!0,r,i)}function bA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];vA.call(this,e,t,n,!1,r,i)}function kA(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];vA.call(this,e,n,(function o(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];bA(e,n,o,i,a),r.apply(t,l)}),!0,i,a)}function wA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(WL.element(e)&&!WL.empty(t)){var i=new CustomEvent(t,{bubbles:n,detail:Qn(Qn({},r),{},{plyr:this})});e.dispatchEvent(i)}}function xA(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.type,r=e.callback,i=e.options;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function EA(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):yA.call(e,e.elements.container,"ready",t)})).then((function(){}))}function SA(e){WL.promise(e)&&e.then(null,(function(){}))}function TA(e){return WL.array(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function CA(e,t){return WL.array(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}function LA(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}var AA=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return Qn(Qn({},e),{},xt({},r/i,[r,i]))}),{});function RA(e){return!!(WL.array(e)||WL.string(e)&&e.includes(":"))&&(WL.array(e)?e:e.split(":")).map(Number).every(WL.number)}function PA(e){if(!WL.array(e)||!e.every(WL.number))return null;var t=u(e,2),n=t[0],r=t[1],i=function e(t,n){return 0===n?t:e(n,t%n)}(n,r);return[n/i,r/i]}function OA(e){var t=function(e){return RA(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!WL.empty(this.embed)&&WL.array(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var r=this.media;n=[r.videoWidth,r.videoHeight]}return PA(n)}function _A(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=OA.call(this,e);if(!WL.array(n))return{};var r=u(PA(n),2),i=r[0],a=r[1],o=100/i*a;if(LA("aspect-ratio: ".concat(i,"/").concat(a))?t.style.aspectRatio="".concat(i,"/").concat(a):t.style.paddingBottom="".concat(o,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),l=(s-o)/(s/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(l,"%)")}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:n}}function IA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05,r=e/t,i=CA(Object.keys(AA),r);return Math.abs(i-r)<=n?AA[i]:[e,t]}var DA={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!WL.empty(n)||mA.mime.call(e,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:DA.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,WL.empty(this.config.ratio)||_A.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=DA.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&WL.function(e.config.quality.onChange))e.config.quality.onChange(t);else{var n=DA.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!n)return;var r=e.media,i=r.currentTime,a=r.paused,o=r.preload,s=r.readyState,l=r.playbackRate;e.media.src=n.getAttribute("src"),("none"!==o||s)&&(e.once("loadedmetadata",(function(){e.speed=l,e.currentTime=i,a||SA(e.play())})),e.media.load())}wA.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(rA(DA.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function NA(e){return"".concat(e,"-").concat(Math.floor(1e4*Math.random()))}function MA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return WL.empty(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}var FA=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString())},jA=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}))};function UA(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return e=FA(e,"-"," "),e=FA(e,"_"," "),e=jA(e),FA(e," ","")}(e),e.charAt(0).toLowerCase()+e.slice(1)}function BA(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var VA={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},HA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(WL.empty(e)||WL.empty(t))return"";var n=QL(t.i18n,e);if(WL.empty(n))return Object.keys(VA).includes(e)?VA[e]:"";var r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((function(e){var t=u(e,2),r=t[0],i=t[1];n=FA(n,r,i)})),n},zA=function(){function e(t){var n=this;f(this,e),vL(this,"get",(function(t){if(!e.supported||!n.enabled)return null;var r=window.localStorage.getItem(n.key);if(WL.empty(r))return null;var i=JSON.parse(r);return WL.string(t)&&t.length?i[t]:i})),vL(this,"set",(function(t){if(e.supported&&n.enabled&&WL.object(t)){var r=n.get();WL.empty(r)&&(r={}),ZL(r,t);try{window.localStorage.setItem(n.key,JSON.stringify(r))}catch(t){}}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}return g(e,null,[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),e}();function GA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,r){try{var i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(i.responseText))}catch(e){n(i.responseText)}else n(i.response)})),i.addEventListener("error",(function(){throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(e){r(e)}}))}function qA(e,t){if(WL.string(e)){var n="cache",r=WL.string(t),i=function(){return null!==document.getElementById(t)},a=function(e,t){e.innerHTML=t,r&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!r||!i()){var o=zA.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),r&&s.setAttribute("id",t),o){var l=window.localStorage.getItem("".concat(n,"-").concat(t));if(null!==l){var u=JSON.parse(l);a(s,u.content)}}GA(e).then((function(e){if(!WL.empty(e)){if(o)try{window.localStorage.setItem("".concat(n,"-").concat(t),JSON.stringify({content:e}))}catch(e){}a(s,e)}})).catch((function(){}))}}}var KA=function(e){return Math.trunc(e/60/60%60,10)};function WA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!WL.number(e))return WA(void 0,t,n);var r=function(e){return"0".concat(e).slice(-2)},i=KA(e),a=function(e){return Math.trunc(e/60%60,10)}(e),o=function(e){return Math.trunc(e%60,10)}(e);return i=t||i>0?"".concat(i,":"):"","".concat(n&&e>0?"-":"").concat(i).concat(r(a),":").concat(r(o))}var YA={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||XL.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements:function(){try{return this.elements.controls=fA.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:dA.call(this,this.config.selectors.buttons.play),pause:fA.call(this,this.config.selectors.buttons.pause),restart:fA.call(this,this.config.selectors.buttons.restart),rewind:fA.call(this,this.config.selectors.buttons.rewind),fastForward:fA.call(this,this.config.selectors.buttons.fastForward),mute:fA.call(this,this.config.selectors.buttons.mute),pip:fA.call(this,this.config.selectors.buttons.pip),airplay:fA.call(this,this.config.selectors.buttons.airplay),settings:fA.call(this,this.config.selectors.buttons.settings),captions:fA.call(this,this.config.selectors.buttons.captions),fullscreen:fA.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=fA.call(this,this.config.selectors.progress),this.elements.inputs={seek:fA.call(this,this.config.selectors.inputs.seek),volume:fA.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:fA.call(this,this.config.selectors.display.buffer),currentTime:fA.call(this,this.config.selectors.display.currentTime),duration:fA.call(this,this.config.selectors.display.duration)},WL.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n="http://www.w3.org/2000/svg",r=YA.getIconUrl.call(this),i="".concat(r.cors?"":r.url,"#").concat(this.config.iconPrefix),a=document.createElementNS(n,"svg");eA(a,ZL(t,{"aria-hidden":"true",focusable:"false"}));var o=document.createElementNS(n,"use"),s="".concat(i,"-").concat(e);return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),a.appendChild(o),a},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=HA(e,this.config);return tA("span",Qn(Qn({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(e){if(WL.empty(e))return null;var t=tA("span",{class:this.config.classNames.menu.value});return t.appendChild(tA("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,r=ZL({},t),i=UA(e),a={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(r).includes(e)&&(a[e]=r[e],delete r[e])})),"button"!==a.element||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some((function(e){return e===n.config.classNames.control}))||ZL(r,{class:"".concat(r.class," ").concat(this.config.classNames.control)}):r.class=this.config.classNames.control,e){case"play":a.toggle=!0,a.label="play",a.labelPressed="pause",a.icon="play",a.iconPressed="pause";break;case"mute":a.toggle=!0,a.label="mute",a.labelPressed="unmute",a.icon="volume",a.iconPressed="muted";break;case"captions":a.toggle=!0,a.label="enableCaptions",a.labelPressed="disableCaptions",a.icon="captions-off",a.iconPressed="captions-on";break;case"fullscreen":a.toggle=!0,a.label="enterFullscreen",a.labelPressed="exitFullscreen",a.icon="enter-fullscreen",a.iconPressed="exit-fullscreen";break;case"play-large":r.class+=" ".concat(this.config.classNames.control,"--overlaid"),i="play",a.label="play",a.icon="play";break;default:WL.empty(a.label)&&(a.label=i),WL.empty(a.icon)&&(a.icon=e)}var o=tA(a.element);return a.toggle?(o.appendChild(YA.createIcon.call(this,a.iconPressed,{class:"icon--pressed"})),o.appendChild(YA.createIcon.call(this,a.icon,{class:"icon--not-pressed"})),o.appendChild(YA.createLabel.call(this,a.labelPressed,{class:"label--pressed"})),o.appendChild(YA.createLabel.call(this,a.label,{class:"label--not-pressed"}))):(o.appendChild(YA.createIcon.call(this,a.icon)),o.appendChild(YA.createLabel.call(this,a.label))),ZL(r,oA(this.config.selectors.buttons[i],r)),eA(o,r),"play"===i?(WL.array(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(o)):this.elements.buttons[i]=o,o},createRange:function(e,t){var n=tA("input",ZL(oA(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":HA(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,YA.updateRangeFill.call(this,n),FL.setup(n),n},createProgress:function(e,t){var n=tA("progress",ZL(oA(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(tA("span",null,"0"));var r={played:"played",buffer:"buffered"}[e],i=r?HA(r,this.config):"";n.innerText="% ".concat(i.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=oA(this.config.selectors.display[e],t),r=tA("div",ZL(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":HA(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts:function(e,t){var n=this;yA.call(this,e,"keydown keyup",(function(r){if([" ","ArrowUp","ArrowDown","ArrowRight"].includes(r.key)&&(r.preventDefault(),r.stopPropagation(),"keydown"!==r.type)){var i,a=cA(e,'[role="menuitemradio"]');if(!a&&[" ","ArrowRight"].includes(r.key))YA.showMenuPanel.call(n,t,!0);else" "!==r.key&&("ArrowDown"===r.key||a&&"ArrowRight"===r.key?(i=e.nextElementSibling,WL.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,WL.element(i)||(i=e.parentNode.lastElementChild)),hA.call(n,i,!0))}}),!1),yA.call(this,e,"keyup",(function(e){"Return"===e.key&&YA.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,r=e.list,i=e.type,a=e.title,o=e.badge,s=void 0===o?null:o,l=e.checked,u=void 0!==l&&l,c=oA(this.config.selectors.inputs[i]),d=tA("button",ZL(c,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(c.class?c.class:"").trim(),"aria-checked":u,value:n})),f=tA("span");f.innerHTML=a,WL.element(s)&&f.appendChild(s),d.appendChild(f),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return cA(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!WL.keyboardEvent(e)||" "===e.key){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,i){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}YA.showMenuPanel.call(t,"home",WL.keyboardEvent(e))}}),i,!1),YA.bindMenuItemShortcuts.call(this,d,i),r.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return WL.number(e)?WA(e,KA(this.duration)>0,t):e},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];WL.element(e)&&WL.number(t)&&(e.innerText=YA.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(WL.element(this.elements.inputs.volume)&&YA.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),WL.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;WL.element(e)&&(e.value=t,YA.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&WL.event(e)){var n=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=function(e,t){return 0===e||0===t||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}(this.currentTime,this.duration),"timeupdate"===e.type&&YA.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":!function(e,n){var r=WL.number(n)?n:0,i=WL.element(e)?e:t.elements.display.buffer;if(WL.element(i)){i.value=r;var a=i.getElementsByTagName("span")[0];WL.element(a)&&(a.childNodes[0].nodeValue=r)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=WL.event(e)?e.target:e;if(WL.element(t)&&"range"===t.getAttribute("type")){if(cA(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=YA.formatTime(this.currentTime),r=YA.formatTime(this.duration),i=HA("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(cA(t,this.config.selectors.inputs.volume)){var a=100*t.value;t.setAttribute("aria-valuenow",a),t.setAttribute("aria-valuetext","".concat(a.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);(XL.isWebKit||XL.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip:function(e){var t,n;if(this.config.tooltips.seek&&WL.element(this.elements.inputs.seek)&&WL.element(this.elements.display.seekTooltip)&&0!==this.duration){var r=this.elements.display.seekTooltip,i="".concat(this.config.classNames.tooltip,"--visible"),a=function(e){return lA(r,i,e)};if(this.touch)a(!1);else{var o=0,s=this.elements.progress.getBoundingClientRect();if(WL.event(e))o=100/s.width*(e.pageX-s.left);else{if(!uA(r,i))return;o=parseFloat(r.style.left,10)}o<0?o=0:o>100&&(o=100);var l=this.duration/100*o;r.innerText=YA.formatTime(l);var u=null===(t=this.config.markers)||void 0===t||null===(n=t.points)||void 0===n?void 0:n.find((function(e){return e.time===Math.round(l)}));u&&r.insertAdjacentHTML("afterbegin","".concat(u.label,"<br>")),r.style.left="".concat(o,"%"),WL.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!WL.element(this.elements.display.duration)&&this.config.invertTime;YA.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||YA.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return sA(this.elements.display.currentTime,!0),void sA(this.elements.progress,!0);WL.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=WL.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&YA.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&YA.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&YA.setMarkers.call(this),YA.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){sA(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var r=this.elements.settings.panels[e],i=null,a=t;if("captions"===e)i=this.currentTrack;else{if(i=WL.empty(n)?this[e]:n,WL.empty(i)&&(i=this.config[e].default),!WL.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn("Unsupported value of '".concat(i,"' for ").concat(e));if(!this.config[e].options.includes(i))return void this.debug.warn("Disabled value of '".concat(i,"' for ").concat(e))}if(WL.element(a)||(a=r&&r.querySelector('[role="menu"]')),WL.element(a)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=YA.getLabel.call(this,e,i);var o=a&&a.querySelector('[value="'.concat(i,'"]'));WL.element(o)&&(o.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?HA("normal",this.config):"".concat(t,"&times;");case"quality":if(WL.number(t)){var n=HA("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return jA(t);case"captions":return QA.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(WL.element(this.elements.settings.panels.quality)){var n="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');WL.array(e)&&(this.options.quality=TA(e).filter((function(e){return t.config.quality.options.includes(e)})));var i=!WL.empty(this.options.quality)&&this.options.quality.length>1;if(YA.toggleMenuButton.call(this,n,i),iA(r),YA.checkMenu.call(this),i){var a=function(e){var n=HA("qualityBadge.".concat(e),t.config);return n.length?YA.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var r=t.config.quality.options;return r.indexOf(e)>r.indexOf(n)?1:-1})).forEach((function(e){YA.createMenuItem.call(t,{value:e,list:r,type:n,title:YA.getLabel.call(t,"quality",e),badge:a(e)})})),YA.updateSetting.call(this,n,r)}}},setCaptionsMenu:function(){var e=this;if(WL.element(this.elements.settings.panels.captions)){var t="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=QA.getTracks.call(this),i=Boolean(r.length);if(YA.toggleMenuButton.call(this,t,i),iA(n),YA.checkMenu.call(this),i){var a=r.map((function(t,r){return{value:r,checked:e.captions.toggled&&e.currentTrack===r,title:QA.getLabel.call(e,t),badge:t.language&&YA.createBadge.call(e,t.language.toUpperCase()),list:n,type:"language"}}));a.unshift({value:-1,checked:!this.captions.toggled,title:HA("disabled",this.config),list:n,type:"language"}),a.forEach(YA.createMenuItem.bind(this)),YA.updateSetting.call(this,t,n)}}},setSpeedMenu:function(){var e=this;if(WL.element(this.elements.settings.panels.speed)){var t="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var r=!WL.empty(this.options.speed)&&this.options.speed.length>1;YA.toggleMenuButton.call(this,t,r),iA(n),YA.checkMenu.call(this),r&&(this.options.speed.forEach((function(r){YA.createMenuItem.call(e,{value:r,list:n,type:t,title:YA.getLabel.call(e,"speed",r)})})),YA.updateSetting.call(this,t,n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!WL.empty(e)&&Object.values(e).some((function(e){return!e.hidden}));sA(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;WL.element(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var r=n.querySelector('[role^="menuitem"]');hA.call(this,r,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(WL.element(t)&&WL.element(n)){var r=t.hidden,i=r;if(WL.boolean(e))i=e;else if(WL.keyboardEvent(e)&&"Escape"===e.key)i=!1;else if(WL.event(e)){var a=WL.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(a);if(o||!o&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),sA(t,!i),lA(this.elements.container,this.config.classNames.menu.open,i),i&&WL.keyboardEvent(e)?YA.focusFirstMenuItem.call(this,null,!0):i||r||hA.call(this,n,WL.keyboardEvent(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,r=t.scrollHeight;return rA(t),{width:n,height:r}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(WL.element(r)){var i=r.parentNode,a=Array.from(i.children).find((function(e){return!e.hidden}));if(mA.transitions&&!mA.reducedMotion){i.style.width="".concat(a.scrollWidth,"px"),i.style.height="".concat(a.scrollHeight,"px");var o=YA.getMenuSize.call(this,r);yA.call(this,i,YL,(function t(n){n.target===i&&["width","height"].includes(n.propertyName)&&(i.style.width="",i.style.height="",bA.call(e,i,YL,t))})),i.style.width="".concat(o.width,"px"),i.style.height="".concat(o.height,"px")}sA(a,!0),sA(r,!1),YA.focusFirstMenuItem.call(this,r,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;WL.element(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=YA.bindMenuItemShortcuts,r=YA.createButton,i=YA.createProgress,a=YA.createRange,o=YA.createTime,s=YA.setQualityMenu,l=YA.setSpeedMenu,u=YA.showMenuPanel;this.elements.controls=null,WL.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));var c=tA("div",oA(this.config.selectors.controls.wrapper));this.elements.controls=c;var d={class:"plyr__controls__item"};return TA(WL.array(this.config.controls)?this.config.controls:[]).forEach((function(s){if("restart"===s&&c.appendChild(r.call(t,"restart",d)),"rewind"===s&&c.appendChild(r.call(t,"rewind",d)),"play"===s&&c.appendChild(r.call(t,"play",d)),"fast-forward"===s&&c.appendChild(r.call(t,"fast-forward",d)),"progress"===s){var l=tA("div",{class:"".concat(d.class," plyr__progress__container")}),f=tA("div",oA(t.config.selectors.progress));if(f.appendChild(a.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),f.appendChild(i.call(t,"buffer")),t.config.tooltips.seek){var h=tA("span",{class:t.config.classNames.tooltip},"00:00");f.appendChild(h),t.elements.display.seekTooltip=h}t.elements.progress=f,l.appendChild(t.elements.progress),c.appendChild(l)}if("current-time"===s&&c.appendChild(o.call(t,"currentTime",d)),"duration"===s&&c.appendChild(o.call(t,"duration",d)),"mute"===s||"volume"===s){var p=t.elements.volume;if(WL.element(p)&&c.contains(p)||(p=tA("div",ZL({},d,{class:"".concat(d.class," plyr__volume").trim()})),t.elements.volume=p,c.appendChild(p)),"mute"===s&&p.appendChild(r.call(t,"mute")),"volume"===s&&!XL.isIos&&!XL.isIPadOS){var m={max:1,step:.05,value:t.config.volume};p.appendChild(a.call(t,"volume",ZL(m,{id:"plyr-volume-".concat(e.id)})))}}if("captions"===s&&c.appendChild(r.call(t,"captions",d)),"settings"===s&&!WL.empty(t.config.settings)){var g=tA("div",ZL({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));g.appendChild(r.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var v=tA("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=tA("div"),b=tA("div",{id:"plyr-settings-".concat(e.id,"-home")}),k=tA("div",{role:"menu"});b.appendChild(k),y.appendChild(b),t.elements.settings.panels.home=b,t.config.settings.forEach((function(r){var i=tA("button",ZL(oA(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,i,r),yA.call(t,i,"click",(function(){u.call(t,r,!1)}));var a=tA("span",null,HA(r,t.config)),o=tA("span",{class:t.config.classNames.menu.value});o.innerHTML=e[r],a.appendChild(o),i.appendChild(a),k.appendChild(i);var s=tA("div",{id:"plyr-settings-".concat(e.id,"-").concat(r),hidden:""}),l=tA("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});l.appendChild(tA("span",{"aria-hidden":!0},HA(r,t.config))),l.appendChild(tA("span",{class:t.config.classNames.hidden},HA("menuBack",t.config))),yA.call(t,s,"keydown",(function(e){"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),u.call(t,"home",!0))}),!1),yA.call(t,l,"click",(function(){u.call(t,"home",!1)})),s.appendChild(l),s.appendChild(tA("div",{role:"menu"})),y.appendChild(s),t.elements.settings.buttons[r]=i,t.elements.settings.panels[r]=s})),v.appendChild(y),g.appendChild(v),c.appendChild(g),t.elements.settings.popup=v,t.elements.settings.menu=g}if("pip"===s&&mA.pip&&c.appendChild(r.call(t,"pip",d)),"airplay"===s&&mA.airplay&&c.appendChild(r.call(t,"airplay",d)),"download"===s){var w=ZL({},d,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(w.download="");var x=t.config.urls.download;!WL.url(x)&&t.isEmbed&&ZL(w,{icon:"logo-".concat(t.provider),label:t.provider}),c.appendChild(r.call(t,"download",w))}"fullscreen"===s&&c.appendChild(r.call(t,"fullscreen",d))})),this.isHTML5&&s.call(this,DA.getQualityOptions.call(this)),l.call(this),c},inject:function(){var e=this;if(this.config.loadSprite){var t=YA.getIconUrl.call(this);t.cors&&qA(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var r,i={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(WL.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,i)),this.config.controls||(this.config.controls=[]),WL.element(this.config.controls)||WL.string(this.config.controls)?n=this.config.controls:(n=YA.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:QA.getLabel.call(this)}),a=!1),a&&WL.string(this.config.controls)&&(n=function(e){var t=e;return Object.entries(i).forEach((function(e){var n=u(e,2),r=n[0],i=n[1];t=FA(t,"{".concat(r,"}"),i)})),t}(n)),WL.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),WL.element(r)||(r=this.elements.container),r[WL.element(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),WL.element(this.elements.controls)||YA.findElements.call(this),!WL.empty(this.elements.buttons)){var o=function(t){var n=e.config.classNames.controlPressed;t.setAttribute("aria-pressed","false"),Object.defineProperty(t,"pressed",{configurable:!0,enumerable:!0,get:function(){return uA(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];lA(t,n,e),t.setAttribute("aria-pressed",e?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){WL.array(e)||WL.nodeList(e)?Array.from(e).filter(Boolean).forEach(o):o(e)}))}if(XL.isEdge&&$L(r),this.config.tooltips.controls){var s=this.config,l=s.classNames,c=s.selectors,d="".concat(c.controls.wrapper," ").concat(c.labels," .").concat(l.hidden),f=dA.call(this,d);Array.from(f).forEach((function(t){lA(t,e.config.classNames.hidden,!1),lA(t,e.config.classNames.tooltip,!0)}))}},setMediaMetadata:function(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers:function(){var e,t,n=this;if(this.duration&&!this.elements.markers){var r=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((function(e){var t=e.time;return t>0&&t<n.duration}));if(null!=r&&r.length){var i=document.createDocumentFragment(),a=document.createDocumentFragment(),o=null,s="".concat(this.config.classNames.tooltip,"--visible"),l=function(e){return lA(o,s,e)};r.forEach((function(e){var t=tA("span",{class:n.config.classNames.marker},""),r=e.time/n.duration*100+"%";o&&(t.addEventListener("mouseenter",(function(){e.label||(o.style.left=r,o.innerHTML=e.label,l(!0))})),t.addEventListener("mouseleave",(function(){l(!1)}))),t.addEventListener("click",(function(){n.currentTime=e.time})),t.style.left=r,a.appendChild(t)})),i.appendChild(a),this.config.tooltips.seek||(o=tA("span",{class:this.config.classNames.tooltip},""),i.appendChild(o)),this.elements.markers={points:a,tip:o},this.elements.progress.appendChild(i)}}}};function $A(e){var t=e;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var n=document.createElement("a");n.href=t,t=n.href}try{return new URL(t)}catch(e){return null}}function XA(e){var t=new URLSearchParams;return WL.object(e)&&Object.entries(e).forEach((function(e){var n=u(e,2),r=n[0],i=n[1];t.set(r,i)})),t}var QA={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!mA.textTracks)WL.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&YA.setCaptionsMenu.call(this);else{if(WL.element(this.elements.captions)||(this.elements.captions=tA("div",oA(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),function(e,t){WL.element(e)&&WL.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),XL.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),n=$A(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&GA(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){rA(e)}))}))}var t=TA((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=u(t,1)[0]);var r=this.storage.get("captions");if(WL.boolean(r)||(r=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:r,language:n,languages:t}),this.isHTML5){var i=this.config.captions.update?"addtrack removetrack":"removetrack";yA.call(this,this.media.textTracks,i,QA.update.bind(this))}setTimeout(QA.update.bind(this),0)}},update:function(){var e=this,t=QA.getTracks.call(this,!0),n=this.captions,r=n.active,i=n.language,a=n.meta,o=n.currentTrackNode,s=Boolean(t.find((function(e){return e.language===i})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!a.get(e)})).forEach((function(t){e.debug.log("Track added",t),a.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),yA.call(e,t,"cuechange",(function(){return QA.updateCues.call(e)}))})),(s&&this.language!==i||!t.includes(o))&&(QA.setLanguage.call(this,i),QA.toggle.call(this,r&&s)),this.elements&&lA(this.elements.container,this.config.classNames.captions.enabled,!WL.empty(t)),WL.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&YA.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var r=this.captions.toggled,i=this.config.classNames.captions.active,a=WL.nullOrUndefined(e)?!r:e;if(a!==r){if(n||(this.captions.active=a,this.storage.set({captions:a})),!this.language&&a&&!n){var o=QA.getTracks.call(this),s=QA.findTrack.call(this,[this.captions.language].concat(d(this.captions.languages)),!0);return this.captions.language=s.language,void QA.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=a),lA(this.elements.container,i,a),this.captions.toggled=a,YA.updateSetting.call(this,"captions"),wA.call(this,this.media,a?"captionsenabled":"captionsdisabled")}setTimeout((function(){a&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")}))}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=QA.getTracks.call(this);if(-1!==e)if(WL.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var r=n[e],i=(r||{}).language;this.captions.currentTrackNode=r,YA.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),wA.call(this,this.media,"languagechange")}QA.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&QA.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else QA.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(WL.string(e)){var n=e.toLowerCase();this.captions.language=n;var r=QA.getTracks.call(this),i=QA.findTrack.call(this,[n]);QA.set.call(this,r.indexOf(i),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=QA.getTracks.call(this),a=function(e){return Number((n.captions.meta.get(e)||{}).default)},o=Array.from(i).sort((function(e,t){return a(t)-a(e)}));return e.every((function(e){return t=o.find((function(t){return t.language===e})),!t})),t||(r?o[0]:void 0)},getCurrentTrack:function(){return QA.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!WL.track(t)&&mA.textTracks&&this.captions.toggled&&(t=QA.getCurrentTrack.call(this)),WL.track(t)?WL.empty(t.label)?WL.empty(t.language)?HA("enabled",this.config):e.language.toUpperCase():t.label:HA("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(WL.element(this.elements.captions))if(WL.nullOrUndefined(e)||Array.isArray(e)){var t=e;if(!t){var n=QA.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(BA)}var r=t.map((function(e){return e.trim()})).join("\n");if(r!==this.elements.captions.innerHTML){iA(this.elements.captions);var i=tA("span",oA(this.config.selectors.caption));i.innerHTML=r,this.elements.captions.appendChild(i),wA.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},ZA={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},JA="picture-in-picture",eR="inline",tR={html5:"html5",youtube:"youtube",vimeo:"vimeo"},nR="audio",rR="video";var iR=function(){},aR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(this,e),this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}return g(e,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):iR}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):iR}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):iR}}]),e}(),oR=function(){function e(t){var n=this;f(this,e),vL(this,"onChange",(function(){if(n.supported){var e=n.player.elements.buttons.fullscreen;WL.element(e)&&(e.pressed=n.active);var t=n.target===n.player.media?n.target:n.player.elements.container;wA.call(n.player,t,n.active?"enterfullscreen":"exitfullscreen",!0)}})),vL(this,"toggleFallback",(function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r?n.scrollPosition={x:null!==(e=window.scrollX)&&void 0!==e?e:0,y:null!==(t=window.scrollY)&&void 0!==t?t:0}:window.scrollTo(n.scrollPosition.x,n.scrollPosition.y),document.body.style.overflow=r?"hidden":"",lA(n.target,n.player.config.classNames.fullscreen.fallback,r),XL.isIos){var i=document.head.querySelector('meta[name="viewport"]'),a="viewport-fit=cover";i||(i=document.createElement("meta")).setAttribute("name","viewport");var o=WL.string(i.content)&&i.content.includes(a);r?(n.cleanupViewport=!o,o||(i.content+=",".concat(a))):n.cleanupViewport&&(i.content=i.content.split(",").filter((function(e){return e.trim()!==a})).join(","))}n.onChange()})),vL(this,"trapFocus",(function(e){if(!XL.isIos&&!XL.isIPadOS&&n.active&&"Tab"===e.key){var t=document.activeElement,r=dA.call(n.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=u(r,1)[0],a=r[r.length-1];t!==a||e.shiftKey?t===i&&e.shiftKey&&(a.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}})),vL(this,"update",(function(){var t;n.supported?(t=n.forceFallback?"Fallback (forced)":e.nativeSupported?"Native":"Fallback",n.player.debug.log("".concat(t," fullscreen enabled"))):n.player.debug.log("Fullscreen not supported and fallback disabled");lA(n.player.elements.container,n.player.config.classNames.fullscreen.enabled,n.supported)})),vL(this,"enter",(function(){n.supported&&(XL.isIos&&n.player.config.fullscreen.iosNative?n.player.isVimeo?n.player.embed.requestFullscreen():n.target.webkitEnterFullscreen():!e.nativeSupported||n.forceFallback?n.toggleFallback(!0):n.prefix?WL.empty(n.prefix)||n.target["".concat(n.prefix,"Request").concat(n.property)]():n.target.requestFullscreen({navigationUI:"hide"}))})),vL(this,"exit",(function(){if(n.supported)if(XL.isIos&&n.player.config.fullscreen.iosNative)n.player.isVimeo?n.player.embed.exitFullscreen():n.target.webkitEnterFullscreen(),SA(n.player.play());else if(!e.nativeSupported||n.forceFallback)n.toggleFallback(!1);else if(n.prefix){if(!WL.empty(n.prefix)){var t="moz"===n.prefix?"Cancel":"Exit";document["".concat(n.prefix).concat(t).concat(n.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),vL(this,"toggle",(function(){n.active?n.exit():n.enter()})),this.player=t,this.prefix=e.prefix,this.property=e.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){return(Element.prototype.closest||function(){var e=this;do{if(cA.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),yA.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){n.onChange()})),yA.call(this.player,this.player.elements.container,"dblclick",(function(e){WL.element(n.player.elements.controls)&&n.player.elements.controls.contains(e.target)||n.player.listeners.proxy(e,n.toggle,"fullscreen")})),yA.call(this,this.player.elements.container,"keydown",(function(e){return n.trapFocus(e)})),this.update()}return g(e,[{key:"useNative",get:function(){return e.nativeSupported&&!this.forceFallback}},{key:"supported",get:function(){return[this.player.config.fullscreen.enabled,this.player.isVideo,e.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||e.nativeSupported||!XL.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}},{key:"active",get:function(){if(!this.supported)return!1;if(!e.nativeSupported||this.forceFallback)return uA(this.target,this.player.config.classNames.fullscreen.fallback);var t=this.prefix?this.target.getRootNode()["".concat(this.prefix).concat(this.property,"Element")]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}},{key:"target",get:function(){var e;return XL.isIos&&this.player.config.fullscreen.iosNative?this.player.media:null!==(e=this.player.elements.fullscreen)&&void 0!==e?e:this.player.elements.container}}],[{key:"nativeSupported",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(WL.function(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!WL.function(document["".concat(t,"ExitFullscreen")])&&!WL.function(document["".concat(t,"CancelFullScreen")]))&&(e=t,!0)})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),e}();function sR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,r){var i=new Image,a=function(){delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:a,onerror:a,src:e})}))}var lR={addStyleHook:function(){lA(this.elements.container,this.config.selectors.container.replace(".",""),!0),lA(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void lR.toggleNativeControls.call(this,!0);WL.element(this.elements.controls)||(YA.inject.call(this),this.listeners.controls()),lR.toggleNativeControls.call(this),this.isHTML5&&QA.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,YA.updateVolume.call(this),YA.timeUpdate.call(this),YA.durationUpdate.call(this),lR.checkPlaying.call(this),lA(this.elements.container,this.config.classNames.pip.supported,mA.pip&&this.isHTML5&&this.isVideo),lA(this.elements.container,this.config.classNames.airplay.supported,mA.airplay&&this.isHTML5),lA(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){wA.call(e,e.media,"ready")}),0),lR.setTitle.call(this),this.poster&&lR.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&YA.durationUpdate.call(this),this.config.mediaMetadata&&YA.setMediaMetadata.call(this)},setTitle:function(){var e=HA("play",this.config);if(WL.string(this.config.title)&&!WL.empty(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=fA.call(this,"iframe");if(!WL.element(t))return;var n=WL.empty(this.config.title)?"video":this.config.title,r=HA("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster:function(e){lA(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),EA.call(this).then((function(){return sR(e)})).catch((function(n){throw e===t.poster&&lR.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),lR.togglePoster.call(t,!0),e})))},checkPlaying:function(e){var t=this;lA(this.elements.container,this.config.classNames.playing,this.playing),lA(this.elements.container,this.config.classNames.paused,this.paused),lA(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",HA(t.playing?"pause":"play",t.config))})),WL.event(e)&&"timeupdate"===e.type||lR.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){lA(t.elements.container,t.config.classNames.loading,t.loading),lR.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles:function(){var e=this;Object.values(Qn({},this.media.style)).filter((function(e){return!WL.empty(e)&&WL.string(e)&&e.startsWith("--plyr")})).forEach((function(t){e.elements.container.style.setProperty(t,e.media.style.getPropertyValue(t)),e.media.style.removeProperty(t)})),WL.empty(this.media.style)&&this.media.removeAttribute("style")}},uR=function(){function e(t){var n=this;f(this,e),vL(this,"firstTouch",(function(){var e=n.player,t=e.elements;e.touch=!0,lA(t.container,e.config.classNames.isTouch,!0)})),vL(this,"global",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=n.player;t.config.keyboard.global&&vA.call(t,window,"keydown keyup",n.handleKey,e,!1),vA.call(t,document.body,"click",n.toggleMenu,e),kA.call(t,document.body,"touchstart",n.firstTouch)})),vL(this,"container",(function(){var e=n.player,t=e.config,r=e.elements,i=e.timers;!t.keyboard.global&&t.keyboard.focused&&yA.call(e,r.container,"keydown keyup",n.handleKey,!1),yA.call(e,r.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var n=r.controls;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);var a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(lR.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((function(){return lR.toggleControls.call(e,!1)}),a)}));var a=function(){if(e.isVimeo&&!e.config.vimeo.premium){var t=r.wrapper,n=e.fullscreen.active,i=u(OA.call(e),2),a=i[0],o=i[1],s=LA("aspect-ratio: ".concat(a," / ").concat(o));if(n){var l=u([Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],2),c=l[0],d=l[1],f=c/d>a/o;s?(t.style.width=f?"auto":"100%",t.style.height=f?"100%":"auto"):(t.style.maxWidth=f?d/o*a+"px":null,t.style.margin=f?"0 auto":null)}else s?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null)}},o=function(){clearTimeout(i.resized),i.resized=setTimeout(a,50)};yA.call(e,r.container,"enterfullscreen exitfullscreen",(function(t){e.fullscreen.target===r.container&&(!e.isEmbed&&WL.empty(e.config.ratio)||(a(),("enterfullscreen"===t.type?yA:bA).call(e,window,"resize",o)))}))})),vL(this,"media",(function(){var e=n.player,t=e.elements;if(yA.call(e,e.media,"timeupdate seeking seeked",(function(t){return YA.timeUpdate.call(e,t)})),yA.call(e,e.media,"durationchange loadeddata loadedmetadata",(function(t){return YA.durationUpdate.call(e,t)})),yA.call(e,e.media,"ended",(function(){e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),yA.call(e,e.media,"progress playing seeking seeked",(function(t){return YA.updateProgress.call(e,t)})),yA.call(e,e.media,"volumechange",(function(t){return YA.updateVolume.call(e,t)})),yA.call(e,e.media,"playing play pause ended emptied timeupdate",(function(t){return lR.checkPlaying.call(e,t)})),yA.call(e,e.media,"waiting canplay seeked playing",(function(t){return lR.checkLoading.call(e,t)})),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){var r=fA.call(e,".".concat(e.config.classNames.video));if(!WL.element(r))return;yA.call(e,t.container,"click",(function(i){([t.container,r].includes(i.target)||r.contains(i.target))&&(e.touch&&e.config.hideControls||(e.ended?(n.proxy(i,e.restart,"restart"),n.proxy(i,(function(){SA(e.play())}),"play")):n.proxy(i,(function(){SA(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&yA.call(e,t.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),yA.call(e,e.media,"volumechange",(function(){e.storage.set({volume:e.volume,muted:e.muted})})),yA.call(e,e.media,"ratechange",(function(){YA.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),yA.call(e,e.media,"qualitychange",(function(t){YA.updateSetting.call(e,"quality",null,t.detail.quality)})),yA.call(e,e.media,"ready qualitychange",(function(){YA.setDownloadUrl.call(e)}));var i=e.config.events.concat(["keyup","keydown"]).join(" ");yA.call(e,e.media,i,(function(n){var r=n.detail,i=void 0===r?{}:r;"error"===n.type&&(i=e.media.error),wA.call(e,t.container,n.type,!0,i)}))})),vL(this,"proxy",(function(e,t,r){var i=n.player,a=i.config.listeners[r],o=!0;WL.function(a)&&(o=a.call(i,e)),!1!==o&&WL.function(t)&&t.call(i,e)})),vL(this,"bind",(function(e,t,r,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=n.player,s=o.config.listeners[i],l=WL.function(s);yA.call(o,e,t,(function(e){return n.proxy(e,r,i)}),a&&!l)})),vL(this,"controls",(function(){var e=n.player,t=e.elements,r=XL.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((function(t){n.bind(t,"click",(function(){SA(e.togglePlay())}),"play")})),n.bind(t.buttons.restart,"click",e.restart,"restart"),n.bind(t.buttons.rewind,"click",(function(){e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),n.bind(t.buttons.fastForward,"click",(function(){e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),n.bind(t.buttons.mute,"click",(function(){e.muted=!e.muted}),"mute"),n.bind(t.buttons.captions,"click",(function(){return e.toggleCaptions()})),n.bind(t.buttons.download,"click",(function(){wA.call(e,e.media,"download")}),"download"),n.bind(t.buttons.fullscreen,"click",(function(){e.fullscreen.toggle()}),"fullscreen"),n.bind(t.buttons.pip,"click",(function(){e.pip="toggle"}),"pip"),n.bind(t.buttons.airplay,"click",e.airplay,"airplay"),n.bind(t.buttons.settings,"click",(function(t){t.stopPropagation(),t.preventDefault(),YA.toggleMenu.call(e,t)}),null,!1),n.bind(t.buttons.settings,"keyup",(function(t){[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),YA.toggleMenu.call(e,t)):YA.focusFirstMenuItem.call(e,null,!0))}),null,!1),n.bind(t.settings.menu,"keydown",(function(t){"Escape"===t.key&&YA.toggleMenu.call(e,t)})),n.bind(t.inputs.seek,"mousedown mousemove",(function(e){var n=t.progress.getBoundingClientRect(),r=100/n.width*(e.pageX-n.left);e.currentTarget.setAttribute("seek-value",r)})),n.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(t){var n=t.currentTarget,r="play-on-seeked";if(!WL.keyboardEvent(t)||["ArrowLeft","ArrowRight"].includes(t.key)){e.lastSeekTime=Date.now();var i=n.hasAttribute(r),a=["mouseup","touchend","keyup"].includes(t.type);i&&a?(n.removeAttribute(r),SA(e.play())):!a&&e.playing&&(n.setAttribute(r,""),e.pause())}})),XL.isIos){var i=dA.call(e,'input[type="range"]');Array.from(i).forEach((function(e){return n.bind(e,r,(function(e){return $L(e.target)}))}))}n.bind(t.inputs.seek,r,(function(t){var n=t.currentTarget,r=n.getAttribute("seek-value");WL.empty(r)&&(r=n.value),n.removeAttribute("seek-value"),e.currentTime=r/n.max*e.duration}),"seek"),n.bind(t.progress,"mouseenter mouseleave mousemove",(function(t){return YA.updateSeekTooltip.call(e,t)})),n.bind(t.progress,"mousemove touchmove",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startMove(t)})),n.bind(t.progress,"mouseleave touchend click",(function(){var t=e.previewThumbnails;t&&t.loaded&&t.endMove(!1,!0)})),n.bind(t.progress,"mousedown touchstart",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.startScrubbing(t)})),n.bind(t.progress,"mouseup touchend",(function(t){var n=e.previewThumbnails;n&&n.loaded&&n.endScrubbing(t)})),XL.isWebKit&&Array.from(dA.call(e,'input[type="range"]')).forEach((function(t){n.bind(t,"input",(function(t){return YA.updateRangeFill.call(e,t.target)}))})),e.config.toggleInvert&&!WL.element(t.display.duration)&&n.bind(t.display.currentTime,"click",(function(){0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,YA.timeUpdate.call(e))})),n.bind(t.inputs.volume,r,(function(t){e.volume=t.target.value}),"volume"),n.bind(t.controls,"mouseenter mouseleave",(function(n){t.controls.hover=!e.touch&&"mouseenter"===n.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((function(e){return!e.contains(t.container)})).forEach((function(r){n.bind(r,"mouseenter mouseleave",(function(n){t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===n.type)}))})),n.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),n.bind(t.controls,"focusin",(function(){var r=e.config,i=e.timers;lA(t.controls,r.classNames.noTransition,!0),lR.toggleControls.call(e,!0),setTimeout((function(){lA(t.controls,r.classNames.noTransition,!1)}),0);var a=n.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout((function(){return lR.toggleControls.call(e,!1)}),a)})),n.bind(t.inputs.volume,"wheel",(function(t){var n=t.webkitDirectionInvertedFromDevice,r=[t.deltaX,-t.deltaY].map((function(e){return n?-e:e})),i=u(r,2),a=i[0],o=i[1],s=Math.sign(Math.abs(a)>Math.abs(o)?a:o);e.increaseVolume(s/50);var l=e.media.volume;(1===s&&l<1||-1===s&&l>0)&&t.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}return g(e,[{key:"handleKey",value:function(e){var t,n=this.player,r=n.elements,i=e.key,a=e.type,o=e.altKey,s=e.ctrlKey,l=e.metaKey,u=e.shiftKey,c="keydown"===a,d=c&&i===this.lastKey;if(!(o||s||l||u)&&i)if(c){var f=document.activeElement;if(WL.element(f)){var h=n.config.selectors.editable;if(f!==r.inputs.seek&&cA(f,h))return;if(" "===e.key&&cA(f,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(t=parseInt(i,10),n.currentTime=n.duration/10*t);break;case" ":case"k":d||SA(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}"Escape"===i&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){YA.toggleMenu.call(this.player,e)}}]),e}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var cR=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},n={},r={};function i(e,t){if(e){var i=r[e];if(n[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function a(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function o(t,n,r,i){var a,s,l=document,u=r.async,c=(r.numRetries||0)+1,d=r.before||e,f=t.replace(/[\?|#].*$/,""),h=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(f)?((s=l.createElement("link")).rel="stylesheet",s.href=h,(a="hideFocus"in s)&&s.relList&&(a=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(s=l.createElement("img")).src=h:((s=l.createElement("script")).src=t,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(e){var l=e.type[0];if(a)try{s.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((i+=1)<c)return o(t,n,r,i)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";n(t,l,e.defaultPrevented)},!1!==d(t,s)&&l.head.appendChild(s)}function s(e,t,n){var r,i,a=(e=e.push?e:[e]).length,s=a,l=[];for(r=function(e,n,r){if("e"==n&&l.push(e),"b"==n){if(!r)return;l.push(e)}--a||t(l)},i=0;i<s;i++)o(e[i],r,n)}function l(e,n,r){var o,l;if(n&&n.trim&&(o=n),l=(o?r:n)||{},o){if(o in t)throw"LoadJS";t[o]=!0}function u(t,n){s(e,(function(e){a(l,e),t&&a({success:t,error:n},e),i(o,e)}),l)}if(l.returnPromise)return new Promise(u);u()}return l.ready=function(e,t){return function(e,t){e=e.push?e:[e];var i,a,o,s=[],l=e.length,u=l;for(i=function(e,n){n.length&&s.push(e),--u||t(s)};l--;)a=e[l],(o=n[a])?i(a,o):(r[a]=r[a]||[]).push(i)}(e,(function(e){a(t,e)})),l},l.done=function(e){i(e,[])},l.reset=function(){t={},n={},r={}},l.isDefined=function(e){return e in t},l}()}));function dR(e){return new Promise((function(t,n){cR(e,{success:t,error:n})}))}function fR(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,wA.call(this,this.media,e?"play":"pause"))}var hR={setup:function(){var e=this;lA(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,_A.call(e),WL.object(window.Vimeo)?hR.ready.call(e):dR(e.config.urls.vimeo.sdk).then((function(){hR.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,r=n.premium,i=n.referrerPolicy,a=Gm(n,gL),o=t.media.getAttribute("src"),s="";WL.empty(o)?(o=t.media.getAttribute(t.config.attributes.embed.id),s=t.media.getAttribute(t.config.attributes.embed.hash)):s=function(e){var t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(o);var l=s?{h:s}:{};r&&Object.assign(a,{controls:!1,sidedock:!1});var c=XA(Qn(Qn({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline},l),a)),d=function(e){return WL.empty(e)?null:WL.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}(o),f=tA("iframe"),h=MA(t.config.urls.vimeo.iframe,d,c);if(f.setAttribute("src",h),f.setAttribute("allowfullscreen",""),f.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),WL.empty(i)||f.setAttribute("referrerPolicy",i),r||!n.customControls)f.setAttribute("data-poster",t.poster),t.media=aA(f,t.media);else{var p=tA("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});p.appendChild(f),t.media=aA(p,t.media)}n.customControls||GA(MA(t.config.urls.vimeo.api,h)).then((function(e){!WL.empty(e)&&e.thumbnail_url&&lR.setPoster.call(t,e.thumbnail_url).catch((function(){}))})),t.embed=new window.Vimeo.Player(f,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return fR.call(t,!0),t.embed.play()},t.media.pause=function(){return fR.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var m=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return m},set:function(e){var n=t.embed,r=t.media,i=t.paused,a=t.volume,o=i&&!n.hasPlayed;r.seeking=!0,wA.call(t,r,"seeking"),Promise.resolve(o&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return o&&n.pause()})).then((function(){return o&&n.setVolume(a)})).catch((function(){}))}});var g=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return g},set:function(e){t.embed.setPlaybackRate(e).then((function(){g=e,wA.call(t,t.media,"ratechange")})).catch((function(){t.options.speed=[1]}))}});var v=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return v},set:function(e){t.embed.setVolume(e).then((function(){v=e,wA.call(t,t.media,"volumechange")}))}});var y=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return y},set:function(e){var n=!!WL.boolean(e)&&e;t.embed.setMuted(!!n||t.config.muted).then((function(){y=n,wA.call(t,t.media,"volumechange")}))}});var b,k=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return k},set:function(e){var n=WL.boolean(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){k=n}))}}),t.embed.getVideoUrl().then((function(e){b=e,YA.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return b}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];t.embed.ratio=IA(i,a),_A.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,lR.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){m=e,wA.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,wA.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,QA.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,r=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));QA.updateCues.call(t,r)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){fR.call(t,!e),e||wA.call(t,t.media,"playing")})),WL.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){wA.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){wA.call(t,t.media,"playing")})),t.embed.on("play",(function(){fR.call(t,!0),wA.call(t,t.media,"playing")})),t.embed.on("pause",(function(){fR.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,m=e.seconds,wA.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,wA.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&wA.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,wA.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,wA.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,wA.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,wA.call(t,t.media,"error")})),n.customControls&&setTimeout((function(){return lR.build.call(t)}),0)}};function pR(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,wA.call(this,this.media,e?"play":"pause"))}function mR(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var gR={setup:function(){var e=this;if(lA(this.elements.wrapper,this.config.classNames.embed,!0),WL.object(window.YT)&&WL.function(window.YT.Player))gR.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){WL.function(t)&&t(),gR.ready.call(e)},dR(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;GA(MA(this.config.urls.youtube.api,e)).then((function(e){if(WL.object(e)){var n=e.title,r=e.height,i=e.width;t.config.title=n,lR.setTitle.call(t),t.embed.ratio=IA(i,r)}_A.call(t)})).catch((function(){_A.call(t)}))},ready:function(){var e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(WL.empty(n)||!n.startsWith("youtube-")){var r=e.media.getAttribute("src");WL.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));var i=function(e){return WL.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}(r),a=tA("div",{id:NA(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=aA(a,e.media),t.customControls){var o=function(e){return"https://i.ytimg.com/vi/".concat(i,"/").concat(e,"default.jpg")};sR(o("maxres"),121).catch((function(){return sR(o("sd"),121)})).catch((function(){return sR(o("hq"))})).then((function(t){return lR.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}))}e.embed=new window.YT.Player(e.media,{videoId:i,host:mR(t),playerVars:ZL({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError:function(t){if(!e.media.error){var n=t.data,r={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occurred";e.media.error={code:n,message:r},wA.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),wA.call(e,e.media,"ratechange")},onReady:function(n){if(!WL.function(e.media.play)){var r=n.target;gR.getTitle.call(e,i),e.media.play=function(){pR.call(e,!0),r.playVideo()},e.media.pause=function(){pR.call(e,!1),r.pauseVideo()},e.media.stop=function(){r.stopVideo()},e.media.duration=r.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(r.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,wA.call(e,e.media,"seeking"),r.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return r.getPlaybackRate()},set:function(e){r.setPlaybackRate(e)}});var a=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return a},set:function(t){a=t,r.setVolume(100*a),wA.call(e,e.media,"volumechange")}});var o=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return o},set:function(t){var n=WL.boolean(t)?t:o;o=n,r[n?"mute":"unMute"](),r.setVolume(100*a),wA.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return r.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var s=r.getAvailablePlaybackRates();e.options.speed=s.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),wA.call(e,e.media,"timeupdate"),wA.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=r.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&wA.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),wA.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((function(){return lR.build.call(e)}),50)}},onStateChange:function(n){var r=n.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(n.data)&&(e.media.seeking=!1,wA.call(e,e.media,"seeked")),n.data){case-1:wA.call(e,e.media,"timeupdate"),e.media.buffered=r.getVideoLoadedFraction(),wA.call(e,e.media,"progress");break;case 0:pR.call(e,!1),e.media.loop?(r.stopVideo(),r.playVideo()):wA.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(pR.call(e,!0),wA.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){wA.call(e,e.media,"timeupdate")}),50),e.media.duration!==r.getDuration()&&(e.media.duration=r.getDuration(),wA.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),pR.call(e,!1);break;case 3:wA.call(e,e.media,"waiting")}wA.call(e,e.elements.container,"statechange",!1,{code:n.data})}}})}}},vR={setup:function(){this.media?(lA(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),lA(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&lA(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=tA("div",{class:this.config.classNames.video}),JL(this.media,this.elements.wrapper),this.elements.poster=tA("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?DA.setup.call(this):this.isYouTube?gR.setup.call(this):this.isVimeo&&hR.setup.call(this)):this.debug.warn("No media element found!")}},yR=function(){function e(t){var n=this;f(this,e),vL(this,"load",(function(){n.enabled&&(WL.object(window.google)&&WL.object(window.google.ima)?n.ready():dR(n.player.config.urls.googleIMA.sdk).then((function(){n.ready()})).catch((function(){n.trigger("error",new Error("Google IMA SDK failed to load"))})))})),vL(this,"ready",(function(){var e;n.enabled||((e=n).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),n.startSafetyTimer(12e3,"ready()"),n.managerPromise.then((function(){n.clearSafetyTimer("onAdsManagerLoaded()")})),n.listeners(),n.setupIMA()})),vL(this,"setupIMA",(function(){n.elements.container=tA("div",{class:n.player.config.classNames.ads}),n.player.elements.container.appendChild(n.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(n.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(n.player.config.playsinline),n.elements.displayContainer=new google.ima.AdDisplayContainer(n.elements.container,n.player.media),n.loader=new google.ima.AdsLoader(n.elements.displayContainer),n.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){return n.onAdsManagerLoaded(e)}),!1),n.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return n.onAdError(e)}),!1),n.requestAds()})),vL(this,"requestAds",(function(){var e=n.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=n.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!n.player.muted),n.loader.requestAds(t)}catch(e){n.onAdError(e)}})),vL(this,"pollCountdown",(function(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(n.countdownTimer),void n.elements.container.removeAttribute("data-badge-text");n.countdownTimer=setInterval((function(){var e=WA(Math.max(n.manager.getRemainingTime(),0)),t="".concat(HA("advertisement",n.player.config)," - ").concat(e);n.elements.container.setAttribute("data-badge-text",t)}),100)})),vL(this,"onAdsManagerLoaded",(function(e){if(n.enabled){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,n.manager=e.getAdsManager(n.player,t),n.cuePoints=n.manager.getCuePoints(),n.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return n.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){n.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return n.onAdEvent(e)}))})),n.trigger("loaded")}})),vL(this,"addCuePoints",(function(){WL.empty(n.cuePoints)||n.cuePoints.forEach((function(e){if(0!==e&&-1!==e&&e<n.player.duration){var t=n.player.elements.progress;if(WL.element(t)){var r=100/n.player.duration*e,i=tA("span",{class:n.player.config.classNames.cues});i.style.left="".concat(r.toString(),"%"),t.appendChild(i)}}}))})),vL(this,"onAdEvent",(function(e){var t=n.player.elements.container,r=e.getAd(),i=e.getAdData();switch(function(e){wA.call(n.player,n.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:n.trigger("loaded"),n.pollCountdown(!0),r.isLinear()||(r.width=t.offsetWidth,r.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:n.manager.setVolume(n.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:n.player.ended?n.loadAds():n.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:n.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:n.pollCountdown(),n.resumeContent();break;case google.ima.AdEvent.Type.LOG:i.adError&&n.player.debug.warn("Non-fatal ad error: ".concat(i.adError.getMessage()))}})),vL(this,"onAdError",(function(e){n.cancel(),n.player.debug.warn("Ads error",e)})),vL(this,"listeners",(function(){var e,t=n.player.elements.container;n.player.on("canplay",(function(){n.addCuePoints()})),n.player.on("ended",(function(){n.loader.contentComplete()})),n.player.on("timeupdate",(function(){e=n.player.currentTime})),n.player.on("seeked",(function(){var t=n.player.currentTime;WL.empty(n.cuePoints)||n.cuePoints.forEach((function(r,i){e<r&&r<t&&(n.manager.discardAdBreak(),n.cuePoints.splice(i,1))}))})),window.addEventListener("resize",(function(){n.manager&&n.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)}))})),vL(this,"play",(function(){var e=n.player.elements.container;n.managerPromise||n.resumeContent(),n.managerPromise.then((function(){n.manager.setVolume(n.player.volume),n.elements.displayContainer.initialize();try{n.initialized||(n.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),n.manager.start()),n.initialized=!0}catch(e){n.onAdError(e)}})).catch((function(){}))})),vL(this,"resumeContent",(function(){n.elements.container.style.zIndex="",n.playing=!1,SA(n.player.media.play())})),vL(this,"pauseContent",(function(){n.elements.container.style.zIndex=3,n.playing=!0,n.player.media.pause()})),vL(this,"cancel",(function(){n.initialized&&n.resumeContent(),n.trigger("error"),n.loadAds()})),vL(this,"loadAds",(function(){n.managerPromise.then((function(){n.manager&&n.manager.destroy(),n.managerPromise=new Promise((function(e){n.on("loaded",e),n.player.debug.log(n.manager)})),n.initialized=!1,n.requestAds()})).catch((function(){}))})),vL(this,"trigger",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=n.events[e];WL.array(a)&&a.forEach((function(e){WL.function(e)&&e.apply(n,r)}))})),vL(this,"on",(function(e,t){return WL.array(n.events[e])||(n.events[e]=[]),n.events[e].push(t),n})),vL(this,"startSafetyTimer",(function(e,t){n.player.debug.log("Safety timer invoked from: ".concat(t)),n.safetyTimer=setTimeout((function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")}),e)})),vL(this,"clearSafetyTimer",(function(e){WL.nullOrUndefined(n.safetyTimer)||(n.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(n.safetyTimer),n.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){n.on("loaded",e),n.on("error",t)})),this.load()}return g(e,[{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!WL.empty(e.publisherId)||WL.url(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;return WL.url(e.tagUrl)?e.tagUrl:"https://go.aniview.com/api/adserver6/vast/?".concat(XA({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId}))}}]),e}();function bR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}var kR=function(e){var t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var n={};e.split(/\r\n|\n|\r/).forEach((function(e){if(WL.number(n.startTime)){if(!WL.empty(e.trim())&&WL.empty(n.text)){var t,r,i=e.trim().split("#xywh=");t=u(i,1),n.text=t[0],i[1]&&(r=u(i[1].split(","),4),n.x=r[0],n.y=r[1],n.w=r[2],n.h=r[3])}}else{var a=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);a&&(n.startTime=60*Number(a[1]||0)*60+60*Number(a[2])+Number(a[3])+Number("0.".concat(a[4])),n.endTime=60*Number(a[6]||0)*60+60*Number(a[7])+Number(a[8])+Number("0.".concat(a[9])))}})),n.text&&t.push(n)})),t},wR=function(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n},xR=function(){function e(t){var n=this;f(this,e),vL(this,"load",(function(){n.player.elements.display.seekTooltip&&(n.player.elements.display.seekTooltip.hidden=n.enabled),n.enabled&&n.getThumbnails().then((function(){n.enabled&&(n.render(),n.determineContainerAutoSizing(),n.listeners(),n.loaded=!0)}))})),vL(this,"getThumbnails",(function(){return new Promise((function(e){var t=n.player.config.previewThumbnails.src;if(WL.empty(t))throw new Error("Missing previewThumbnails.src config attribute");var r=function(){n.thumbnails.sort((function(e,t){return e.height-t.height})),n.player.debug.log("Preview thumbnails",n.thumbnails),e()};if(WL.function(t))t((function(e){n.thumbnails=e,r()}));else{var i=(WL.string(t)?[t]:t).map((function(e){return n.getThumbnail(e)}));Promise.all(i).then(r)}}))})),vL(this,"getThumbnail",(function(e){return new Promise((function(t){GA(e).then((function(r){var i={frames:kR(r),height:null,urlPrefix:""};i.frames[0].text.startsWith("/")||i.frames[0].text.startsWith("http://")||i.frames[0].text.startsWith("https://")||(i.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var a=new Image;a.onload=function(){i.height=a.naturalHeight,i.width=a.naturalWidth,n.thumbnails.push(i),t()},a.src=i.urlPrefix+i.frames[0].text}))}))})),vL(this,"startMove",(function(e){if(n.loaded&&WL.event(e)&&["touchmove","mousemove"].includes(e.type)&&n.player.media.duration){if("touchmove"===e.type)n.seekTime=n.player.media.duration*(n.player.elements.inputs.seek.value/100);else{var t,r,i=n.player.elements.progress.getBoundingClientRect(),a=100/i.width*(e.pageX-i.left);n.seekTime=n.player.media.duration*(a/100),n.seekTime<0&&(n.seekTime=0),n.seekTime>n.player.media.duration-1&&(n.seekTime=n.player.media.duration-1),n.mousePosX=e.pageX,n.elements.thumb.time.innerText=WA(n.seekTime);var o=null===(t=n.player.config.markers)||void 0===t||null===(r=t.points)||void 0===r?void 0:r.find((function(e){return e.time===Math.round(n.seekTime)}));o&&n.elements.thumb.time.insertAdjacentHTML("afterbegin","".concat(o.label,"<br>"))}n.showImageAtCurrentTime()}})),vL(this,"endMove",(function(){n.toggleThumbContainer(!1,!0)})),vL(this,"startScrubbing",(function(e){(WL.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(n.mouseDown=!0,n.player.media.duration&&(n.toggleScrubbingContainer(!0),n.toggleThumbContainer(!1,!0),n.showImageAtCurrentTime()))})),vL(this,"endScrubbing",(function(){n.mouseDown=!1,Math.ceil(n.lastTime)===Math.ceil(n.player.media.currentTime)?n.toggleScrubbingContainer(!1):kA.call(n.player,n.player.media,"timeupdate",(function(){n.mouseDown||n.toggleScrubbingContainer(!1)}))})),vL(this,"listeners",(function(){n.player.on("play",(function(){n.toggleThumbContainer(!1,!0)})),n.player.on("seeked",(function(){n.toggleThumbContainer(!1)})),n.player.on("timeupdate",(function(){n.lastTime=n.player.media.currentTime}))})),vL(this,"render",(function(){n.elements.thumb.container=tA("div",{class:n.player.config.classNames.previewThumbnails.thumbContainer}),n.elements.thumb.imageContainer=tA("div",{class:n.player.config.classNames.previewThumbnails.imageContainer}),n.elements.thumb.container.appendChild(n.elements.thumb.imageContainer);var e=tA("div",{class:n.player.config.classNames.previewThumbnails.timeContainer});n.elements.thumb.time=tA("span",{},"00:00"),e.appendChild(n.elements.thumb.time),n.elements.thumb.imageContainer.appendChild(e),WL.element(n.player.elements.progress)&&n.player.elements.progress.appendChild(n.elements.thumb.container),n.elements.scrubbing.container=tA("div",{class:n.player.config.classNames.previewThumbnails.scrubbingContainer}),n.player.elements.wrapper.appendChild(n.elements.scrubbing.container)})),vL(this,"destroy",(function(){n.elements.thumb.container&&n.elements.thumb.container.remove(),n.elements.scrubbing.container&&n.elements.scrubbing.container.remove()})),vL(this,"showImageAtCurrentTime",(function(){n.mouseDown?n.setScrubbingContainerSize():n.setThumbContainerSizeAndPos();var e=n.thumbnails[0].frames.findIndex((function(e){return n.seekTime>=e.startTime&&n.seekTime<=e.endTime})),t=e>=0,r=0;n.mouseDown||n.toggleThumbContainer(t),t&&(n.thumbnails.forEach((function(t,i){n.loadedImages.includes(t.frames[e].text)&&(r=i)})),e!==n.showingThumb&&(n.showingThumb=e,n.loadImage(r)))})),vL(this,"loadImage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.showingThumb,r=n.thumbnails[e],i=r.urlPrefix,a=r.frames[t],o=r.frames[t].text,s=i+o;if(n.currentImageElement&&n.currentImageElement.dataset.filename===o)n.showImage(n.currentImageElement,a,e,t,o,!1),n.currentImageElement.dataset.index=t,n.removeOldImages(n.currentImageElement);else{n.loadingImage&&n.usingSprites&&(n.loadingImage.onload=null);var l=new Image;l.src=s,l.dataset.index=t,l.dataset.filename=o,n.showingThumbFilename=o,n.player.debug.log("Loading image: ".concat(s)),l.onload=function(){return n.showImage(l,a,e,t,o,!0)},n.loadingImage=l,n.removeOldImages(l)}})),vL(this,"showImage",(function(e,t,r,i,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];n.player.debug.log("Showing thumb: ".concat(a,". num: ").concat(i,". qual: ").concat(r,". newimg: ").concat(o)),n.setImageSizeAndOffset(e,t),o&&(n.currentImageContainer.appendChild(e),n.currentImageElement=e,n.loadedImages.includes(a)||n.loadedImages.push(a)),n.preloadNearby(i,!0).then(n.preloadNearby(i,!1)).then(n.getHigherQuality(r,e,t,a))})),vL(this,"removeOldImages",(function(e){Array.from(n.currentImageContainer.children).forEach((function(t){if("img"===t.tagName.toLowerCase()){var r=n.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;var i=n.currentImageContainer;setTimeout((function(){i.removeChild(t),n.player.debug.log("Removing thumb: ".concat(t.dataset.filename))}),r)}}}))})),vL(this,"preloadNearby",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r){setTimeout((function(){var i=n.thumbnails[0].frames[e].text;if(n.showingThumbFilename===i){var a;a=t?n.thumbnails[0].frames.slice(e):n.thumbnails[0].frames.slice(0,e).reverse();var o=!1;a.forEach((function(e){var t=e.text;if(t!==i&&!n.loadedImages.includes(t)){o=!0,n.player.debug.log("Preloading thumb filename: ".concat(t));var a=n.thumbnails[0].urlPrefix+t,s=new Image;s.src=a,s.onload=function(){n.player.debug.log("Preloaded thumb filename: ".concat(t)),n.loadedImages.includes(t)||n.loadedImages.push(t),r()}}})),o||r()}}),300)}))})),vL(this,"getHigherQuality",(function(e,t,r,i){if(e<n.thumbnails.length-1){var a=t.naturalHeight;n.usingSprites&&(a=r.h),a<n.thumbContainerHeight&&setTimeout((function(){n.showingThumbFilename===i&&(n.player.debug.log("Showing higher quality thumb for: ".concat(i)),n.loadImage(e+1))}),300)}})),vL(this,"toggleThumbContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.player.config.classNames.previewThumbnails.thumbContainerShown;n.elements.thumb.container.classList.toggle(r,e),!e&&t&&(n.showingThumb=null,n.showingThumbFilename=null)})),vL(this,"toggleScrubbingContainer",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.player.config.classNames.previewThumbnails.scrubbingContainerShown;n.elements.scrubbing.container.classList.toggle(t,e),e||(n.showingThumb=null,n.showingThumbFilename=null)})),vL(this,"determineContainerAutoSizing",(function(){(n.elements.thumb.imageContainer.clientHeight>20||n.elements.thumb.imageContainer.clientWidth>20)&&(n.sizeSpecifiedInCSS=!0)})),vL(this,"setThumbContainerSizeAndPos",(function(){var e=n.elements.thumb.imageContainer;if(n.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){var t=Math.floor(e.clientHeight*n.thumbAspectRatio);e.style.width="".concat(t,"px")}else if(e.clientHeight<20&&e.clientWidth>20){var r=Math.floor(e.clientWidth/n.thumbAspectRatio);e.style.height="".concat(r,"px")}}else{var i=Math.floor(n.thumbContainerHeight*n.thumbAspectRatio);e.style.height="".concat(n.thumbContainerHeight,"px"),e.style.width="".concat(i,"px")}n.setThumbContainerPos()})),vL(this,"setThumbContainerPos",(function(){var e=n.player.elements.progress.getBoundingClientRect(),t=n.player.elements.container.getBoundingClientRect(),r=n.elements.thumb.container,i=t.left-e.left+10,a=t.right-e.left-r.clientWidth-10,o=n.mousePosX-e.left-r.clientWidth/2,s=bR(o,i,a);r.style.left="".concat(s,"px"),r.style.setProperty("--preview-arrow-offset",o-s+"px")})),vL(this,"setScrubbingContainerSize",(function(){var e=wR(n.thumbAspectRatio,{width:n.player.media.clientWidth,height:n.player.media.clientHeight}),t=e.width,r=e.height;n.elements.scrubbing.container.style.width="".concat(t,"px"),n.elements.scrubbing.container.style.height="".concat(r,"px")})),vL(this,"setImageSizeAndOffset",(function(e,t){if(n.usingSprites){var r=n.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*r+"px",e.style.width=e.naturalWidth*r+"px",e.style.left="-".concat(t.x*r,"px"),e.style.top="-".concat(t.y*r,"px")}})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return g(e,[{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?wR(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),e}(),ER={insertElements:function(e,t){var n=this;WL.string(t)?nA(e,this.media,{src:t}):WL.array(t)&&t.forEach((function(t){nA(e,n.media,t)}))},change:function(e){var t=this;QL(e,"sources.length")?(DA.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],rA(t.media),t.media=null,WL.element(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,r=e.type,i=u(n,1)[0],a=i.provider,o=void 0===a?tR.html5:a,s=i.src,l="html5"===o?r:"div",c="html5"===o?{}:{src:s};Object.assign(t,{provider:o,type:r,supported:mA.check(r,o,t.config.playsinline),media:tA(l,c)}),t.elements.container.appendChild(t.media),WL.boolean(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),WL.empty(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),lR.addStyleHook.call(t),t.isHTML5&&ER.insertElements.call(t,"source",n),t.config.title=e.title,vR.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&ER.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&lR.build.call(t),t.isHTML5&&t.media.load(),WL.empty(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new xR(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},SR=function(){function e(t,n){var r=this;if(f(this,e),vL(this,"play",(function(){return WL.function(r.media.play)?(r.ads&&r.ads.enabled&&r.ads.managerPromise.then((function(){return r.ads.play()})).catch((function(){return SA(r.media.play())})),r.media.play()):null})),vL(this,"pause",(function(){return r.playing&&WL.function(r.media.pause)?r.media.pause():null})),vL(this,"togglePlay",(function(e){return(WL.boolean(e)?e:!r.playing)?r.play():r.pause()})),vL(this,"stop",(function(){r.isHTML5?(r.pause(),r.restart()):WL.function(r.media.stop)&&r.media.stop()})),vL(this,"restart",(function(){r.currentTime=0})),vL(this,"rewind",(function(e){r.currentTime-=WL.number(e)?e:r.config.seekTime})),vL(this,"forward",(function(e){r.currentTime+=WL.number(e)?e:r.config.seekTime})),vL(this,"increaseVolume",(function(e){var t=r.media.muted?0:r.volume;r.volume=t+(WL.number(e)?e:0)})),vL(this,"decreaseVolume",(function(e){r.increaseVolume(-e)})),vL(this,"airplay",(function(){mA.airplay&&r.media.webkitShowPlaybackTargetPicker()})),vL(this,"toggleControls",(function(e){if(r.supported.ui&&!r.isAudio){var t=uA(r.elements.container,r.config.classNames.hideControls),n=void 0===e?void 0:!e,i=lA(r.elements.container,r.config.classNames.hideControls,n);if(i&&WL.array(r.config.controls)&&r.config.controls.includes("settings")&&!WL.empty(r.config.settings)&&YA.toggleMenu.call(r,!1),i!==t){var a=i?"controlshidden":"controlsshown";wA.call(r,r.media,a)}return!i}return!1})),vL(this,"on",(function(e,t){yA.call(r,r.elements.container,e,t)})),vL(this,"once",(function(e,t){kA.call(r,r.elements.container,e,t)})),vL(this,"off",(function(e,t){bA(r.elements.container,e,t)})),vL(this,"destroy",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r.ready){var n=function(){document.body.style.overflow="",r.embed=null,t?(Object.keys(r.elements).length&&(rA(r.elements.buttons.play),rA(r.elements.captions),rA(r.elements.controls),rA(r.elements.wrapper),r.elements.buttons.play=null,r.elements.captions=null,r.elements.controls=null,r.elements.wrapper=null),WL.function(e)&&e()):(xA.call(r),DA.cancelRequests.call(r),aA(r.elements.original,r.elements.container),wA.call(r,r.elements.original,"destroyed",!0),WL.function(e)&&e.call(r.elements.original),r.ready=!1,setTimeout((function(){r.elements=null,r.media=null}),200))};r.stop(),clearTimeout(r.timers.loading),clearTimeout(r.timers.controls),clearTimeout(r.timers.resized),r.isHTML5?(lR.toggleNativeControls.call(r,!0),n()):r.isYouTube?(clearInterval(r.timers.buffering),clearInterval(r.timers.playing),null!==r.embed&&WL.function(r.embed.destroy)&&r.embed.destroy(),n()):r.isVimeo&&(null!==r.embed&&r.embed.unload().then(n),setTimeout(n,200))}})),vL(this,"supports",(function(e){return mA.mime.call(r,e)})),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=mA.touch,this.media=t,WL.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||WL.nodeList(this.media)||WL.array(this.media))&&(this.media=this.media[0]),this.config=ZL({},ZA,e.defaults,n||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(t){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new aR(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",mA),!WL.nullOrUndefined(this.media)&&WL.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(mA.check().api){var i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;var a=this.media.tagName.toLowerCase(),o=null,s=null;switch(a){case"div":if(o=this.media.querySelector("iframe"),WL.element(o)){if(s=$A(o.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?tR.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?tR.vimeo:null}(s.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",s.search.length){var l=["1","true"];l.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(WL.empty(this.provider)||!Object.values(tR).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=rR;break;case"video":case"audio":this.type=a,this.provider=tR.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=mA.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new uR(this),this.storage=new zA(this),this.media.plyr=this,WL.element(this.elements.container)||(this.elements.container=tA("div"),JL(this.media,this.elements.container)),lR.migrateStyles.call(this),lR.addStyleHook.call(this),vR.setup.call(this),this.config.debug&&yA.call(this,this.elements.container,this.config.events.join(" "),(function(e){r.debug.log("event: ".concat(e.type))})),this.fullscreen=new oR(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&lR.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new yR(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(function(){return SA(r.play())})),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new xR(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return g(e,[{key:"isHTML5",get:function(){return this.provider===tR.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===tR.youtube}},{key:"isVimeo",get:function(){return this.provider===tR.vimeo}},{key:"isVideo",get:function(){return this.type===rR}},{key:"isAudio",get:function(){return this.type===nR}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",get:function(){return Number(this.media.currentTime)},set:function(e){if(this.duration){var t=WL.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}}},{key:"buffered",get:function(){var e=this.media.buffered;return WL.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=WL.number(t)&&t!==1/0?t:0;return e||n}},{key:"volume",get:function(){return Number(this.media.volume)},set:function(e){var t=e;WL.string(t)&&(t=Number(t)),WL.number(t)||(t=this.storage.get("volume")),WL.number(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!WL.empty(e)&&this.muted&&t>0&&(this.muted=!1)}},{key:"muted",get:function(){return Boolean(this.media.muted)},set:function(e){var t=e;WL.boolean(t)||(t=this.storage.get("muted")),WL.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",get:function(){return Number(this.media.playbackRate)},set:function(e){var t=this,n=null;WL.number(e)&&(n=e),WL.number(n)||(n=this.storage.get("speed")),WL.number(n)||(n=this.config.speed.selected);var r=this.minimumSpeed,i=this.maximumSpeed;n=bR(n,r,i),this.config.speed.selected=n,setTimeout((function(){t.media&&(t.media.playbackRate=n)}),0)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,d(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,d(this.options.speed)):this.isVimeo?2:16}},{key:"quality",get:function(){return this.media.quality},set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var r=[!WL.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(WL.number),i=!0;if(!n.includes(r)){var a=CA(n,r);this.debug.warn("Unsupported quality option: ".concat(r,", using ").concat(a," instead")),r=a,i=!1}t.selected=r,this.media.quality=r,i&&this.storage.set({quality:r})}}},{key:"loop",get:function(){return Boolean(this.media.loop)},set:function(e){var t=WL.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}},{key:"source",get:function(){return this.media.currentSrc},set:function(e){ER.change.call(this,e)}},{key:"download",get:function(){var e=this.config.urls.download;return WL.url(e)?e:this.source},set:function(e){WL.url(e)&&(this.config.urls.download=e,YA.setDownloadUrl.call(this))}},{key:"poster",get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null},set:function(e){this.isVideo?lR.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=PA(OA.call(this));return WL.array(e)?e.join(":"):e},set:function(e){this.isVideo?WL.string(e)&&RA(e)?(this.config.ratio=PA(e),_A.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",get:function(){return Boolean(this.config.autoplay)},set:function(e){this.config.autoplay=WL.boolean(e)?e:this.config.autoplay}},{key:"toggleCaptions",value:function(e){QA.toggle.call(this,e,!1)}},{key:"currentTrack",get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1},set:function(e){QA.set.call(this,e,!1),QA.setup.call(this)}},{key:"language",get:function(){return(QA.getCurrentTrack.call(this)||{}).language},set:function(e){QA.setLanguage.call(this,e,!1)}},{key:"pip",get:function(){return mA.pip?WL.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===JA:null},set:function(e){if(mA.pip){var t=WL.boolean(e)?e:!this.pip;WL.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?JA:eR),WL.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}}},{key:"setPreviewThumbnails",value:function(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new xR(this))}}],[{key:"supported",value:function(e,t){return mA.check(e,t)}},{key:"loadSprite",value:function(e,t){return qA(e,t)}},{key:"setup",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null;return WL.string(t)?r=Array.from(document.querySelectorAll(t)):WL.nodeList(t)?r=Array.from(t):WL.array(t)&&(r=t.filter(WL.element)),WL.empty(r)?null:r.map((function(t){return new e(t,n)}))}}]),e}();SR.defaults=function(e){return JSON.parse(JSON.stringify(e))}(ZA);var TR=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=t.current;if(n&&hL.isSupported()){var r=new hL;r.loadSource(e.sourse),r.on(hL.Events.MANIFEST_PARSED,(function(e,t){window.hls=r;var i=r.levels.map((function(e){return e.height}));console.log(i);var a={controls:["restart","rewind","play","fast-forward","progress","current-time","duration","mute","volume","captions","settings","pip","airplay","download","fullscreen"],quality:{default:i[i.length-1],options:i,forced:!0,onChange:function(e){return t=e,void(hL.isSupported()&&window.hls.levels.forEach((function(e,n){e.height===t&&(window.hls.currentLevel=n)})));var t}}};new(mL())(n,a)})),r.attachMedia(n)}}),[e.sourse]),(0,et.jsx)("div",{className:"max-w-[900px] flex-1 shrink-0",children:(0,et.jsx)("video",{className:"w-full h-[480px]",ref:t,controls:!0})})},CR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:[(0,et.jsx)("path",{fill:"#539E43",fillRule:"evenodd",d:"M253.222 412.519c-1.736 0-3.356-.463-4.861-1.273l-15.392-9.143c-2.315-1.273-1.158-1.736-.463-1.967 3.125-1.042 3.703-1.273 6.944-3.125.347-.232.81-.116 1.157.116l11.805 7.059c.463.232 1.041.232 1.389 0l46.177-26.734c.463-.231.694-.694.694-1.273v-53.353c0-.578-.231-1.041-.694-1.273l-46.177-26.618c-.463-.232-1.042-.232-1.389 0l-46.177 26.618c-.463.232-.695.81-.695 1.273v53.353c0 .463.232 1.042.695 1.273l12.614 7.291c6.829 3.472 11.111-.578 11.111-4.629v-52.658c0-.695.578-1.389 1.389-1.389h5.902c.694 0 1.389.579 1.389 1.389v52.658c0 9.143-4.977 14.466-13.657 14.466-2.662 0-4.745 0-10.647-2.893l-12.152-6.944c-3.009-1.736-4.861-4.976-4.861-8.448v-53.353c0-3.472 1.852-6.712 4.861-8.448l46.177-26.734c2.894-1.621 6.828-1.621 9.722 0l46.177 26.734c3.009 1.736 4.861 4.976 4.861 8.448v53.353c0 3.472-1.852 6.712-4.861 8.448l-46.177 26.734c-1.505.695-3.241 1.042-4.861 1.042Zm14.235-36.687c-20.253 0-24.419-9.259-24.419-17.129 0-.694.578-1.388 1.388-1.388h6.018c.695 0 1.273.463 1.273 1.157.926 6.134 3.588 9.143 15.856 9.143 9.721 0 13.888-2.199 13.888-7.407 0-3.009-1.158-5.208-16.319-6.713-12.614-1.273-20.484-4.05-20.484-14.119 0-9.374 7.87-14.929 21.063-14.929 14.814 0 22.105 5.092 23.031 16.202 0 .347-.116.695-.347 1.042-.232.231-.579.463-.926.463h-6.018c-.579 0-1.158-.463-1.273-1.042-1.389-6.365-4.977-8.448-14.467-8.448-10.647 0-11.92 3.703-11.92 6.481 0 3.356 1.504 4.398 15.855 6.249 14.235 1.852 20.948 4.514 20.948 14.467-.116 10.184-8.449 15.971-23.147 15.971Z",clipRule:"evenodd"}),(0,et.jsx)("path",{fill:"#333",fillRule:"evenodd",d:"M109.946 203.854c0-2.084-1.158-4.051-3.009-5.093l-49.07-28.238c-.81-.463-1.737-.695-2.663-.81h-.463c-.925 0-1.851.347-2.661.81L3.009 198.761C1.157 199.803 0 201.77 0 203.854l.116 75.92c0 1.042.578 2.083 1.504 2.546.926.579 2.083.579 2.894 0l29.164-16.665c1.852-1.042 3.01-3.009 3.01-5.093v-35.529c0-2.084 1.156-4.051 3.008-5.093l12.384-7.175c.925-.579 1.967-.81 3.009-.81 1.041 0 2.083.231 2.893.81l12.383 7.175c1.852 1.042 3.01 3.009 3.01 5.093v35.529c0 2.084 1.157 4.051 3.008 5.093l29.165 16.665a2.823 2.823 0 0 0 3.009 0c.926-.463 1.505-1.504 1.505-2.546l-.116-75.92ZM345.807 99.347c-.926-.463-2.083-.463-2.893 0-.926.579-1.505 1.505-1.505 2.546v75.226c0 .695-.347 1.389-1.041 1.852-.694.347-1.389.347-2.083 0l-12.268-7.06a5.967 5.967 0 0 0-5.902 0l-49.071 28.355c-1.852 1.041-3.009 3.009-3.009 5.092v56.593c0 2.083 1.157 4.051 3.009 5.092l49.071 28.355a5.967 5.967 0 0 0 5.902 0l49.071-28.355c1.851-1.041 3.009-3.009 3.009-5.092V120.873c0-2.198-1.158-4.166-3.009-5.208l-29.281-16.318Zm-4.514 143.971c0 .579-.231 1.042-.694 1.273l-16.781 9.722a1.72 1.72 0 0 1-1.505 0l-16.781-9.722c-.463-.231-.694-.81-.694-1.273v-19.443c0-.578.231-1.041.694-1.273l16.781-9.721a1.714 1.714 0 0 1 1.505 0l16.781 9.721c.463.232.694.81.694 1.273v19.443Zm167.814-19.906c1.851-1.041 2.893-3.009 2.893-5.092v-13.772c0-2.083-1.157-4.051-2.893-5.092l-48.724-28.239a5.962 5.962 0 0 0-5.902 0l-49.071 28.354c-1.851 1.042-3.009 3.01-3.009 5.093v56.593c0 2.083 1.158 4.05 3.009 5.092l48.724 27.776c1.851 1.041 4.05 1.041 5.786 0l29.512-16.434c.926-.463 1.505-1.505 1.505-2.546 0-1.042-.579-2.083-1.505-2.546l-49.302-28.355c-.926-.578-1.504-1.504-1.504-2.546v-17.707c0-1.042.578-2.083 1.504-2.546l15.393-8.796a2.827 2.827 0 0 1 3.009 0l15.392 8.796c.926.579 1.505 1.504 1.505 2.546v13.888c0 1.041.578 2.083 1.504 2.546a2.823 2.823 0 0 0 3.009 0l29.165-17.013Z",clipRule:"evenodd"}),(0,et.jsx)("path",{fill:"#539E43",fillRule:"evenodd",d:"M456.68 220.75c.347-.231.81-.231 1.157 0l9.374 5.44c.347.231.579.579.579 1.041v10.879c0 .463-.232.81-.579 1.042l-9.374 5.439c-.347.232-.81.232-1.157 0l-9.375-5.439c-.347-.232-.578-.579-.578-1.042v-10.879c0-.462.231-.81.578-1.041l9.375-5.44Z",clipRule:"evenodd"}),(0,et.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M191.999 171.448a5.967 5.967 0 0 0-5.902 0l-48.723 28.123c-1.852 1.042-2.894 3.009-2.894 5.093v56.361c0 2.083 1.158 4.051 2.894 5.093l48.723 28.122a5.962 5.962 0 0 0 5.902 0l48.724-28.122c1.852-1.042 2.893-3.01 2.893-5.093v-56.361c0-2.084-1.157-4.051-2.893-5.093l-48.724-28.123Z",clipRule:"evenodd"}),(0,et.jsx)("path",{fill:"url(#a)",fillRule:"evenodd",d:"M191.999 171.448a5.967 5.967 0 0 0-5.902 0l-48.723 28.123c-1.852 1.042-2.894 3.009-2.894 5.093v56.361c0 2.083 1.158 4.051 2.894 5.093l48.723 28.122a5.962 5.962 0 0 0 5.902 0l48.724-28.122c1.852-1.042 2.893-3.01 2.893-5.093v-56.361c0-2.084-1.157-4.051-2.893-5.093l-48.724-28.123Z",clipRule:"evenodd"}),(0,et.jsx)("mask",{id:"b",width:"110",height:"126",x:"134",y:"170",maskUnits:"userSpaceOnUse",children:(0,et.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M191.999 171.448a5.967 5.967 0 0 0-5.902 0l-48.723 28.123c-1.852 1.042-2.894 3.009-2.894 5.093v56.361c0 2.083 1.158 4.051 2.894 5.093l48.723 28.122a5.962 5.962 0 0 0 5.902 0l48.724-28.122c1.852-1.042 2.893-3.01 2.893-5.093v-56.361c0-2.084-1.157-4.051-2.893-5.093l-48.724-28.123Z",clipRule:"evenodd"})}),(0,et.jsx)("g",{mask:"url(#b)",children:(0,et.jsx)("path",{fill:"url(#c)",fillRule:"evenodd",d:"m240.839 199.571-48.955-28.123a8.01 8.01 0 0 0-1.504-.578l-54.858 93.974a6.08 6.08 0 0 0 1.621 1.389l48.955 28.123c1.388.81 3.009 1.042 4.513.579l51.501-94.206c-.347-.463-.81-.81-1.273-1.158Z",clipRule:"evenodd"})}),(0,et.jsx)("mask",{id:"d",width:"110",height:"126",x:"134",y:"170",maskUnits:"userSpaceOnUse",children:(0,et.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M191.999 171.448a5.967 5.967 0 0 0-5.902 0l-48.723 28.123c-1.852 1.042-2.894 3.009-2.894 5.093v56.361c0 2.083 1.158 4.051 2.894 5.093l48.723 28.122a5.962 5.962 0 0 0 5.902 0l48.724-28.122c1.852-1.042 2.893-3.01 2.893-5.093v-56.361c0-2.084-1.157-4.051-2.893-5.093l-48.724-28.123Z",clipRule:"evenodd"})}),(0,et.jsxs)("g",{mask:"url(#d)",children:[(0,et.jsx)("path",{fill:"url(#e)",fillRule:"evenodd",d:"M240.955 266.118c1.388-.811 2.43-2.199 2.893-3.704l-53.7-91.66c-1.389-.231-2.893-.116-4.166.694l-48.608 28.008 52.427 95.595a8.097 8.097 0 0 0 2.199-.695l48.955-28.238Z",clipRule:"evenodd"}),(0,et.jsx)("path",{fill:"url(#f)",fillRule:"evenodd",d:"m240.954 266.118-48.839 28.122a6.967 6.967 0 0 1-2.199.695l.926 1.736 54.163-31.364v-.694l-1.389-2.315c-.232 1.621-1.273 3.009-2.662 3.82Z",clipRule:"evenodd"}),(0,et.jsx)("path",{fill:"url(#g)",fillRule:"evenodd",d:"m240.954 266.118-48.839 28.122a6.967 6.967 0 0 1-2.199.695l.926 1.736 54.163-31.364v-.694l-1.389-2.315c-.232 1.621-1.273 3.009-2.662 3.82Z",clipRule:"evenodd"})]}),(0,et.jsxs)("defs",{children:[(0,et.jsxs)("linearGradient",{id:"a",x1:"178.525",x2:"126.661",y1:"176.605",y2:"239.37",gradientUnits:"userSpaceOnUse",children:[(0,et.jsx)("stop",{stopColor:"#41873F"}),(0,et.jsx)("stop",{offset:".329",stopColor:"#418B3D"}),(0,et.jsx)("stop",{offset:".635",stopColor:"#419637"}),(0,et.jsx)("stop",{offset:".932",stopColor:"#3FA92D"}),(0,et.jsx)("stop",{offset:"1",stopColor:"#3FAE2A"})]}),(0,et.jsxs)("linearGradient",{id:"c",x1:"210.445",x2:"340.179",y1:"309.82",y2:"257.991",gradientUnits:"userSpaceOnUse",children:[(0,et.jsx)("stop",{offset:".138",stopColor:"#41873F"}),(0,et.jsx)("stop",{offset:".403",stopColor:"#54A044"}),(0,et.jsx)("stop",{offset:".714",stopColor:"#66B848"}),(0,et.jsx)("stop",{offset:".908",stopColor:"#6CC04A"})]}),(0,et.jsxs)("linearGradient",{id:"e",x1:"132.701",x2:"245.444",y1:"298.71",y2:"298.71",gradientUnits:"userSpaceOnUse",children:[(0,et.jsx)("stop",{offset:".092",stopColor:"#6CC04A"}),(0,et.jsx)("stop",{offset:".286",stopColor:"#66B848"}),(0,et.jsx)("stop",{offset:".597",stopColor:"#54A044"}),(0,et.jsx)("stop",{offset:".862",stopColor:"#41873F"})]}),(0,et.jsxs)("linearGradient",{id:"f",x1:"132.701",x2:"245.444",y1:"314.752",y2:"314.752",gradientUnits:"userSpaceOnUse",children:[(0,et.jsx)("stop",{offset:".092",stopColor:"#6CC04A"}),(0,et.jsx)("stop",{offset:".286",stopColor:"#66B848"}),(0,et.jsx)("stop",{offset:".597",stopColor:"#54A044"}),(0,et.jsx)("stop",{offset:".862",stopColor:"#41873F"})]}),(0,et.jsxs)("linearGradient",{id:"g",x1:"121.081",x2:"110.451",y1:"181.303",y2:"324.372",gradientUnits:"userSpaceOnUse",children:[(0,et.jsx)("stop",{stopColor:"#41873F"}),(0,et.jsx)("stop",{offset:".329",stopColor:"#418B3D"}),(0,et.jsx)("stop",{offset:".635",stopColor:"#419637"}),(0,et.jsx)("stop",{offset:".932",stopColor:"#3FA92D"}),(0,et.jsx)("stop",{offset:"1",stopColor:"#3FAE2A"})]})]})]})})},LR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:(0,et.jsx)("path",{fill:"#00D8FF",d:"M420.967 175.647a343.472 343.472 0 0 0-16.482-5.194 312.242 312.242 0 0 0 2.546-11.241c12.477-60.562 4.319-109.351-23.536-125.415-26.71-15.403-70.392.657-114.509 39.05a342.309 342.309 0 0 0-12.749 11.698 310.405 310.405 0 0 0-8.484-7.835c-46.236-41.053-92.58-58.353-120.408-42.243-26.684 15.447-34.587 61.314-23.356 118.709a341.916 341.916 0 0 0 3.786 16.961c-6.559 1.862-12.891 3.847-18.95 5.959C34.619 194.994 0 224.613 0 255.336c0 31.731 37.163 63.557 93.623 82.855a290.703 290.703 0 0 0 13.844 4.33 334.318 334.318 0 0 0-4.021 18.276c-10.709 56.399-2.346 101.182 24.267 116.532 27.49 15.852 73.624-.442 118.547-39.711a290.405 290.405 0 0 0 10.684-9.846 335.734 335.734 0 0 0 13.842 12.628c43.513 37.445 86.49 52.565 113.079 37.172 27.461-15.897 36.386-64.005 24.799-122.536a289.587 289.587 0 0 0-3.071-13.685 306.41 306.41 0 0 0 9.522-2.974C473.811 318.929 512 287.49 512 255.336c0-30.834-35.735-60.652-91.033-79.689Zm-12.731 141.968a287.16 287.16 0 0 1-8.599 2.691c-6.48-20.513-15.226-42.327-25.928-64.863 10.213-22 18.62-43.535 24.919-63.915a319.108 319.108 0 0 1 15.219 4.801c47.38 16.31 76.281 40.425 76.281 59.007 0 19.793-31.212 45.487-81.892 62.279Zm-21.028 41.669c5.123 25.882 5.855 49.281 2.461 67.574-3.049 16.437-9.182 27.396-16.764 31.785-16.136 9.34-50.641-2.8-87.855-34.823a313.402 313.402 0 0 1-12.873-11.739c14.426-15.779 28.845-34.122 42.917-54.493 24.751-2.196 48.136-5.787 69.342-10.689a268.012 268.012 0 0 1 2.772 12.385Zm-212.656 97.745c-15.764 5.568-28.32 5.727-35.91 1.351-16.15-9.315-22.864-45.271-13.706-93.504a313.896 313.896 0 0 1 3.737-16.998c20.974 4.638 44.187 7.976 68.998 9.987 14.167 19.934 29.002 38.257 43.951 54.3a267.101 267.101 0 0 1-9.755 8.984c-19.864 17.364-39.771 29.684-57.315 35.88Zm-73.855-139.535c-24.965-8.533-45.583-19.623-59.715-31.725-12.7-10.875-19.11-21.672-19.11-30.433 0-18.644 27.795-42.424 74.153-58.586a315.1 315.1 0 0 1 17.623-5.546c6.407 20.841 14.812 42.63 24.954 64.664-10.273 22.361-18.797 44.498-25.267 65.583a269.413 269.413 0 0 1-12.638-3.957Zm24.757-168.518c-9.622-49.175-3.232-86.27 12.849-95.58 17.129-9.916 55.006 4.223 94.927 39.67a290.267 290.267 0 0 1 7.683 7.09c-14.876 15.974-29.576 34.159-43.617 53.975-24.08 2.232-47.13 5.817-68.322 10.618a319.816 319.816 0 0 1-3.52-15.773Zm220.854 54.534a694.957 694.957 0 0 0-15.57-25.605c16.336 2.065 31.988 4.806 46.686 8.161-4.413 14.142-9.913 28.929-16.387 44.087a762.075 762.075 0 0 0-14.729-26.643Zm-90.064-87.722c10.089 10.93 20.192 23.133 30.13 36.373a644.08 644.08 0 0 0-60.514-.014c9.947-13.117 20.138-25.304 30.384-36.359Zm-90.64 87.873a646.226 646.226 0 0 0-14.453 26.476c-6.37-15.106-11.819-29.96-16.27-44.303 14.608-3.269 30.186-5.942 46.418-7.968a642.53 642.53 0 0 0-15.695 25.794v.001Zm16.163 130.705c-16.771-1.871-32.583-4.407-47.187-7.585 4.522-14.599 10.091-29.771 16.595-45.202a642.623 642.623 0 0 0 14.515 26.492h.001a646.427 646.427 0 0 0 16.076 26.295Zm75.082 62.06c-10.366-11.185-20.706-23.557-30.805-36.866 9.803.385 19.798.582 29.956.582 10.436 0 20.752-.236 30.907-.688-9.971 13.549-20.037 25.94-30.058 36.972Zm104.397-115.633c6.843 15.598 12.612 30.69 17.192 45.04-14.845 3.386-30.873 6.114-47.76 8.141a763.752 763.752 0 0 0 15.717-26.053 694.844 694.844 0 0 0 14.851-27.128Zm-33.797 16.201c-8.003 13.877-16.22 27.125-24.562 39.629-15.193 1.087-30.889 1.646-46.887 1.646-15.933 0-31.432-.495-46.356-1.464a620.347 620.347 0 0 1-25.026-39.692h.002a615.052 615.052 0 0 1-21.846-41.252 620.581 620.581 0 0 1 21.78-41.275l-.002.002a614.497 614.497 0 0 1 24.826-39.522 619.783 619.783 0 0 1 46.621-1.752H256c15.851 0 31.485.605 46.708 1.766a659.26 659.26 0 0 1 24.669 39.39c8.028 13.867 15.403 27.606 22.072 41.08-6.649 13.706-14.007 27.583-22 41.444Zm45.12-244.248c17.146 9.887 23.813 49.762 13.041 102.051a288.929 288.929 0 0 1-2.301 10.179c-21.242-4.901-44.308-8.548-68.458-10.814-14.069-20.034-28.648-38.248-43.281-54.016a321.861 321.861 0 0 1 11.775-10.8c37.799-32.895 73.128-45.882 89.224-36.6ZM256 209.616c25.25 0 45.72 20.469 45.72 45.72 0 25.25-20.47 45.72-45.72 45.72s-45.72-20.47-45.72-45.72c0-25.251 20.47-45.72 45.72-45.72Z"})})})},AR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:[(0,et.jsx)("path",{fill:"url(#a)",d:"M256 102c-68.267 0-110.933 34.133-128 102.4 25.6-34.133 55.467-46.933 89.6-38.4 19.475 4.869 33.395 18.997 48.802 34.637C291.501 226.114 320.551 255.6 384 255.6c68.267 0 110.933-34.133 128-102.4-25.6 34.133-55.467 46.933-89.6 38.4-19.475-4.869-33.395-18.997-48.802-34.637C348.499 131.486 319.449 102 256 102ZM128 255.6C59.733 255.6 17.067 289.733 0 358c25.6-34.133 55.467-46.933 89.6-38.4 19.475 4.869 33.395 18.997 48.802 34.637C163.502 379.714 192.551 409.2 256 409.2c68.267 0 110.933-34.133 128-102.4-25.6 34.133-55.467 46.933-89.6 38.4-19.475-4.869-33.395-18.997-48.802-34.637C220.498 285.086 191.449 255.6 128 255.6Z"}),(0,et.jsx)("defs",{children:(0,et.jsxs)("linearGradient",{id:"a",x1:"-14.222",x2:"427.974",y1:"200.304",y2:"455.264",gradientUnits:"userSpaceOnUse",children:[(0,et.jsx)("stop",{stopColor:"#2298BD"}),(0,et.jsx)("stop",{offset:"1",stopColor:"#0ED7B5"})]})})]})})},RR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 828 448",children:[(0,et.jsx)("path",{stroke:"#414141",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M643.099 160.041c-8.5 7-22.432 18.788-28 20.5-5.568 1.712-21.598-1.778-34 3-12.925 4.98-27 23-27 23s11.634-.891 19 0c5.551.672 12 1.5 14 3 2.332 1.75-13.5 33.5-6 59s34.333 54 46 57.5c11.667 3.5 28.722 4.87 47.5 3.5 15.737-1.147 40-7.5 40-7.5 19.5-7 32.5-26.5 38-57.5 0 0 9.252-4.222 15.5-4 5.495.196 13.5 4 13.5 4s-.165-15.459-5-23.5c-5.155-8.571-20-16-20-16"}),(0,et.jsx)("path",{stroke:"#414141",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M713.599 322.541c10.381 5.023 15.968 15.5 27.5 15.5 44 0 84-64.155 84-122 0-24-26.618-92.932-72-128-66-51-199.773-100.748-332-82-134 19-277 112-242 250 7.355 29-10.5 70.5-30 94-14.504 17.48-38 24.5-96.5 41-28.88 8.146-56.5 44-49.5 53s80-18 125-27c30.578-6.115 48.262-15.014 73-34 15.259-11.711 25.743-29.184 31-46 12.5-26 14.05-35.165 32-39 72.368-15.46 103.894 18.022 129.5 27.5 13.315 4.929 29.408-.131 39.5-14.5 5.268-7.5-4.5-26-20.5-30-6-1.5-21.5-3-21.5-3 0-15.083 72-15.5 141 6 23.5 7.323 44 9 59.5 9"}),(0,et.jsx)("path",{fill:"#414141",stroke:"#414141",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M679.099 305.041c-3.771-.066-9 3.5-9 3.5s5.16 3.776 9 4c3.884.227 9.5-3 9.5-3s-5.396-4.428-9.5-4.5Z"}),(0,et.jsx)("path",{fill:"#414141","fill-opacity":".5",stroke:"#414141",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M682.599 301.541c-6.244-1.639-16.1 1-16.5 2.5-.607 2.28 6.351 8.63 13.5 8.5 5.239-.094 13.5-5.5 13.5-5.5s-6.023-4.324-10.5-5.5Z"}),(0,et.jsx)("path",{fill:"#414141",stroke:"#414141",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M624.099 290.041c-2.258-.628-8.5 1-8.5 1s3.654 4.052 6.5 5c4.5 1.5 9.5 0 9.5 0s-5.047-5.317-7.5-6Z"}),(0,et.jsx)("path",{fill:"#414141","fill-opacity":".5",stroke:"#414141",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M617.599 286.541h-6s4.207 9.587 11.5 10.5c4.718.591 11.156-.5 11.5-2.5.172-1-1.2-5.287-5.5-7-4.188-1.668-8.951-1-11.5-1Z"}),(0,et.jsx)("path",{fill:"#414141",stroke:"#414141",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M640.099 326.541c0-1-8.751-3.081-10.378-2.369-1.626.711-.006 2.861 4.326 3.586 4.332.726 6.052.313 6.052-1.217Z"})]})})},PR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:[(0,et.jsx)("path",{fill:"#00546B",d:"M400.327 398.836c17.671-7.474 38.739-10.194 65.924-9.516-.765-5.087-10.479-11.128-17.596-15.554-2.389-1.486-4.485-2.789-5.852-3.814-10.874-7.815-22.428-15.973-33.98-23.106-3.722-2.274-9.08-4.171-14.237-5.997-3.317-1.175-6.55-2.32-9.211-3.517-2.718-1.108-6.421-2.216-10.418-3.412-9.495-2.841-20.654-6.18-24.242-11.199-9.24-12.013-15.688-26.538-22.127-41.043-.665-1.499-1.331-2.997-1.999-4.492-3.37-7.705-7.12-15.561-10.891-23.462-4.211-8.825-8.449-17.704-12.215-26.49-1.641-3.578-2.889-6.961-4.117-10.292-1.57-4.258-3.109-8.43-5.397-12.814-24.808-47.912-61.504-88.011-106.02-116.214-14.613-9.175-30.921-17.672-48.933-23.448-5.5-1.649-11.593-1.914-17.746-2.182-5.252-.23-10.547-.46-15.554-1.554h-7.137c-4.12-1.145-7.778-4.449-11.18-7.522-1.649-1.489-3.237-2.924-4.79-4.033-10.535-7.135-21.068-11.895-33.641-16.99-4.417-2.038-16.99-6.796-21.407-3.057-2.72.68-4.078 1.7-4.758 4.417-2.718 4.078-.337 10.194 1.36 13.931 3.368 7.186 7.627 12.443 11.991 17.83 2.24 2.765 4.508 5.565 6.698 8.677a611.77 611.77 0 0 0 3.245 4.52c5.015 6.944 10.405 14.406 13.745 21.643 4.713 10.153 8.072 20.885 11.42 31.578 2.926 9.351 5.844 18.672 9.649 27.549 3.057 7.137 7.815 15.291 12.232 21.748 1.385 1.89 3.191 3.593 5.02 5.316 3.103 2.926 6.27 5.912 7.553 9.976 3.305 5.507-2.762 21.277-6.449 30.859-.862 2.243-1.595 4.147-2.046 5.5-8.836 27.863-7.137 66.601 3.057 90.727.364.85.726 1.713 1.09 2.583 3.713 8.868 7.698 18.387 17.599 20.864.308-.308.338-.407.404-.454.08-.057.213-.039.956-.226.497-3.906.921-7.782 1.338-11.604 1.579-14.464 3.072-28.148 8.176-39.706 2.432-5.968 6.445-10.786 10.355-15.481 2.102-2.524 4.174-5.012 5.956-7.625 2.156 1.293 2.944 4.228 3.753 7.243.466 1.736.939 3.498 1.685 4.989l.968 2.31c4.143 9.896 8.602 20.542 13.643 30.311 11.213 21.748 23.788 42.814 38.058 61.844 4.756 6.796 11.555 14.273 17.671 20.389.93.814 1.9 1.508 2.855 2.192 1.836 1.315 3.618 2.592 4.96 4.604h.68v1.021c-6.451-2.366-11.405-7.454-16.241-12.421-2.805-2.882-5.571-5.723-8.567-7.967-15.291-11.555-33.639-28.886-44.174-45.535-3.318-7.147-6.828-14.103-10.386-21.155-1.178-2.335-2.362-4.681-3.545-7.049v-.68c-1.299 1.732-1.494 3.463-1.729 5.547-.133 1.186-.28 2.487-.65 3.968-1.26 4.844-1.884 9.882-2.487 14.752-1.512 12.206-2.893 23.351-13.824 27.723-17.329 7.137-30.243-11.556-35.68-20.049-17.328-28.203-22.087-75.776-9.855-114.174.947-2.955 1.605-6.116 2.262-9.268 1.23-5.909 2.454-11.785 5.556-16.217-.682-4.084-3.029-6.199-5.322-8.267-1.142-1.029-2.27-2.046-3.173-3.287-4.758-6.455-8.834-13.932-12.573-21.067-5.434-10.606-9.683-22.789-13.802-34.596-1.292-3.703-2.57-7.369-3.869-10.938-1.16-2.982-1.915-5.965-2.66-8.908-.784-3.094-1.557-6.143-2.776-9.102-3.212-6.96-8.531-13.918-13.47-20.379a407.424 407.424 0 0 1-3.861-5.106c-1.324-1.9-3.077-4.102-5.03-6.556C14.986 63.886.57 45.775 8.191 27.429c14.272-35 64.226-8.497 83.59 3.737 1.937 1.245 3.986 3.053 6.102 4.919 3.083 2.72 6.307 5.563 9.531 6.974 4.249.17 8.498.426 12.746.68 4.247.255 8.494.51 12.74.68 1.391.326 2.774.646 4.149.965 14.408 3.336 27.867 6.453 39.345 12.966 58.447 34.322 96.506 69.322 131.505 127.089 4.752 7.774 7.994 15.96 11.295 24.298 1.894 4.78 3.806 9.61 6.034 14.44 8.495 19.708 18.014 40.434 27.865 59.125 1.238 2.478 2.397 5.035 3.558 7.598 2.978 6.577 5.972 13.188 10.375 18.567 1.582 2.262 5.123 3.469 8.516 4.625 1.705.581 3.372 1.15 4.735 1.833 4.395 2.263 9.156 4.318 13.954 6.39 7.445 3.214 14.981 6.468 21.387 10.6 19.708 12.232 38.738 26.841 56.068 41.796 3.503 3.134 6.406 6.968 9.306 10.796 2.445 3.229 4.887 6.454 7.684 9.253v3.057c-5.436 1.699-10.874 3.398-16.31 4.758-5.915 1.52-11.494 2.116-17.029 2.708-5.594.597-11.144 1.19-16.952 2.728-.732.209-1.482.426-2.247.646-6.688 1.93-14.491 4.182-21.2 4.792l.68.678c3.275 9.323 17.202 17.338 28.615 23.907 3.979 2.29 7.652 4.404 10.462 6.337 13.254 9.514 25.486 21.068 35.341 34.319 1.694 1.694 3.389 3.304 5.083 4.913 1.704 1.619 3.408 3.238 5.111 4.942 1.151 1.645 1.904 3.529 2.645 5.383.789 1.974 1.564 3.913 2.791 5.491v1.019c-2.973-1.061-5.016-3.185-7.043-5.291-1.217-1.265-2.428-2.524-3.831-3.543-3.201-2.182-6.4-4.551-9.6-6.921-4.275-3.166-8.55-6.331-12.826-9.05-6.575-4.153-13.679-7.425-20.819-10.713-6.881-3.168-13.795-6.352-20.299-10.355-7.474-4.758-14.611-10.194-21.746-15.63-6.458-4.759-13.59-13.936-17.671-20.73-1.028-1.615-1.675-3.357-2.298-5.035-.819-2.203-1.595-4.295-3.14-5.839.509-4.827 5.198-6.046 9.663-7.206 1.505-.391 2.985-.775 4.27-1.289Z"}),(0,et.jsx)("path",{fill:"#00546B",d:"M105.714 95.729c4.078-1.019 8.154-1.701 13.932-1.701 1.076 1.078 2.42 1.995 3.778 2.92 2.068 1.412 4.166 2.844 5.397 4.897.755 1.057 1.241 2.114 1.727 3.171.609 1.322 1.217 2.644 2.351 3.966 0 8.154-2.377 13.59-7.137 16.991 0 0-.339.338-.678.68-1.358-2.716-2.631-5.431-3.903-8.145-1.276-2.723-2.552-5.446-3.915-8.168-1.323-1.852-2.852-3.55-4.386-5.253-2.406-2.672-4.825-5.359-6.486-8.678h-.68v-.68Z"})]})})},OR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:(0,et.jsx)("path",{fill:"#764ABC",d:"M348.589 344.897c17.713-1.803 31.152-16.815 30.54-34.832-.609-18.015-15.881-32.428-34.205-32.428h-1.221c-18.937.6-33.596 16.214-32.985 34.83.611 9.008 4.275 16.815 9.773 22.22-20.768 40.237-52.53 69.662-100.174 94.284-32.374 16.815-65.968 22.821-99.563 18.618-27.487-3.604-48.866-15.613-62.306-35.433-19.545-29.426-21.377-61.255-4.884-93.082 11.606-22.821 29.929-39.636 41.535-48.044-2.443-7.807-6.109-21.018-7.94-30.626-88.57 63.056-79.407 148.332-52.53 188.567C54.783 459 95.71 477.616 140.91 477.616c12.215 0 24.431-1.202 36.648-4.203 78.186-15.014 137.436-60.656 171.03-128.516Zm107.505-74.466c-46.423-53.448-114.834-82.874-193.02-82.874h-9.772c-5.498-10.81-17.104-18.017-29.931-18.017h-1.222c-18.934.601-33.593 16.214-32.983 34.832.611 18.015 15.881 32.429 34.205 32.429h1.221c13.438-.601 25.044-9.009 29.93-20.419h10.995c46.424 0 90.402 13.211 130.107 39.035 30.54 19.818 52.53 45.641 64.745 76.868 10.384 25.223 9.773 49.844-1.222 70.864-17.102 31.828-45.81 49.244-83.681 49.244-24.434 0-47.644-7.208-59.862-12.612-6.718 6.005-18.935 15.613-27.487 21.62 26.267 12.01 53.143 18.617 78.797 18.617 58.638 0 102.007-31.83 118.5-63.657 17.713-34.832 16.49-94.886-29.32-145.93Zm-310.297 84.673c.611 18.017 15.881 32.428 34.205 32.428h1.223c18.936-.599 33.594-16.214 32.983-34.83-.609-18.017-15.881-32.428-34.206-32.428h-1.22c-1.223 0-3.056 0-4.275.599-25.045-40.836-35.428-85.274-31.763-133.318 2.442-36.032 14.659-67.261 36.038-93.084 17.713-22.22 51.919-33.03 75.131-33.629 64.746-1.202 92.231 78.069 94.065 109.898 7.941 1.801 21.379 6.006 30.542 9.008-7.331-97.285-68.413-147.73-127.05-147.73-54.975 0-105.673 39.035-125.831 96.686-28.097 76.868-9.773 150.734 24.433 208.986-3.053 4.203-4.886 10.809-4.275 17.416v-.002Z"})})})},_R=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:(0,et.jsx)("path",{fill:"#161614",fillRule:"evenodd",d:"M256.002 12C117.948 12 6 123.927 6 262.002 6 372.46 77.633 466.171 176.967 499.228c12.494 2.315 17.081-5.423 17.081-12.026 0-5.962-.232-25.655-.339-46.545-69.551 15.123-84.227-29.497-84.227-29.497-11.373-28.897-27.759-36.581-27.759-36.581-22.682-15.516 1.71-15.197 1.71-15.197 25.105 1.763 38.324 25.762 38.324 25.762 22.297 38.22 58.484 27.171 72.751 20.783 2.243-16.158 8.722-27.187 15.872-33.43-55.529-6.322-113.902-27.758-113.902-123.552 0-27.295 9.766-49.597 25.759-67.104-2.596-6.297-11.153-31.725 2.422-66.161 0 0 20.993-6.719 68.768 25.627 19.942-5.54 41.329-8.318 62.575-8.413 21.246.095 42.65 2.873 62.629 8.413 47.717-32.346 68.681-25.627 68.681-25.627 13.608 34.436 5.047 59.864 2.451 66.161 16.03 17.507 25.73 39.809 25.73 67.104 0 96.021-58.485 117.164-114.155 123.353 8.968 7.758 16.958 22.973 16.958 46.297 0 33.451-.29 60.372-.29 68.607 0 6.653 4.5 14.448 17.172 11.993C434.458 466.101 506 372.422 506 262.002 506 123.927 394.069 12 256.002 12ZM99.634 368.133c-.55 1.242-2.505 1.615-4.285.762-1.813-.816-2.832-2.509-2.244-3.755.538-1.279 2.497-1.635 4.306-.778 1.817.815 2.852 2.525 2.223 3.771Zm12.297 10.973c-1.192 1.105-3.523.592-5.104-1.155-1.636-1.743-1.942-4.074-.733-5.196 1.229-1.105 3.49-.588 5.129 1.155 1.636 1.764 1.954 4.078.708 5.196Zm8.437 14.039c-1.532 1.064-4.037.066-5.585-2.157-1.532-2.223-1.532-4.889.033-5.957 1.552-1.068 4.02-.108 5.589 2.099 1.528 2.26 1.528 4.926-.037 6.015Zm14.267 16.26c-1.37 1.511-4.288 1.105-6.425-.957-2.186-2.016-2.794-4.877-1.42-6.388 1.387-1.515 4.322-1.088 6.475.957 2.169 2.012 2.832 4.893 1.37 6.388Zm18.44 5.489c-.604 1.958-3.415 2.848-6.247 2.016-2.827-.857-4.678-3.151-4.107-5.13.588-1.97 3.412-2.898 6.264-2.007 2.823.852 4.678 3.129 4.09 5.121Zm20.985 2.328c.071 2.062-2.33 3.771-5.303 3.809-2.989.066-5.407-1.602-5.44-3.631 0-2.082 2.348-3.776 5.337-3.825 2.972-.058 5.406 1.598 5.406 3.647Zm20.616-.79c.356 2.012-1.71 4.078-4.662 4.628-2.902.53-5.588-.712-5.957-2.707-.36-2.062 1.743-4.128 4.641-4.662 2.956-.513 5.601.696 5.978 2.741Z",clipRule:"evenodd"})})})},IR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:(0,et.jsx)("path",{fill:"#2396ED",d:"m399.109 143.997 11.049 8c19.215 15.499 30.264 32.998 32.666 52.998 20.657-4 47.078-1 58.607 6.999l10.569 6.5-1.922 4c-3.362 7.5-4.323 9.5-4.803 10.499-18.736 37.499-55.725 37.999-73.019 37.499-43.715 109.496-136.91 169.993-262.772 169.993-58.127 0-102.322-18.499-132.106-54.998-39.392-47.998-39.392-110.495-36.03-130.494l.962-4h347.319c18.255 0 32.186-5 38.912-9-7.206-10.999-9.608-23.499-10.089-30.499-1.441-19.999 3.363-40.998 12.971-55.997l7.686-11.5ZM92.622 190.995v49.998H39.78v-49.998h52.842Zm62.451 0v49.998H102.23v-49.998h52.843Zm62.45 0v49.998H164.68v-49.998h52.843Zm62.45 0v49.998h-52.842v-49.998h52.842Zm62.45 0v49.998h-52.842v-49.998h52.842Zm-62.45-59.997v49.998h-52.842v-49.998h52.842Zm-62.45 0v49.998H164.68v-49.998h52.843Zm-62.45 0v49.998H102.23v-49.998h52.843ZM279.973 71v49.998h-52.842V71h52.842Z"})})})},DR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 512 512",children:[(0,et.jsxs)("g",{"clip-path":"url(#a)",children:[(0,et.jsx)("path",{fill:"#0ACF83",d:"M171.333 512c47.104 0 85.334-38.229 85.334-85.333v-85.334h-85.334c-47.104 0-85.333 38.23-85.333 85.334C86 473.771 124.229 512 171.333 512Z"}),(0,et.jsx)("path",{fill:"#A259FF",d:"M86 256c0-47.104 38.229-85.333 85.333-85.333h85.334v170.666h-85.334C124.229 341.333 86 303.104 86 256Z"}),(0,et.jsx)("path",{fill:"#F24E1E",d:"M86 85.333C86 38.23 124.229 0 171.333 0h85.334v170.667h-85.334c-47.104 0-85.333-38.23-85.333-85.334Z"}),(0,et.jsx)("path",{fill:"#FF7262",d:"M256.667 0H342c47.104 0 85.333 38.23 85.333 85.333 0 47.104-38.229 85.334-85.333 85.334h-85.333V0Z"}),(0,et.jsx)("path",{fill:"#1ABCFE",d:"M427.333 256c0 47.104-38.229 85.333-85.333 85.333S256.667 303.104 256.667 256s38.229-85.333 85.333-85.333 85.333 38.229 85.333 85.333Z"})]}),(0,et.jsx)("defs",{children:(0,et.jsx)("clipPath",{id:"a",children:(0,et.jsx)("path",{fill:"#fff",d:"M0 0h512v512H0z"})})})]})})},NR=[];NR.push(RR),NR.push(CR),NR.push(LR),NR.push(PR),NR.push(OR),NR.push(_R),NR.push(IR),NR.push(DR),NR.push(AR),NR.push(RR);var MR=NR,FR=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,et.jsx)("rect",{x:"5",y:"5",width:"14",height:"14",rx:"3",stroke:"white",strokeWidth:"2"}),(0,et.jsx)("path",{d:"M6 10H18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})})},jR=function(e){var t=we();return(0,et.jsxs)("div",{className:"rounded-lg bg-primary shadow-lg flex flex-col hover:scale-95 hover:duration-300 cursor-pointer max-w-[200px]",onClick:function(){return t("/course-detail/".concat(e.slug))},children:[(0,et.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-[140px] rounded-t-lg bg-black object-cover"}),(0,et.jsxs)("div",{className:"p-4 flex-1 flex flex-col justify-between",children:[(0,et.jsx)("h2",{className:"font-bold text-title text-lg text-ellipsis overflow-hidden whitespace-wrap",children:e.title}),(0,et.jsxs)("div",{className:"items-end",children:[(0,et.jsx)("div",{className:"font-medium mt-1",children:e.author}),(0,et.jsx)("div",{className:"font-medium mt-1",children:e.rating}),(0,et.jsx)("div",{className:"categori flex flex-wrap gap-1",children:e.categories&&e.categories.map((function(e){return(0,et.jsx)("div",{className:"mt-1 badge badge-outline",children:e.title},e.id)}))})]})]})]})},UR=function(e){return(0,et.jsxs)("div",{className:"rounded-lg shadow-lg flex flex-col justify-between hover:scale-95 cursor-pointer max-w-[300px] p-2",children:[(0,et.jsx)("div",{className:"h-fit",children:(0,et.jsx)("div",{className:"flex justify-center items-center object-cover",children:(0,et.jsx)(e.thumbnail,{})})}),(0,et.jsx)("h2",{className:"font-bold text-4xl text-ellipsis overflow-hidden whitespace-wrap text-center py-4",children:e.title})]})},BR=function(){var e,t,n=MR,i=null!==(e=Gt((function(e){return e.courseSlice.categories})))&&void 0!==e?e:[],a=null!==(t=Gt((function(e){return e.courseSlice.courses})))&&void 0!==t?t:[],o=Gt((function(e){return e.courseSlice.isLoading})),s=zt();return(0,r.useEffect)((function(){s(ol()),s(hl())}),[s]),(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(qu,{}),o&&(0,et.jsx)(Dk,{}),(0,et.jsx)("div",{className:"h-[200px] tablet:h-[400px] flex items-center bg-hero-pattern bg-cover",children:(0,et.jsxs)("div",{className:"px-24",children:[(0,et.jsx)("h1",{className:"text-title text-2xl tablet:text-[40px] font-bold min-w-fit",children:"LEARN NEW SKILLS"}),(0,et.jsx)("p",{className:"text-xl font-medium",children:"Learn as hard as you can"})]})}),(0,et.jsxs)("div",{className:"container mx-auto",children:[(0,et.jsxs)("div",{className:"my-4 px-4",children:[(0,et.jsx)("h2",{className:"text-xl tablet:text-3xl font-bold mb-3",children:"Popular courses"}),(0,et.jsx)("span",{className:"w-[60px] h-1 bg-black block"}),(0,et.jsx)("div",{className:"w-full flex overflow-x-scroll",children:(0,et.jsx)("div",{className:"mt-3 flex shrink-0 gap-3 py-2",children:a.map((function(e){return(0,et.jsx)(jR,{thumbnail:e.thumbnail,title:e.title,author:e.author,rating:e.rate,categories:e.categories,slug:e.slug})}))})})]}),(0,et.jsxs)("div",{className:"my-4 px-4",children:[(0,et.jsx)("h2",{className:"text-xl tablet:text-3xl font-bold mb-3",children:"Most category"}),(0,et.jsx)("span",{className:"w-[60px] h-1 bg-black block"}),(0,et.jsx)("div",{className:"mt-3 grid grid-cols-2 tablet:grid-cols-3 laptop:grid-cols-4 gap-3",children:i.map((function(e){return(0,et.jsx)(UR,{id:e.id,title:e.title,thumbnail:n[e.id]},e.id)}))})]})]}),(0,et.jsxs)("div",{className:"w-full h-[120px] bg-backgroundHover flex flex-col justify-center items-center mt-4",children:[(0,et.jsx)("p",{className:"text-xl mb-2 font-bold",children:"Trusted by more than 13400 amazing teams"}),(0,et.jsx)("p",{className:"text-lg",children:"Top companies use these same courses to help employees hone their skills."})]})]})},VR=(n.p,n.p+"static/media/Skeleton.8070a544bff99a9f0dde.png"),HR=Mm({email:Em().email().required(us.t("errorMessages.emailIsRequired")),password:Em().required(us.t("errorMessages.passwordIsRequired"))}),zR=Mm({email:Em().email(us.t("errorMessages.invalidEmail")).required(us.t("errorMessages.emailIsRequired"))}),GR=Mm({password:Em().required(us.t("errorMessages.passwordIsRequired")).min(8,us.t("errorMessages.weakPassword")).max(32,us.t("errorMessages.tooLongPassword")),confirmPassword:Em().required(us.t("errorMessages.confirmPasswordIsRequired")).oneOf([Qp("password")],us.t("errorMessages.newPasswordDiiferentOldPassword"))}),qR=Mm({first_name:Em().required(us.t("errorMessages.firstNameIsRequired")).trim(),last_name:Em().required(us.t("errorMessages.lastNameIsRequired")).trim(),email:Em().email(us.t("errorMessages.invalidEmail")).required(us.t("errorMessages.emailIsRequired")).trim(),password:Em().required(us.t("errorMessages.passwordIsRequired")).min(8,us.t("errorMessages.weakPassword")).max(32,us.t("errorMessages.tooLongPassword")).trim(),confirm_password:Em().required(us.t("errorMessages.confirmPasswordIsRequired")).oneOf([Qp("password")],us.t("errorMessages.newPasswordDiiferentOldPassword")).trim()}),KR=function(){var e=zt(),t=Gt((function(e){return e.authSlice.isLogin})),n=Gt((function(e){return e.authSlice.isLoading})),i=(0,r.useRef)(null);if(t)return(0,et.jsx)(Fe,{to:"/"});return(0,et.jsxs)(et.Fragment,{children:[n&&(0,et.jsx)(Dk,{}),(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsxs)("div",{className:"flex items-center justify-center mt-[100px] py-10",children:[(0,et.jsx)("div",{className:"bg-primary m-4 rounded-xl shadow-lg",children:(0,et.jsx)(cp,{initialValues:{email:"",password:""},validationSchema:HR,onSubmit:function(t){e(Fs(t)).then((function(t){200===t.payload.status_code?(zu.success(t.payload.message),e(Ws())):zu.error(t.payload.message)}))},innerRef:i,children:function(e){return(0,et.jsxs)(gp,{className:"p-4",onSubmit:e.handleSubmit,children:[(0,et.jsx)("h1",{className:"font-bold text-[32px] text-center text-title",children:"LOGIN TO FRESHEMY"}),(0,et.jsxs)("form",{className:"",children:[(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"email",className:"text-sm mb-1 tablet:text-xl",children:"Email"}),(0,et.jsx)(mp,{id:"email",name:"email",type:"text",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(e.errors.email&&e.touched.email?"border-error":"")}),(0,et.jsx)(Ep,{name:"email",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"password",className:"text-sm mb-1 tablet:text-xl",children:"Password"}),(0,et.jsx)(mp,{id:"password",name:"password",type:"password",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(e.errors.password&&e.touched.password?"border-error":"")}),(0,et.jsx)(Ep,{name:"password",component:"span",className:"text-[14px] text-error font-medium"})]})]}),(0,et.jsxs)("button",{className:"btn w-full text-white text-lg btn-primary",type:"submit",disabled:n,children:[n&&(0,et.jsx)("span",{className:"loading loading-spinner"}),n?"Loading...":"LOGIN"]}),(0,et.jsxs)("p",{className:"block mt-3 mb-2 text-center text-lg",children:["Don't have an account?"," ",(0,et.jsx)("span",{className:"font-medium hover:opacity-80",children:(0,et.jsx)(Qe,{to:"/register",children:"Signup"})})]}),(0,et.jsx)("span",{className:"block mt-3 mb-2 text-center font-medium text-lg hover:opacity-80",children:(0,et.jsx)(Qe,{to:"/forgot-password",children:"Forgot Password?"})})]})}})}),(0,et.jsx)("div",{className:"hidden tablet:block transition ease-in-out hover:scale-110 duration-200",children:(0,et.jsx)("img",{src:VR,alt:"Freshemy"})})]})})]})},WR=Mm({current_password:Em().trim().required(us.t("errorMessages.currentPasswordIsRequired")),new_password:Em().trim().min(8,us.t("errorMessages.weakPassword")).max(32,us.t("errorMessages.tooLongPassword")).required(us.t("errorMessages.newPasswordRequired")),confirm_password:Em().trim().min(8,us.t("errorMessages.weakPassword")).max(32,us.t("errorMessages.tooLongPassword")).required(us.t("errorMessages.confirmPasswordIsRequired")).oneOf([Qp("new_password")],us.t("errorMessages.newPasswordDiiferentOldPassword"))}),YR=function(){var e=Gt((function(e){return e.userSlice.isLoading})),t=zt(),n=(0,r.useRef)(null);return(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsx)("div",{className:"flex items-center justify-center mt-[100px] py-10",children:(0,et.jsxs)("div",{className:"bg-primary m-4 rounded-xl shadow-lg p-4",children:[(0,et.jsx)("h1",{className:"font-bold text-[32px] text-center text-title",children:"CHANGE PASSWORD"}),(0,et.jsx)(cp,{initialValues:{current_password:"",new_password:"",confirm_password:""},validationSchema:WR,onSubmit:function(e){t(rl(e)).then((function(e){e.payload&&(200!==e.payload.status_code?zu.error(e.payload.message):zu.success(e.payload.message))})).catch((function(e){zu.error(e)}))},innerRef:n,children:function(t){return(0,et.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"current_password",className:"text-sm mb-1 tablet:text-xl",children:"Current Password"}),(0,et.jsx)(mp,{type:"password",name:"current_password",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(t.errors.current_password&&t.touched.current_password&&"border-error"," ")}),(0,et.jsx)(Ep,{name:"current_password",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"new_password",className:"text-sm mb-1 tablet:text-xl",children:"New Password"}),(0,et.jsx)(mp,{type:"password",name:"new_password",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(t.errors.new_password&&t.touched.new_password&&"border-error")}),(0,et.jsx)(Ep,{name:"new_password",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"confirm_password",className:"text-sm mb-1 tablet:text-xl",children:"Confirm Password"}),(0,et.jsx)(mp,{type:"password",name:"confirm_password",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(t.errors.confirm_password&&t.touched.confirm_password&&"border-error")}),(0,et.jsx)(Ep,{name:"confirm_password",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex justify-end mb-3",children:[(0,et.jsxs)("button",{type:"submit",name:"save_button",className:"btn btn-primary text-lg",disabled:e,children:[e&&(0,et.jsx)("span",{className:"loading loading-spinner"}),e?"Loading...":"Save"]}),(0,et.jsx)(Qe,{to:"/",children:(0,et.jsx)("button",{type:"submit",className:"btn text-lg ml-2",disabled:e,children:"Cancel"})})]})]})}})]})})})},$R=function(){var e,t=Gt((function(e){return e.authSlice.isLogin})),n=null!==(e=Gt((function(e){return e.authSlice.message})))&&void 0!==e?e:"",r=zt();if(t)return(0,et.jsx)(Fe,{to:"/"});return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsx)("div",{className:"flex items-center justify-center mt-[100px] py-10",children:(0,et.jsx)("div",{className:"bg-primary m-4 rounded-xl shadow-lg",children:(0,et.jsx)(cp,{initialValues:{email:""},onSubmit:function(e){r(Us(e)).then((function(e){200===e.payload.status_code?zu.success(e.payload.message):zu.error(e.payload.message)}))},validationSchema:zR,children:function(e){return(0,et.jsxs)(gp,{className:"p-4",onSubmit:e.handleSubmit,children:[(0,et.jsx)("h1",{className:"font-bold text-[32px] text-center text-title",children:"FORGOT PASSWORD"}),""!==n?(0,et.jsx)("div",{className:"my-4 px-4 py-3 bg-[#8BC34A] rounded text-center",children:(0,et.jsx)("p",{className:"font-bold text-xl",children:"Check your email for further instructions"})}):(0,et.jsx)(et.Fragment,{}),(0,et.jsxs)("form",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"email",className:"text-sm mb-1 tablet:text-xl",children:"Email"}),(0,et.jsx)(mp,{id:"email",name:"email",type:"text",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(e.errors.email&&e.touched.email?"border-error":"")}),(0,et.jsx)(Ep,{name:"email",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsx)("button",{className:"btn btn-primary w-full text-lg",type:"submit",children:"Reset password"}),(0,et.jsx)("span",{className:"block mt-3 mb-2 text-center font-medium text-lg hover:opacity-80",children:(0,et.jsx)(Qe,{to:"/login",children:"Login"})}),(0,et.jsxs)("div",{className:"text-center text-lg hover:opacity-80",children:["Don't have an account?",(0,et.jsx)(Qe,{to:"/register",children:(0,et.jsx)("span",{className:"font-medium",children:" Signup"})})]})]})}})})})})})},XR=function(){var e=zt(),t=we(),n=Ee().token;Gt((function(e){return e.authSlice.isLogin}))&&t("/"),void 0===n&&t("/");return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsx)("div",{className:"flex items-center justify-center mt-[100px] py-10",children:(0,et.jsx)("div",{className:"bg-primary m-4 rounded-xl shadow-lg",children:(0,et.jsx)(cp,{initialValues:{password:"",confirmPassword:"",token:""},onSubmit:function(r){var i=Qn(Qn({},r),{},{token:n});e(Bs(i)).then((function(e){200===e.payload.status_code?(zu.success(e.payload.message),t("/login")):zu.error(e.payload.message)}))},validationSchema:GR,children:function(e){return(0,et.jsxs)(gp,{className:"p-4",onSubmit:e.handleSubmit,children:[(0,et.jsx)("h1",{className:"font-bold text-[32px] text-center text-title",children:"RESET PASSWORD"}),(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"password",className:"text-sm mb-1 tablet:text-xl",children:"Password"}),(0,et.jsx)(mp,{id:"password",name:"password",type:"password",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-lg ".concat(e.errors.password&&e.touched.password?"border-error":"")}),(0,et.jsx)(Ep,{name:"password",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm mb-1 tablet:text-xl",children:"Confirm Password"}),(0,et.jsx)(mp,{id:"confirmPassword",name:"confirmPassword",type:"password",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-lg ".concat(e.errors.confirmPassword&&e.touched.confirmPassword?"border-error":"")}),(0,et.jsx)(Ep,{name:"confirmPassword",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsx)("button",{type:"submit",className:"btn btn-primary w-full text-lg",children:"Submit"})]})}})})})})})},QR=["image/jpg","image/jpeg","image/gif","image/png"],ZR=Mm({categories:jm().min(1,us.t("errorMessages.categoriesIsRequired")).max(4,us.t("errorMessages.categoriesMaxAllowed")),title:Em().trim().required(us.t("errorMessages.titleIsRequired")),summary:Em().trim().required(us.t("errorMessages.summaryIsRequired")),description:Em().trim().required(us.t("errorMessages.descriptionIsRequired"))}),JR=Mm({thumbnail:mm().nullable().required(us.t("errorMessages.thumbnailIsRequired")).test("fileFormat",us.t("errorMessages.fileIsNotSupport"),(function(e){return e&&QR.includes(e.type)})).test("fileSize",us.t("errorMessages.thumbnailTooBig"),(function(e){return e&&e.size<=4194304})),categories:jm().min(1,us.t("errorMessages.categoriesIsRequired")).max(4,us.t("errorMessages.categoriesMaxAllowed")),title:Em().trim().required(us.t("errorMessages.titleIsRequired")),summary:Em().trim().required(us.t("errorMessages.summaryIsRequired")),description:Em().trim().required(us.t("errorMessages.descriptionIsRequired"))}),eP=n(333),tP=n.n(eP),nP=function(e,t,n){if(e&&e.type.includes("image/")){var r=new FileReader;return r.onload=function(e){var n;t.current&&(t.current.src=null===(n=e.target)||void 0===n?void 0:n.result)},void r.readAsDataURL(e)}t.current&&n?t.current.src=n:t.current&&(t.current.src="")},rP={control:function(e){return Qn(Qn({},e),{},{position:"static",transform:"none",borderRadius:"0.25rem",padding:"10px",boxShadow:""})},option:function(e){return Qn({},e)},menu:function(e){return Qn(Qn({},e),{},{borderRadius:"0.25rem",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.1)"})}},iP=function(){var e,t=zt(),n=u((0,r.useState)(null),2),i=n[0],a=n[1],o=Gt((function(e){return e.courseSlice.isLoading})),s=Gt((function(e){return e.fileStorageSlice.isLoading})),l=null!==(e=Gt((function(e){return e.courseSlice.categories})))&&void 0!==e?e:[],c=(0,r.useRef)(null),d=(0,r.useRef)(null),f=we(),h=[],p=[{value:1,label:"Completed"},{value:0,label:"Uncomplete"}];(0,r.useEffect)((function(){l.forEach((function(e){var t={value:e.id,label:e.title};h.push(t)}))}),[l,h]),(0,r.useEffect)((function(){t(ol()),t(gl()),a(null)}),[t]);var m={title:"",categories:[],status:0,summary:"",description:"",thumbnail:""},g=function(){var e=Wt(qt().mark((function e(n){var r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FormData).set("thumbnail",i),r.set("upload_preset","Freshemy"),t(xl(r)).then((function(e){if(e.payload&&201===e.payload.status_code){var r,i=tP()(n.title.toLowerCase()),a=n.categories.map((function(e){return e.value})),o=Qn(Qn({},n),{},{slug:i,categories:a,thumbnail:null===(r=e.payload.data)||void 0===r?void 0:r.url});t(al(o)).then((function(e){var t;e.payload&&201===e.payload.status_code?(zu.success(e.payload.message),f("/my-courses")):zu.error(null===(t=e.payload)||void 0===t?void 0:t.message)}))}else{var s;zu.error(null===(s=e.payload)||void 0===s?void 0:s.message)}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(qu,{}),(0,et.jsxs)("div",{className:"min-h-screen h-full px-4 tablet:px-[60px]",children:[(0,et.jsx)("h1",{className:"text-center text-[32px] py-4 font-bold text-title",children:"CREATE COURSE"}),(0,et.jsx)("div",{className:"w-full flex justify-center items-center shrink-0",children:(0,et.jsx)("div",{className:"m-4 rounded-xl border border-black w-full max-w-[982px] bg-background",children:(0,et.jsx)(cp,{initialValues:m,validationSchema:JR,onSubmit:g,innerRef:c,children:function(e){return(0,et.jsxs)("form",{onSubmit:e.handleSubmit,className:"p-4",children:[(0,et.jsx)("div",{className:"flex",children:(0,et.jsxs)("div",{className:"flex rounded-lg items-start",children:[(0,et.jsx)("img",{ref:d,alt:"Thumbnail",className:"w-32 h-32 rounded-lg mr-3 outline-none border border-dashed border-black tablet:w-60 tablet:h-60"}),(0,et.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,et.jsxs)("div",{className:"",children:[(0,et.jsx)("p",{className:"text-lg font-medium",children:"Upload thumbnail"}),(0,et.jsx)("p",{className:"italic",children:"Size of the image is less than 4MB"})]}),(0,et.jsx)(mp,{name:"thumbnail",type:"file",value:void 0,className:"file-input file-input-bordered file-input-primary w-full max-w-xs",onChange:function(t){e.setFieldValue("thumbnail",t.currentTarget.files[0]),e.setFieldError("thumbnail",void 0),function(e){a(e.currentTarget.files[0]);var t=e.currentTarget.files[0];nP(t,d)}(t)}}),(0,et.jsx)(Ep,{name:"thumbnail",component:"span",className:"text-[14px] text-error font-medium"})]})]})}),(0,et.jsxs)("div",{className:"flex flex-row gap-4 my-3",children:[(0,et.jsxs)("div",{className:"flex-1 flex flex-col gap-3",children:[(0,et.jsxs)("div",{className:"flex flex-col",children:[(0,et.jsx)("label",{htmlFor:"title",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Title"}),(0,et.jsx)(mp,{type:"text",name:"title",className:"".concat(e.errors.title&&e.touched.title?"border-error":""," px-2 py-4 rounded-lg border-[1px] outline-none max-w-lg")}),(0,et.jsx)(Ep,{name:"title",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{htmlFor:"title",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Categories"}),(0,et.jsx)("div",{className:"".concat(e.errors.categories&&e.touched.categories?"border-error":""," border-[1px]"),children:(0,et.jsx)(mp,{name:"categories",component:Ik,handleOnchange:function(t){return function(e,t){t.setFieldValue("categories",e)}(t,e)},options:h,isMulti:!0,defautlValues:"",styles:rP})}),(0,et.jsx)(Ep,{name:"categories",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{htmlFor:"title",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Status"}),(0,et.jsx)(mp,{className:"custom-select",name:"status",component:Ik,handleOnchange:function(t){return function(e,t){0===e.value?t.setFieldValue("status",!1):t.setFieldValue("status",!0)}(t,e)},options:p,isMulti:!1,placeholder:"Uncompleted",styles:rP}),(0,et.jsx)(Ep,{name:"status",component:"span",className:"text-[14px] text-error font-medium"})]})]}),(0,et.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,et.jsx)("label",{htmlFor:"description",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Description"}),(0,et.jsx)(mp,{as:"textarea",name:"description",placeholder:"Description about your course...",className:"".concat(e.errors.description&&e.touched.description?"border-error":""," flex-1 w-full resize-none rounded-md border border-[#e0e0e0] py-3 px-4  outline-none focus:shadow-md1")}),(0,et.jsx)(Ep,{name:"description",component:"span",className:"text-[14px] text-error font-medium"})]})]}),(0,et.jsxs)("div",{className:"sumary mt-4",children:[(0,et.jsx)("label",{htmlFor:"summary",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Summary"}),(0,et.jsx)(mp,{type:"text",name:"summary",className:"".concat(e.errors.summary&&e.touched.summary?"border-error":""," w-full h-[68px] rounded-[8px] px-[8px] border-[1px] outline-none")}),(0,et.jsx)(Ep,{name:"summary",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"py-[12px] flex justify-end",children:[(0,et.jsxs)("button",{disabled:!(!o&&!s),type:"submit",className:"btn btn-primary text-lg",children:[o||s?(0,et.jsx)("span",{className:"loading loading-spinner"}):"",o||s?"Loading...":"Save"]}),(0,et.jsx)("button",{type:"button",className:"btn text-lg ml-2",disabled:o||s,onClick:function(){e.resetForm(m)},children:(0,et.jsx)(Qe,{to:"/my-courses",children:"Cancel"})})]})]})}})})})]})]})},aP=function(){var e=zt(),t=Gt((function(e){return e.authSlice.isLogin})),n=Gt((function(e){return e.authSlice.isLoading})),i=Gt((function(e){return e.authSlice.error})),a=Gt((function(e){return e.authSlice.message})),o=(0,r.useRef)(null);if(t)return(0,et.jsx)(Fe,{to:"/"});var s=function(){var t=Wt(qt().mark((function t(n){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(js(n)).then((function(e){200===e.payload.status_code?zu.success(e.payload.message):zu.error(e.payload.message)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){i="",a=""};return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsxs)("div",{className:"flex items-center justify-center mt-[100px] py-10",children:[(0,et.jsx)("div",{className:"bg-primary m-4 rounded-xl shadow-lg",children:(0,et.jsx)(cp,{initialValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:""},validationSchema:qR,onSubmit:s,innerRef:o,children:function(e){return(0,et.jsxs)(gp,{onSubmit:e.handleSubmit,className:"p-4",onChange:l,children:[(0,et.jsx)("h1",{className:"font-bold text-[32px] text-center text-title",children:"SIGN UP"}),(0,et.jsxs)("div",{className:"flex flex-col gap-3 mb-3 tablet:flex-row",children:[(0,et.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,et.jsx)("label",{htmlFor:"first_name",className:"text-sm mb-1 tablet:text-xl",children:"First Name"}),(0,et.jsx)(mp,{type:"text",name:"first_name",className:"".concat(e.errors.first_name&&e.touched.first_name?"border-error":""," px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm")}),(0,et.jsx)(Ep,{name:"first_name",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,et.jsx)("label",{htmlFor:"last_name",className:"text-sm mb-1 tablet:text-xl",children:"Last Name"}),(0,et.jsx)(mp,{type:"text",name:"last_name",className:"".concat(e.errors.last_name&&e.touched.last_name?"border-error":""," px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm")}),(0,et.jsx)(Ep,{name:"last_name",component:"span",className:"text-[14px] text-error font-medium"})]})]}),(0,et.jsxs)("div",{className:"mb-3",children:[(0,et.jsx)("label",{htmlFor:"email",className:"text-sm block mb-1 tablet:text-xl",children:"Email"}),(0,et.jsx)(mp,{type:"text",name:"email",className:"".concat(e.errors.email&&e.touched.email?"border-error":""," px-2 py-4 rounded-lg border-[1px] outline-none w-full")}),(0,et.jsx)(Ep,{name:"email",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"mb-3",children:[(0,et.jsx)("label",{htmlFor:"password",className:"text-sm block mb-1 tablet:text-xl",children:"Password"}),(0,et.jsx)(mp,{type:"password",name:"password",className:"".concat(e.errors.password&&e.touched.password?"border-error":""," px-2 py-4 rounded-lg border-[1px] outline-none w-full")}),(0,et.jsx)(Ep,{name:"password",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"mb-3",children:[(0,et.jsx)("label",{htmlFor:"confirm_password",className:"text-sm block mb-1 tablet:text-xl",children:"Confirm Password"}),(0,et.jsx)(mp,{type:"password",name:"confirm_password",className:"".concat(e.errors.confirm_password&&e.touched.confirm_password?"border-error":""," px-2 py-4 rounded-lg border-[1px] outline-none w-full")}),(0,et.jsx)(Ep,{name:"confirm_password",component:"span",className:"text-[14px] text-error font-medium"}),""!==i&&(0,et.jsx)("span",{className:"text-[14px] text-error font-medium",children:i}),""!==a&&(0,et.jsx)("span",{className:"text-[14px] text-success font-medium",children:a})]}),(0,et.jsx)("div",{className:"py-[12px]",children:(0,et.jsxs)("button",{disabled:""!==i,type:"submit",className:"btn btn-primary w-full text-lg",children:[n&&(0,et.jsx)("span",{className:"loading loading-spinner"}),n?"Loading...":"Create Account"]})}),(0,et.jsx)("div",{className:"text-center space-y-[8px]",children:(0,et.jsxs)("p",{className:"block mt-3 mb-2 text-center text-lg",children:["Already have an account?",(0,et.jsx)("span",{className:"font-medium hover:opacity-80",children:(0,et.jsx)(Qe,{to:"/login",children:" Login"})})]})})]})}})}),(0,et.jsx)("div",{className:"hidden laptop:block transition ease-in-out hover:scale-110 duration-200",children:(0,et.jsx)("img",{src:VR,alt:"Freshemy"})})]})})})},oP=function(){return zr.get("accessToken")?(0,et.jsx)(je,{}):(0,et.jsx)(Fe,{to:"/"})},sP=function(){var e,t,n=Gt((function(e){return e.authSlice.isLogin})),i=zt(),a=Ee().token;(0,r.useEffect)((function(){i(Vs(a))}),[a,i]);var o=null!==(e=Gt((function(e){return e.authSlice.error})))&&void 0!==e?e:"",s=null!==(t=Gt((function(e){return e.authSlice.message})))&&void 0!==t?t:"";return n?(0,et.jsx)(Fe,{to:"/"}):(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"mt-[100px] h-screen flex items-center justify-center space-x-[1rem]",children:[""===o&&""===s&&(0,et.jsx)("h3",{className:"text-3xl text-switch",children:"Verification in progress..."}),""!==o&&(0,et.jsxs)("h3",{className:"text-3xl text-error",children:[o," ",(0,et.jsx)("br",{})," ",(0,et.jsx)("span",{children:(0,et.jsx)(Qe,{to:"/",className:"text-xl text-switch underline",children:"Back"})})]}),""!==s&&(0,et.jsxs)("h3",{className:"text-3xl text-success",children:[s,(0,et.jsx)("br",{})," ",(0,et.jsx)("span",{children:(0,et.jsx)(Qe,{to:"/login",className:"text-xl text-switch underline",children:"Back"})})]}),(0,et.jsx)("div",{className:"hidden tablet:block",children:(0,et.jsx)("img",{src:VR,alt:"Login img"})})]})})},lP=function(){return(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{className:"h-[calc(100vh-100px)] flex items-center flex-col space-y-[10px] justify-center",children:[(0,et.jsx)("h1",{className:"text-4xl text-error",children:"404 NOT FOUND"}),(0,et.jsx)(Qe,{to:"/",className:"text-switch text-xl underline",children:"Back to Home"})]})})},uP=function(){var e,t,n=u((0,r.useState)(""),2),i=n[0],a=n[1],o=u((0,r.useState)(""),2),s=o[0],l=o[1],c=u((0,r.useState)(1),2),d=c[0],f=c[1],h=u((0,r.useState)(!1),2),p=h[0],m=h[1],g=u((0,r.useState)(-1),2),v=g[0],y=g[1],b=r.useRef(null),k=zt(),w=we(),x=null!==(e=Gt((function(e){return e.courseSlice.courses})))&&void 0!==e?e:[],E=null!==(t=Gt((function(e){return e.courseSlice.totalPage})))&&void 0!==t?t:1,S=Gt((function(e){return e.courseSlice.isGetLoading}));(0,r.useEffect)((function(){k(sl({pageIndex:d,keyword:s}))}),[k,s,d]);var T=function(){b.current&&b.current.focus(),l(i)},C=function(e){w("/my-courses/edit/".concat(e))},L=function(e){y(e),m(!0)};return(0,et.jsxs)(et.Fragment,{children:[S&&(0,et.jsx)(Dk,{}),(0,et.jsx)(qu,{}),(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsxs)("div",{className:"px-4 tablet:px-[60px]",children:[(0,et.jsx)("h1",{className:"text-center text-[32px] py-4 font-bold text-title",children:"MY COURSE"}),(0,et.jsxs)("div",{className:"w-full flex flex-col gap-4 justify-between shrink-0 tablet:flex-row",children:[(0,et.jsx)("div",{className:"flex-1",children:(0,et.jsxs)("div",{className:"relative",children:[(0,et.jsx)("input",{ref:b,type:"text",placeholder:"Search for anything",className:"rounded-full py-4 px-10 w-full tablet:w-[70%] border-[1px] border-black",value:i,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&T()}}),(0,et.jsx)("div",{className:"cursor-pointer",onClick:T,children:(0,et.jsx)(Tl,{})})]})}),(0,et.jsxs)("div",{className:"flex-3 flex btn btn-primary text-lg",children:[(0,et.jsx)(FR,{}),(0,et.jsx)(Qe,{to:"/create-course",children:"Create New"})]})]}),x.map((function(e){return(0,et.jsx)(st,{id:e.id,thumbnail:e.thumbnail,slug:e.slug,title:e.title,summary:e.summary,author:e.author,handleDeleteCourse:L,handleEditCourse:C},e.id)})),(0,et.jsx)("div",{className:"flex justify-end my-4",children:(0,et.jsx)(Ku,{handleChangePageIndex:function(e){f(e<1?E:e>E?1:e)},totalPage:E,currentPage:d})})]})}),p&&(0,et.jsx)(ut,{handleDelete:function(){k(cl(v)).then((function(e){200===e.payload.status_code?(k(vl(v)),zu.success(e.payload.message)):zu.error(e.payload.message)})),m(!1)},handleCancel:function(){m(!p)}})]})},cP={control:function(e){return Qn(Qn({},e),{},{position:"static",transform:"none",borderRadius:"0.25rem",padding:"10px",boxShadow:""})},option:function(e){return Qn({},e)},menu:function(e){return Qn(Qn({},e),{},{borderRadius:"0.25rem",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.1)"})}},dP=function(){var e=u((0,r.useState)(!1),2),t=e[0],n=e[1],i=u((0,r.useState)(!1),2),a=i[0],o=i[1],s=u((0,r.useState)(!1),2),l=s[0],c=s[1],f=u((0,r.useState)(!1),2),h=f[0],p=f[1],m=u((0,r.useState)(""),2),g=m[0],v=m[1],y=u((0,r.useState)(-1),2),b=y[0],k=y[1],w=u((0,r.useState)(""),2),x=w[0],E=w[1],S=u((0,r.useState)(null),2),T=S[0],C=S[1],L=Gt((function(e){return e.courseSlice.categories})),A=u((0,r.useState)(L),2),R=A[0],P=A[1],O=Gt((function(e){return e.courseSlice.selectCategories})),_=Gt((function(e){return e.sectionSlice.sectionList})),I=Gt((function(e){return e.courseSlice.courseChangeDetail})),D=Gt((function(e){return e.courseSlice.isLoading})),N=Gt((function(e){return e.courseSlice.isGetLoading})),M=Gt((function(e){return e.fileStorageSlice.isLoading})),F=(0,r.useRef)(null),j=we(),U=Ee().course_id,B=[];O.forEach((function(e){var t={value:e.id,label:e.title};B.push(t)}));var V={title:I.title,summary:I.summary,categories:B,status:I.status,description:I.description,id:Number(U),slug:I.slug},H=I.status?"Completed":"Uncomplete",z=zt(),G=[{value:1,label:"Completed"},{value:0,label:"Uncomplete"}];(0,r.useEffect)((function(){z(ol()),z(ul(U)),z(Qs(U))}),[z,U]),(0,r.useEffect)((function(){var e=d(O),t=d(L),n=[];e.forEach((function(e){var n=t.findIndex((function(t){return t.id===e.id}));n>=0&&t.splice(n,1)})),t.forEach((function(e){var t={value:e.id,label:e.title};n.push(t)})),P(n)}),[O]);var q=function(e){k(e),n(!t)},K=function(e){k(e),c(!l)},W=function(){z(Xs(b)).then((function(e){200===e.payload.status_code?(zu.success(e.payload.message),z(el(b))):zu.error(e.payload.message)})),n(!t)},Y=function(e,t){k(e),E(t),o(!a)};return(0,et.jsx)(et.Fragment,{children:!0!==N&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(qu,{}),(0,et.jsxs)("div",{className:"min-h-screen h-full px-4 tablet:px-[60px]",children:[(0,et.jsxs)("div",{className:"flex-1 p-4 laptop:flex laptop:gap-4",children:[(0,et.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4 laptop:items-start laptop:justify-start",children:[(0,et.jsx)("div",{className:"",children:(0,et.jsx)("img",{ref:F,src:"".concat(I.thumbnail),alt:I.title,className:"w-60 h-60 rounded-lg outline-none border border-dashed border-black tablet:w-80 tablet:h-80 laptop:h-96 laptop:w-96"})}),(0,et.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,et.jsxs)("div",{className:"text-center tablet:text-start",children:[(0,et.jsx)("p",{className:"text-lg font-medium",children:"Upload thumbnail"}),(0,et.jsx)("p",{className:"".concat(h?"text-red-500":"","  italic"),children:"Size of the image is less than 4MB"})]}),(0,et.jsx)("input",{name:"thumbnail",type:"file",accept:".png, .jpg",className:"file-input file-input-bordered file-input-primary w-full max-w-xs",onChange:function(e){!function(e){if(e.currentTarget.files[0]&&e.currentTarget.files[0].size>4194304)p(!0);else{p(!1),C(e.currentTarget.files[0]);var t=e.currentTarget.files[0];nP(t,F,I.thumbnail)}}(e)}})]})]}),(0,et.jsx)(cp,{initialValues:V,validationSchema:ZR,onSubmit:function(e){var t=e.categories.map((function(e){return e.value})),n=Qn(Qn({},e),{},{categories:t,slug:tP()(e.title)});if(T&&!h){var r=new FormData;r.set("thumbnail",T),r.set("upload_preset","Freshemy"),z(xl(r)).then((function(e){if(201===e.payload.status_code){var t=Qn(Qn({},n),{},{thumbnail:e.payload.data.url});z(fl(t)).then((function(e){200===e.payload.status_code?(zu.success(e.payload.message),z(ul(U))):zu.error(e.payload.message)})),nP(T,F)}else zu.error(e.payload.message)}))}else z(fl(n)).then((function(e){200===e.payload.status_code?(zu.success(e.payload.message),z(ul(U))):zu.error(e.payload.message)}))},children:function(e){return(0,et.jsxs)("form",{onSubmit:e.handleSubmit,className:"mt-4 laptop:mt-0 flex-1 flex flex-col border border-dashed border-black rounded-lg p-4 bg-background shadow-lg",children:[(0,et.jsxs)("div",{className:"flex flex-col gap-2 shrink-0 mb-2 tablet:flex-row tablet:gap-0",children:[(0,et.jsxs)("div",{className:"flex-1 flex flex-col tablet:mr-8",children:[(0,et.jsx)("label",{htmlFor:"title",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Title"}),(0,et.jsx)(mp,{id:"title",name:"title",type:"text",className:"px-2 py-4 rounded-lg border-[1px] outline-none w-full  ".concat(e.errors.title&&e.touched.title?"border-error":"")}),(0,et.jsx)(Ep,{name:"title",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,et.jsx)("label",{htmlFor:"summary",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Summary"}),(0,et.jsx)(mp,{id:"summary",name:"summary",type:"text",className:"px-2 py-4 rounded-lg border-[1px] outline-none w-full ".concat(e.errors.summary&&e.touched.summary?"border-error":"")}),(0,et.jsx)(Ep,{name:"summary",component:"span",className:"text-[14px] text-error font-medium"})]})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{htmlFor:"title",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Categories"}),(0,et.jsx)("div",{className:"".concat(e.errors.categories&&e.touched.categories?"border-error":""),children:(0,et.jsx)(mp,{name:"categories",component:Ik,handleOnchange:function(t){return function(e,t){var n=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(L)),i=[];n.forEach((function(e){var t=r.findIndex((function(t){return t.id===e.value}));t>=0&&r.splice(t,1)})),r.forEach((function(e){var t={value:e.id,label:e.title};i.push(t)})),P(i),t.setFieldValue("categories",e)}(t,e)},options:R,isMulti:!0,defautlValues:B,styles:cP})}),(0,et.jsx)(Ep,{name:"categories",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{children:[(0,et.jsx)("label",{htmlFor:"status",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Status"}),(0,et.jsx)(mp,{className:"w-full",name:"status",component:Ik,handleOnchange:function(t){return function(e,t){0===e.value?t.setFieldValue("status",!1):t.setFieldValue("status",!0)}(t,e)},options:G,isMulti:!1,placeholder:"".concat(H),styles:cP}),(0,et.jsx)(Ep,{name:"status",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,et.jsx)("label",{htmlFor:"description",className:"text-sm mb-1 font-medium tablet:text-xl",children:"Description"}),(0,et.jsx)(mp,{id:"description",as:"textarea",name:"description",type:"text",className:"flex-1 w-full resize-none rounded-md border border-[#e0e0e0] py-3 px-4  outline-none ".concat(e.errors.description&&e.touched.description?"border-error":"")}),(0,et.jsx)(Ep,{name:"description",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,et.jsxs)("button",{className:"btn btn-primary text-lg",type:"submit",disabled:!(!D&&!M),children:[D||M?(0,et.jsx)("span",{className:"loading loading-spinner"}):"",D||M?"Loading...":"Save"]}),(0,et.jsx)("button",{className:"btn text-lg ml-2",type:"submit",onClick:function(){return j("/my-courses")},disabled:!(!D&&!M),children:"Cancel"})]})]})}})]}),(0,et.jsxs)("div",{className:"flex-1 p-4 flex flex-col border border-dashed border-black rounded-lg m-4",children:[(0,et.jsxs)("div",{className:"flex flex-col gap-4 tablet:flex-row tablet:justify-between",children:[(0,et.jsx)("input",{type:"text",className:"px-2 py-2 rounded-lg border-[1px] outline-none flex-1 max-w-2xl",placeholder:"Name's section",value:g,onChange:function(e){v(e.target.value)}}),(0,et.jsx)("button",{className:"btn btn-primary text-lg flex-2",onClick:function(){var e={course_id:Number(U),title:g};z(Ys(e)).then((function(e){201===e.payload.status_code?(zu.success(e.payload.message),z(Qs(U))):zu.error(e.payload.message)}))},children:"Add section"})]}),(0,et.jsx)("div",{className:"mt-2",children:_.length<=0?(0,et.jsx)("h1",{className:"text-center text-2xl text-error",children:"There are no sections yet!"}):_.map((function(e,t){return(0,et.jsx)(it,{section:e,handleDeleteSection:W,handleDisplayEditModal:Y,handleDisplayDeleteModal:q,handleDisplayAddSectionModal:K,isDisplayBtn:!0},t)}))})]})]}),t&&(0,et.jsx)(ut,{handleDelete:W,handleCancel:function(){n(!t)}}),a&&(0,et.jsx)("div",{className:"fixed z-50 w-full h-full top-0 bottom-0 bg-black/50 flex justify-center items-center shadow-lg",children:(0,et.jsxs)("div",{className:"bg-[#F8FFF8] p-4 w-[400px] flex flex-col items-center justify-center rounded-lg ",children:[(0,et.jsx)("h1",{className:"text-3xl mb-1 font-bold text-center text-title",children:"EDIT SECTION"}),(0,et.jsxs)("form",{className:"flex flex-col gap-1 w-full",children:[(0,et.jsx)("div",{className:"text-sm mb-1 tablet:text-xl font-medium",children:"Section title"}),(0,et.jsx)("input",{type:"text",value:x,className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-lg",onChange:function(e){return E(e.target.value)}})]}),(0,et.jsxs)("div",{className:"mt-2 flex justify-end w-full",children:[(0,et.jsx)("button",{className:"btn btn-primary text-lg",onClick:function(){return z($s({id:e=b,title:t=x})).then((function(n){200===n.payload.status_code?(zu.success(n.payload.message),z(tl({id:e,title:t}))):zu.error(n.payload.message)})),void o(!a);var e,t},children:"Save"}),(0,et.jsx)("button",{className:"btn text-lg ml-2",onClick:function(){return o(!a)},children:"Cancel"})]})]})}),l&&(0,et.jsx)(Hm,{handleDelete:W,handleCancel:function(){c(!l)},id:b})]})})},fP=function(){var e,t,n,i=Ee().slug,a=zt(),o=u((0,r.useState)(!1),2),s=o[0],l=o[1],c=u((0,r.useState)(!1),2),d=c[0],f=c[1],h=u((0,r.useState)(-1),2),p=h[0],m=h[1],g=we(),v=null!==(e=Gt((function(e){return e.courseSlice.courseDetail})))&&void 0!==e?e:{};return(0,r.useEffect)((function(){a(ll(i)).then((function(e){e.payload&&200!==e.payload.status_code&&f(!0)}))}),[a,i,d]),d?(0,et.jsx)(lP,{}):(0,et.jsxs)(et.Fragment,{children:[s&&(0,et.jsx)(ut,{handleDelete:function(){a(cl(p)).then((function(e){e.payload&&(200===e.payload.status_code?(zu.success(e.payload.message),g("/my-courses")):zu.error(e.payload.message))})),l(!s)},handleCancel:function(){l(!s)}}),(0,et.jsx)(qu,{}),(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsx)("div",{className:"min-h-screen h-full px-4 tablet:px-[60px]",children:(0,et.jsxs)("div",{className:"mt-4 container mx-auto p-4",children:[(0,et.jsxs)("div",{className:"flex flex-col gap-4 laptop:flex-row shadow-xl bg-primary rounded-lg",children:[(0,et.jsx)("div",{className:" flex-1 w-full laptop:max-w-[600px] max-h-[400px] bg-gray-600 rounded-lg",children:(0,et.jsx)("img",{src:v.thumbnail,alt:v.title,className:"h-[300px] w-full m-auto rounded-lg tablet:h-[400px] object-cover"})}),(0,et.jsxs)("div",{className:" flex-1 object-right flex flex-col gap-4 px-3 pb-3 laptop:pt-3",children:[(0,et.jsxs)("div",{className:"flex-1",children:[(0,et.jsx)("h2",{className:"text-2xl laptop:text-3xl font-bold text-title mb-3",children:v.title}),(0,et.jsx)("p",{className:"text-xl laptop:text-2xl font-medium italic mb-3",children:v.summary}),(0,et.jsxs)("div",{className:" mb-3",children:[(0,et.jsx)("span",{className:"text-xl laptop:text-2xl font-bold",children:"Author: "}),(0,et.jsxs)(Qe,{to:"/profile/:userID",className:"text-xl laptop:text-2xl underline font-medium text-blue-600",children:[null===(t=v.author)||void 0===t?void 0:t.first_name,(0,et.jsxs)("span",{children:[" ",null===(n=v.author)||void 0===n?void 0:n.last_name," "]})]})]}),(0,et.jsxs)("div",{className:"flex items-center text-xl laptop:text-3xl font-medium mb-3",children:[(0,et.jsx)("span",{className:"text-xl laptop:text-2xl font-bold mr-2",children:"Ratings:"}),(0,et.jsxs)("div",{className:"rating rating-lg rating-half",children:[(0,et.jsx)("input",{type:"radio",name:"rating-10",className:"rating-hidden"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-1"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-2"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-1"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-2"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-1"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-2"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-1"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-2"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-1"}),(0,et.jsx)("input",{type:"radio",name:"rating-10",disabled:!0,className:"bg-yellow-300 mask-star-2 mask-half-2",checked:!0})]}),(0,et.jsx)("p",{className:"italic text-xl laptop:text-2xl ml-2 ",children:v.ratings})]}),(0,et.jsxs)("div",{className:"flex items-center text-xl laptop:text-2xl font-bold",children:[(0,et.jsx)("span",{className:"mr-2",children:"Status:"}),(0,et.jsx)("p",{className:"font-normal",children:!1===v.status?"Uncomplete":" Completed"})]})]}),(0,et.jsxs)("div",{className:"flex gap-2",children:[(0,et.jsxs)("button",{className:"btn btn-primary text-lg",children:[(0,et.jsx)(ot,{color:"#ffffff"}),(0,et.jsx)(Qe,{to:"/my-courses/edit/".concat(v.id),children:(0,et.jsx)("span",{children:"Edit"})})]}),(0,et.jsxs)("button",{className:"btn btn-error text-lg",onClick:function(){l(!s),m(v.id)},children:[(0,et.jsx)(nt,{color:"#000000"}),(0,et.jsx)("span",{children:"Delete"})]})]})]})]}),(0,et.jsxs)("div",{children:[(0,et.jsxs)("div",{className:"description my-4",children:[(0,et.jsx)("h2",{className:"text-xl tablet:text-3xl font-bold mb-3",children:"Description"}),(0,et.jsx)("span",{className:"w-[60px] h-1 bg-black block"}),(0,et.jsx)("p",{className:"mt-2 text-[20px]",children:v.description})]}),(0,et.jsxs)("div",{className:"table-of-content my-4",children:[(0,et.jsx)("h2",{className:"text-xl tablet:text-3xl font-bold mb-3",children:"Table of Content"}),(0,et.jsx)("span",{className:"w-[60px] h-1 bg-black block mb-4"}),v.sections.map((function(e,t){return(0,et.jsx)(it,{isDisplayBtn:!1,section:e},t)}))]})]})]})})})]})},hP=function(){var e=u((0,r.useState)(!1),2),t=e[0],n=e[1],i=u((0,r.useState)(!1),1)[0],a=u((0,r.useState)(""),2),o=a[0],s=a[1],l=function(e){s(e)},c=Gt((function(e){return e.courseSlice.isLoading})),d=Gt((function(e){return e.courseSlice.courseDetail})),f=zt(),h=Ee().slug;return(0,r.useEffect)((function(){f(ll(h)).then((function(e){200!==e.payload.status_code&&n(!0)}))}),[f,h]),t?(0,et.jsx)(lP,{}):(0,et.jsxs)(et.Fragment,{children:[c&&(0,et.jsx)(Dk,{}),(0,et.jsxs)("div",{className:"container mx-auto mt-[100px] mb-[100px]",children:[(0,et.jsx)("div",{className:"mt-[16px]",children:(0,et.jsxs)("div",{className:"w-full h-[130px] p-[16px] bg-backgroundHover rounded-[8px]",children:[(0,et.jsx)("h2",{className:"text-black text-[24px] laptop:text-[32px] ",children:d.title}),(0,et.jsxs)("h3",{className:" text-[16px] laptop:text-[26px]",children:["Author:"," ",(0,et.jsx)(Qe,{to:"/",children:(0,et.jsxs)("span",{className:"underline",children:[d.author.first_name," ",d.author.last_name]})})]})]})}),(0,et.jsx)("div",{className:"mt-[32px]",children:(0,et.jsxs)("div",{className:"laptop:flex justify-center space-x-2",children:[(0,et.jsx)(TR,{sourse:o}),(0,et.jsx)("div",{className:"flex-2 w-full mt-[-8px] laptop:w-[540px] laptop:max-h-[480px] laptop:mt-0 laptop:overflow-y-auto",children:d.sections.map((function(e){return(0,et.jsx)(it,{source:o,handleChangeSourceVideo:l,isDisplayBtn:i,section:e})}))})]})})]})]})},pP={first_name:"",last_name:"",email:"",password:"",description:""},mP=function(){},gP=function(){var e=u((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(qu,{}),(0,et.jsx)("div",{className:"container mx-auto",children:(0,et.jsxs)("div",{className:"px-4 tablet:px-[60px]",children:[(0,et.jsx)("h1",{className:"text-center text-[32px] py-4 font-bold text-title",children:"MY PROFILE"}),(0,et.jsxs)("div",{className:"flex justify-center items-center",children:[(0,et.jsx)("div",{className:"hidden laptop:block",children:(0,et.jsx)("img",{src:VR,alt:"Freshemy"})}),(0,et.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,et.jsx)(cp,{initialValues:pP,onSubmit:mP,children:function(e){return(0,et.jsxs)(gp,{className:"p-4 flex items-center justify-center flex-col",onSubmit:e.handleSubmit,children:[(0,et.jsx)("div",{className:"w-32 h-32 rounded-full border",children:(0,et.jsx)("img",{src:Cl,alt:"Avatar",className:"w-full h-full object-cover rounded-full"})}),(0,et.jsxs)("div",{className:"bg-primary m-4 rounded-xl shadow-lg p-4",children:[(0,et.jsxs)("div",{className:"flex flex-col mobile:flex-row gap-2",children:[(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"firstName",className:"text-sm mb-1 tablet:text-xl",children:"First name"}),(0,et.jsx)(mp,{id:"firstName",name:"firstName",type:"text",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(e.errors.first_name&&e.touched.first_name?"border-error":"")}),(0,et.jsx)(Ep,{name:"email",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"lastName",className:"text-sm mb-1 tablet:text-xl",children:"Last name"}),(0,et.jsx)(mp,{id:"lastName",name:"lastName",type:"text",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(e.errors.last_name&&e.touched.last_name?"border-error":"")}),(0,et.jsx)(Ep,{name:"lastName",component:"span",className:"text-[14px] text-error font-medium"})]})]}),(0,et.jsxs)("div",{className:"flex flex-col mobile:flex-row gap-2",children:[(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"email",className:"text-sm mb-1 tablet:text-xl",children:"Email"}),(0,et.jsx)(mp,{id:"email",name:"email",type:"text",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(e.errors.email&&e.touched.email?"border-error":"")}),(0,et.jsx)(Ep,{name:"email",component:"span",className:"text-[14px] text-error font-medium"})]}),(0,et.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,et.jsx)("label",{htmlFor:"password",className:"text-sm mb-1 tablet:text-xl",children:"Password"}),(0,et.jsx)(mp,{id:"password",name:"password",type:"password",className:"px-2 py-4 rounded-lg border-[1px] outline-none max-w-sm ".concat(e.errors.password&&e.touched.password?"border-error":"")}),(0,et.jsx)(Ep,{name:"password",component:"span",className:"text-[14px] text-error font-medium"})]})]}),(0,et.jsxs)("div",{className:"",children:[(0,et.jsx)("label",{htmlFor:"description",className:"text-sm mb-1 tablet:text-xl",children:"About me"}),(0,et.jsx)(mp,{as:"textarea",name:"description",placeholder:"Description about your course...",className:"".concat(e.errors.description&&e.touched.description?"border-error":""," flex-1 w-full rounded-md border border-[#e0e0e0] py-4 px-4  outline-none focus:shadow-md1")}),(0,et.jsx)(Ep,{name:"description",component:"span",className:"text-[14px] text-error font-medium"})]}),t?(0,et.jsxs)("div",{className:"flex justify-end",children:[(0,et.jsx)("button",{className:"btn btn-primary text-lg",type:"submit",children:"Save"}),(0,et.jsx)("button",{className:"btn ml-2 text-lg",children:"Cancel"})]}):(0,et.jsxs)("div",{className:"flex justify-end",children:[(0,et.jsx)("button",{className:"btn btn-primary text-lg",onClick:function(){return n(!0)},children:"Edit"}),(0,et.jsx)("button",{className:"btn ml-2 btn-error text-lg",children:"Logout"})]})]})]})}})})]})]})})]})},vP=function(){return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(qu,{}),(0,et.jsxs)("div",{className:"container mx-auto px-4",children:[(0,et.jsxs)("div",{className:"px-4 tablet:px-[60px] flex gap-4 bg-primary mt-4 p-4 rounded-lg",children:[(0,et.jsx)("div",{className:"w-32 h-32 rounded-full border",children:(0,et.jsx)("img",{src:Cl,alt:"Avatar",className:"w-full h-full object-cover rounded-full"})}),(0,et.jsxs)("div",{className:"",children:[(0,et.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"D\u01b0\u01a1ng Song"}),(0,et.jsxs)("p",{className:"text-lg",children:[(0,et.jsx)("span",{className:"font-bold",children:"About me: "}),"T\xf4i b\u1ecb kute"]})]})]}),(0,et.jsxs)("div",{className:"flex justify-center items-center flex-wrap my-4 gap-4",children:[(0,et.jsx)(jR,{thumbnail:"https://noithatbinhminh.com.vn/wp-content/uploads/2022/08/anh-dep-40.jpg",title:"Kh\xf3a h\u1ecdc MYSQL d\xe0nh cho newbie 11111111111111111111111",author:"D\u01b0\u01a1ng Song",rating:5,categories:[{id:1,title:"Nodejs"},{id:2,title:"Reactjs"}]}),(0,et.jsx)(jR,{thumbnail:"https://noithatbinhminh.com.vn/wp-content/uploads/2022/08/anh-dep-40.jpg",title:"Kh\xf3a h\u1ecdc MYSQL d\xe0nh cho newbie 11111111111111111111111",author:"D\u01b0\u01a1ng Song",rating:5,categories:[{id:1,title:"Nodejs"},{id:2,title:"Reactjs"}]}),(0,et.jsx)(jR,{thumbnail:"https://noithatbinhminh.com.vn/wp-content/uploads/2022/08/anh-dep-40.jpg",title:"Kh\xf3a h\u1ecdc MYSQL d\xe0nh cho newbie 11111111111111111111111",author:"D\u01b0\u01a1ng Song",rating:5,categories:[{id:1,title:"Nodejs"},{id:2,title:"Reactjs"}]}),(0,et.jsx)(jR,{thumbnail:"https://noithatbinhminh.com.vn/wp-content/uploads/2022/08/anh-dep-40.jpg",title:"Kh\xf3a h\u1ecdc MYSQL d\xe0nh cho newbie 11111111111111111111111",author:"D\u01b0\u01a1ng Song",rating:5,categories:[{id:1,title:"Nodejs"},{id:2,title:"Reactjs"}]})]})]})]})};var yP=function(){var e,t=zt(),n=null!==(e=Gt((function(e){var t;return null===e||void 0===e||null===(t=e.authSlice)||void 0===t?void 0:t.isLogin})))&&void 0!==e&&e;return(0,r.useEffect)((function(){zr.get("accessToken")&&t(Ws())}),[t]),(0,et.jsx)(et.Fragment,{children:(0,et.jsx)(Ye,{children:(0,et.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,et.jsx)(Gu,{isLogin:n}),(0,et.jsxs)(Ve,{children:[(0,et.jsx)(Ue,{path:"/",element:(0,et.jsx)(BR,{})}),(0,et.jsxs)(Ue,{element:(0,et.jsx)(oP,{}),children:[(0,et.jsx)(Ue,{path:"/change-password",element:(0,et.jsx)(YR,{})}),(0,et.jsx)(Ue,{path:"/my-courses",element:(0,et.jsx)(uP,{})}),(0,et.jsx)(Ue,{path:"/create-course",element:(0,et.jsx)(iP,{})}),(0,et.jsx)(Ue,{path:"/my-profile",element:(0,et.jsx)(gP,{})}),(0,et.jsx)(Ue,{path:"/profile/:id",element:(0,et.jsx)(vP,{})}),(0,et.jsx)(Ue,{path:"/my-courses/edit/:course_id",element:(0,et.jsx)(dP,{})})]}),(0,et.jsx)(Ue,{path:"/course-detail/:slug",element:(0,et.jsx)(fP,{})}),(0,et.jsx)(Ue,{path:"/forgot-password",element:(0,et.jsx)($R,{})}),(0,et.jsx)(Ue,{path:"/reset-password/:token",element:(0,et.jsx)(XR,{})}),(0,et.jsx)(Ue,{path:"/login",element:(0,et.jsx)(KR,{})}),(0,et.jsx)(Ue,{path:"/register",element:(0,et.jsx)(aP,{})}),(0,et.jsx)(Ue,{path:"/verify-email/:token",element:(0,et.jsx)(sP,{})}),(0,et.jsx)(Ue,{path:"/course-detail/:slug/watch",element:(0,et.jsx)(hP,{})}),(0,et.jsx)(Ue,{path:"/*",element:(0,et.jsx)(lP,{})})]}),(0,et.jsx)(dt,{})]})})})},bP=function(e){var t,n=Ar(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,l=r.devTools,u=void 0===l||l,c=r.preloadedState,d=void 0===c?void 0:c,f=r.enhancers,h=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!Sr(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ir(a)}var p=s;"function"===typeof p&&(p=p(n));var m=or.apply(void 0,p),g=ar;u&&(g=Er(kr({trace:!1},"object"===typeof u&&u)));var v=new Cr(m),y=v;return Array.isArray(h)?y=fr([m],h):"function"===typeof h&&(y=h(v)),rr(t,d,g.apply(void 0,y))}({reducer:{authSlice:Ks,userSlice:il,sectionSlice:nl,courseSlice:yl,fileStorageSlice:El,lessonSlice:wl},middleware:function(e){return e({serializableCheck:!1})}}),kP=bP;t.createRoot(document.getElementById("root")).render((0,et.jsx)(Ft,{store:kP,children:(0,et.jsx)(yP,{})}))}()}();
//# sourceMappingURL=main.a25edbfe.js.map